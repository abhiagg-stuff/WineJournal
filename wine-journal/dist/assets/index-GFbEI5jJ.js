(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}})();function sv(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Uh={exports:{}},Bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function RT(){if(Ty)return Bl;Ty=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var p in o)p!=="key"&&(f[p]=o[p])}else f=o;return o=f.ref,{$$typeof:a,type:r,key:d,ref:o!==void 0?o:null,props:f}}return Bl.Fragment=e,Bl.jsx=i,Bl.jsxs=i,Bl}var Ay;function CT(){return Ay||(Ay=1,Uh.exports=RT()),Uh.exports}var F=CT(),Lh={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function wT(){if(Sy)return vt;Sy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function q(V){return V===null||typeof V!="object"?null:(V=N&&V[N]||V["@@iterator"],typeof V=="function"?V:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,$={};function gt(V,K,nt){this.props=V,this.context=K,this.refs=$,this.updater=nt||J}gt.prototype.isReactComponent={},gt.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},gt.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function pt(){}pt.prototype=gt.prototype;function it(V,K,nt){this.props=V,this.context=K,this.refs=$,this.updater=nt||J}var Tt=it.prototype=new pt;Tt.constructor=it,tt(Tt,gt.prototype),Tt.isPureReactComponent=!0;var Ct=Array.isArray;function _t(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function D(V,K,nt){var at=nt.ref;return{$$typeof:a,type:V,key:K,ref:at!==void 0?at:null,props:nt}}function M(V,K){return D(V.type,K,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===a}function U(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(nt){return K[nt]})}var R=/\/+/g;function $t(V,K){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):K.toString(36)}function Re(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(_t,_t):(V.status="pending",V.then(function(K){V.status==="pending"&&(V.status="fulfilled",V.value=K)},function(K){V.status==="pending"&&(V.status="rejected",V.reason=K)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,K,nt,at,mt){var bt=typeof V;(bt==="undefined"||bt==="boolean")&&(V=null);var xt=!1;if(V===null)xt=!0;else switch(bt){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(V.$$typeof){case a:case e:xt=!0;break;case A:return xt=V._init,G(xt(V._payload),K,nt,at,mt)}}if(xt)return mt=mt(V),xt=at===""?"."+$t(V,0):at,Ct(mt)?(nt="",xt!=null&&(nt=xt.replace(R,"$&/")+"/"),G(mt,K,nt,"",function(qs){return qs})):mt!=null&&(I(mt)&&(mt=M(mt,nt+(mt.key==null||V&&V.key===mt.key?"":(""+mt.key).replace(R,"$&/")+"/")+xt)),K.push(mt)),1;xt=0;var Ce=at===""?".":at+":";if(Ct(V))for(var ie=0;ie<V.length;ie++)at=V[ie],bt=Ce+$t(at,ie),xt+=G(at,K,nt,bt,mt);else if(ie=q(V),typeof ie=="function")for(V=ie.call(V),ie=0;!(at=V.next()).done;)at=at.value,bt=Ce+$t(at,ie++),xt+=G(at,K,nt,bt,mt);else if(bt==="object"){if(typeof V.then=="function")return G(Re(V),K,nt,at,mt);throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return xt}function et(V,K,nt){if(V==null)return V;var at=[],mt=0;return G(V,at,"","",function(bt){return K.call(nt,bt,mt++)}),at}function ct(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(nt){(V._status===0||V._status===-1)&&(V._status=1,V._result=nt)},function(nt){(V._status===0||V._status===-1)&&(V._status=2,V._result=nt)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var zt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ht={map:et,forEach:function(V,K,nt){et(V,function(){K.apply(this,arguments)},nt)},count:function(V){var K=0;return et(V,function(){K++}),K},toArray:function(V){return et(V,function(K){return K})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return vt.Activity=S,vt.Children=Ht,vt.Component=gt,vt.Fragment=i,vt.Profiler=o,vt.PureComponent=it,vt.StrictMode=r,vt.Suspense=v,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,vt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},vt.cache=function(V){return function(){return V.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(V,K,nt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var at=tt({},V.props),mt=V.key;if(K!=null)for(bt in K.key!==void 0&&(mt=""+K.key),K)!b.call(K,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&K.ref===void 0||(at[bt]=K[bt]);var bt=arguments.length-2;if(bt===1)at.children=nt;else if(1<bt){for(var xt=Array(bt),Ce=0;Ce<bt;Ce++)xt[Ce]=arguments[Ce+2];at.children=xt}return D(V.type,mt,at)},vt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:f,_context:V},V},vt.createElement=function(V,K,nt){var at,mt={},bt=null;if(K!=null)for(at in K.key!==void 0&&(bt=""+K.key),K)b.call(K,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(mt[at]=K[at]);var xt=arguments.length-2;if(xt===1)mt.children=nt;else if(1<xt){for(var Ce=Array(xt),ie=0;ie<xt;ie++)Ce[ie]=arguments[ie+2];mt.children=Ce}if(V&&V.defaultProps)for(at in xt=V.defaultProps,xt)mt[at]===void 0&&(mt[at]=xt[at]);return D(V,bt,mt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(V){return{$$typeof:p,render:V}},vt.isValidElement=I,vt.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:ct}},vt.memo=function(V,K){return{$$typeof:_,type:V,compare:K===void 0?null:K}},vt.startTransition=function(V){var K=C.T,nt={};C.T=nt;try{var at=V(),mt=C.S;mt!==null&&mt(nt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(_t,zt)}catch(bt){zt(bt)}finally{K!==null&&nt.types!==null&&(K.types=nt.types),C.T=K}},vt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},vt.use=function(V){return C.H.use(V)},vt.useActionState=function(V,K,nt){return C.H.useActionState(V,K,nt)},vt.useCallback=function(V,K){return C.H.useCallback(V,K)},vt.useContext=function(V){return C.H.useContext(V)},vt.useDebugValue=function(){},vt.useDeferredValue=function(V,K){return C.H.useDeferredValue(V,K)},vt.useEffect=function(V,K){return C.H.useEffect(V,K)},vt.useEffectEvent=function(V){return C.H.useEffectEvent(V)},vt.useId=function(){return C.H.useId()},vt.useImperativeHandle=function(V,K,nt){return C.H.useImperativeHandle(V,K,nt)},vt.useInsertionEffect=function(V,K){return C.H.useInsertionEffect(V,K)},vt.useLayoutEffect=function(V,K){return C.H.useLayoutEffect(V,K)},vt.useMemo=function(V,K){return C.H.useMemo(V,K)},vt.useOptimistic=function(V,K){return C.H.useOptimistic(V,K)},vt.useReducer=function(V,K,nt){return C.H.useReducer(V,K,nt)},vt.useRef=function(V){return C.H.useRef(V)},vt.useState=function(V){return C.H.useState(V)},vt.useSyncExternalStore=function(V,K,nt){return C.H.useSyncExternalStore(V,K,nt)},vt.useTransition=function(){return C.H.useTransition()},vt.version="19.2.0",vt}var by;function vd(){return by||(by=1,Lh.exports=wT()),Lh.exports}var ln=vd();const DT=sv(ln);var zh={exports:{}},ql={},jh={exports:{}},Bh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function NT(){return Ry||(Ry=1,(function(a){function e(G,et){var ct=G.length;G.push(et);t:for(;0<ct;){var zt=ct-1>>>1,Ht=G[zt];if(0<o(Ht,et))G[zt]=et,G[ct]=Ht,ct=zt;else break t}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var et=G[0],ct=G.pop();if(ct!==et){G[0]=ct;t:for(var zt=0,Ht=G.length,V=Ht>>>1;zt<V;){var K=2*(zt+1)-1,nt=G[K],at=K+1,mt=G[at];if(0>o(nt,ct))at<Ht&&0>o(mt,nt)?(G[zt]=mt,G[at]=ct,zt=at):(G[zt]=nt,G[K]=ct,zt=K);else if(at<Ht&&0>o(mt,ct))G[zt]=mt,G[at]=ct,zt=at;else break t}}return et}function o(G,et){var ct=G.sortIndex-et.sortIndex;return ct!==0?ct:G.id-et.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var v=[],_=[],A=1,S=null,N=3,q=!1,J=!1,tt=!1,$=!1,gt=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function Tt(G){for(var et=i(_);et!==null;){if(et.callback===null)r(_);else if(et.startTime<=G)r(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(_)}}function Ct(G){if(tt=!1,Tt(G),!J)if(i(v)!==null)J=!0,_t||(_t=!0,U());else{var et=i(_);et!==null&&Re(Ct,et.startTime-G)}}var _t=!1,C=-1,b=5,D=-1;function M(){return $?!0:!(a.unstable_now()-D<b)}function I(){if($=!1,_t){var G=a.unstable_now();D=G;var et=!0;try{t:{J=!1,tt&&(tt=!1,pt(C),C=-1),q=!0;var ct=N;try{e:{for(Tt(G),S=i(v);S!==null&&!(S.expirationTime>G&&M());){var zt=S.callback;if(typeof zt=="function"){S.callback=null,N=S.priorityLevel;var Ht=zt(S.expirationTime<=G);if(G=a.unstable_now(),typeof Ht=="function"){S.callback=Ht,Tt(G),et=!0;break e}S===i(v)&&r(v),Tt(G)}else r(v);S=i(v)}if(S!==null)et=!0;else{var V=i(_);V!==null&&Re(Ct,V.startTime-G),et=!1}}break t}finally{S=null,N=ct,q=!1}et=void 0}}finally{et?U():_t=!1}}}var U;if(typeof it=="function")U=function(){it(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,$t=R.port2;R.port1.onmessage=I,U=function(){$t.postMessage(null)}}else U=function(){gt(I,0)};function Re(G,et){C=gt(function(){G(a.unstable_now())},et)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return N},a.unstable_next=function(G){switch(N){case 1:case 2:case 3:var et=3;break;default:et=N}var ct=N;N=et;try{return G()}finally{N=ct}},a.unstable_requestPaint=function(){$=!0},a.unstable_runWithPriority=function(G,et){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ct=N;N=G;try{return et()}finally{N=ct}},a.unstable_scheduleCallback=function(G,et,ct){var zt=a.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?zt+ct:zt):ct=zt,G){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ct+Ht,G={id:A++,callback:et,priorityLevel:G,startTime:ct,expirationTime:Ht,sortIndex:-1},ct>zt?(G.sortIndex=ct,e(_,G),i(v)===null&&G===i(_)&&(tt?(pt(C),C=-1):tt=!0,Re(Ct,ct-zt))):(G.sortIndex=Ht,e(v,G),J||q||(J=!0,_t||(_t=!0,U()))),G},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(G){var et=N;return function(){var ct=N;N=et;try{return G.apply(this,arguments)}finally{N=ct}}}})(Bh)),Bh}var Cy;function IT(){return Cy||(Cy=1,jh.exports=NT()),jh.exports}var qh={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function OT(){if(wy)return Fe;wy=1;var a=vd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(v,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:v,containerInfo:_,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Fe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return f(v,_,null,A)},Fe.flushSync=function(v){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=A,r.d.f()}},Fe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},Fe.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Fe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:q}):A==="script"&&r.d.X(v,{crossOrigin:S,integrity:N,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Fe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},Fe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin);r.d.L(v,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Fe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=p(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},Fe.requestFormReset=function(v){r.d.r(v)},Fe.unstable_batchedUpdates=function(v,_){return v(_)},Fe.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.2.0",Fe}var Dy;function VT(){if(Dy)return qh.exports;Dy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),qh.exports=OT(),qh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function MT(){if(Ny)return ql;Ny=1;var a=IT(),e=vd(),i=VT();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(f(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=f(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===s)return v(c),t;if(h===l)return v(c),n;h=h.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=h;else{for(var g=!1,E=c.child;E;){if(E===s){g=!0,s=c,l=h;break}if(E===l){g=!0,l=c,s=h;break}E=E.sibling}if(!g){for(E=h.child;E;){if(E===s){g=!0,s=h,l=c;break}if(E===l){g=!0,l=h,s=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),gt=Symbol.for("react.profiler"),pt=Symbol.for("react.consumer"),it=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),Ct=Symbol.for("react.suspense"),_t=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function $t(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tt:return"Fragment";case gt:return"Profiler";case $:return"StrictMode";case Ct:return"Suspense";case _t:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case it:return t.displayName||"Context";case pt:return(t._context.displayName||"Context")+".Consumer";case Tt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:$t(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return $t(t(n))}catch{}}return null}var Re=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},zt=[],Ht=-1;function V(t){return{current:t}}function K(t){0>Ht||(t.current=zt[Ht],zt[Ht]=null,Ht--)}function nt(t,n){Ht++,zt[Ht]=t.current,t.current=n}var at=V(null),mt=V(null),bt=V(null),xt=V(null);function Ce(t,n){switch(nt(bt,n),nt(mt,t),nt(at,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Gp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Gp(n),t=Fp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(at),nt(at,t)}function ie(){K(at),K(mt),K(bt)}function qs(t){t.memoizedState!==null&&nt(xt,t);var n=at.current,s=Fp(n,t.type);n!==s&&(nt(mt,t),nt(at,s))}function Ra(t){mt.current===t&&(K(at),K(mt)),xt.current===t&&(K(xt),Ul._currentValue=ct)}var Ca,wa;function Qn(t){if(Ca===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ca=n&&n[1]||"",wa=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ca+t+wa}var Ur=!1;function Ps(t,n){if(!t||Ur)return"";Ur=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(k){var B=k}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(k){B=k}t.call(Q.prototype)}}else{try{throw Error()}catch(k){B=k}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),g=h[0],E=h[1];if(g&&E){var w=g.split(`
`),j=E.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===j.length)for(l=w.length-1,c=j.length-1;1<=l&&0<=c&&w[l]!==j[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==j[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==j[c]){var H=`
`+w[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{Ur=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Qn(s):""}function Lr(t,n){switch(t.tag){case 26:case 27:case 5:return Qn(t.type);case 16:return Qn("Lazy");case 13:return t.child!==n&&n!==null?Qn("Suspense Fallback"):Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 15:return Ps(t.type,!1);case 11:return Ps(t.type.render,!1);case 1:return Ps(t.type,!0);case 31:return Qn("Activity");default:return""}}function zr(t){try{var n="",s=null;do n+=Lr(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var me=Object.prototype.hasOwnProperty,we=a.unstable_scheduleCallback,Gi=a.unstable_cancelCallback,Lc=a.unstable_shouldYield,mo=a.unstable_requestPaint,Ze=a.unstable_now,ks=a.unstable_getCurrentPriorityLevel,jr=a.unstable_ImmediatePriority,Br=a.unstable_UserBlockingPriority,Fi=a.unstable_NormalPriority,zc=a.unstable_LowPriority,go=a.unstable_IdlePriority,po=a.log,yo=a.unstable_setDisableYieldValue,xn=null,Le=null;function En(t){if(typeof po=="function"&&yo(t),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(xn,t)}catch{}}var ue=Math.clz32?Math.clz32:vo,_o=Math.log,Da=Math.LN2;function vo(t){return t>>>=0,t===0?32:31-(_o(t)/Da|0)|0}var Kn=256,Hs=262144,ge=4194304;function Xn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zn(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~h,l!==0?c=Xn(l):(g&=E,g!==0?c=Xn(g):s||(s=E&~t,s!==0&&(c=Xn(s))))):(E=l&~h,E!==0?c=Xn(E):g!==0?c=Xn(g):s||(s=l&~t,s!==0&&(c=Xn(s)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,s=n&-n,h>=s||h===32&&(s&4194048)!==0)?n:c}function Un(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function jc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eo(){var t=ge;return ge<<=1,(ge&62914560)===0&&(ge=4194304),t}function Jn(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Gs(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bc(t,n,s,l,c,h){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,j=t.hiddenUpdates;for(s=g&~s;0<s;){var H=31-ue(s),Q=1<<H;E[H]=0,w[H]=-1;var B=j[H];if(B!==null)for(j[H]=null,H=0;H<B.length;H++){var k=B[H];k!==null&&(k.lane&=-536870913)}s&=~Q}l!==0&&Fs(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(g&~n))}function Fs(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ue(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function qr(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-ue(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function Pr(t,n){var s=n&-n;return s=(s&42)!==0?1:Ys(s),(s&(t.suspendedLanes|n))!==0?0:s}function Ys(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ai(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function To(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:my(t.type))}function Ln(t,n){var s=et.p;try{return et.p=t,n()}finally{et.p=s}}var zn=Math.random().toString(36).slice(2),pe="__reactFiber$"+zn,Oe="__reactProps$"+zn,$n="__reactContainer$"+zn,Na="__reactEvents$"+zn,qc="__reactListeners$"+zn,Ao="__reactHandles$"+zn,So="__reactResources$"+zn,Wn="__reactMarker$"+zn;function Ia(t){delete t[pe],delete t[Oe],delete t[Na],delete t[qc],delete t[Ao]}function ti(t){var n=t[pe];if(n)return n;for(var s=t.parentNode;s;){if(n=s[$n]||s[pe]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=$p(t);t!==null;){if(s=t[pe])return s;t=$p(t)}return n}t=s,s=t.parentNode}return null}function Tn(t){if(t=t[pe]||t[$n]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function cn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ei(t){var n=t[So];return n||(n=t[So]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ye(t){t[Wn]=!0}var kr=new Set,Hr={};function ni(t,n){ii(t,n),ii(t+"Capture",n)}function ii(t,n){for(Hr[t]=n,t=0;t<n.length;t++)kr.add(n[t])}var Gr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fr={},Yr={};function bo(t){return me.call(Yr,t)?!0:me.call(Fr,t)?!1:Gr.test(t)?Yr[t]=!0:(Fr[t]=!0,!1)}function Oa(t,n,s){if(bo(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function fn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function _e(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Ve(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Qr(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,h=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,h.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Gt(t){if(!t._valueTracker){var n=Yi(t)?"checked":"value";t._valueTracker=Qr(t,n,""+t[n])}}function Qs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Yi(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function si(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ks=/[\n"\\]/g;function We(t){return t.replace(Ks,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Va(t,n,s,l,c,h,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ve(n)):t.value!==""+Ve(n)&&(t.value=""+Ve(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Kr(t,g,Ve(n)):s!=null?Kr(t,g,Ve(s)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ve(E):t.removeAttribute("name")}function Ro(t,n,s,l,c,h,g,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||s!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){Gt(t);return}s=s!=null?""+Ve(s):"",n=n!=null?""+Ve(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Gt(t)}function Kr(t,n,s){n==="number"&&si(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Qi(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Ve(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Co(t,n,s){if(n!=null&&(n=""+Ve(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Ve(s):""}function Ki(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(Re(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Ve(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Gt(t)}function tn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var wo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xr(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||wo.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Zr(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&Xr(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&Xr(t,h,n[h])}function Ma(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Do=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xa(t){return Xi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function jn(){}var Jr=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zi=null,ai=null;function Xs(t){var n=Tn(t);if(n&&(t=n.stateNode)){var s=t[Oe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Va(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+We(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[Oe]||null;if(!c)throw Error(r(90));Va(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Qs(l)}break t;case"textarea":Co(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Qi(t,!!s.multiple,n,!1)}}}var Ua=!1;function Ji(t,n,s){if(Ua)return t(n,s);Ua=!0;try{var l=t(n);return l}finally{if(Ua=!1,(Zi!==null||ai!==null)&&(Tu(),Zi&&(n=Zi,t=ai,ai=Zi=null,Xs(n),t)))for(n=0;n<t.length;n++)Xs(t[n])}}function Bn(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Oe]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zs=!1;if(Sn)try{var Qt={};Object.defineProperty(Qt,"passive",{get:function(){Zs=!0}}),window.addEventListener("test",Qt,Qt),window.removeEventListener("test",Qt,Qt)}catch{Zs=!1}var ri=null,$r=null,Js=null;function Wr(){if(Js)return Js;var t,n=$r,s=n.length,l,c="value"in ri?ri.value:ri.textContent,h=c.length;for(t=0;t<s&&n[t]===c[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===c[h-l];l++);return Js=c.slice(t,1<l?1-l:void 0)}function $s(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Si(){return!0}function qn(){return!1}function ze(t){function n(s,l,c,h,g){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Si:qn,this.isPropagationStopped=qn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),n}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},li=ze(bi),$i=S({},bi,{view:0,detail:0}),tl=ze($i),Wi,La,oi,za=S({},$i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ts,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oi&&(oi&&t.type==="mousemove"?(Wi=t.screenX-oi.screenX,La=t.screenY-oi.screenY):La=Wi=0,oi=t),Wi)},movementY:function(t){return"movementY"in t?t.movementY:La}}),el=ze(za),Ws=S({},za,{dataTransfer:0}),No=ze(Ws),Io=S({},$i,{relatedTarget:0}),ta=ze(Io),nl=S({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Oo=ze(nl),ja=S({},bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vo=ze(ja),Mo=S({},bi,{data:0}),ui=ze(Mo),xo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Lo[t])?!!n[t]:!1}function ts(){return zo}var Je=S({},$i,{key:function(t){if(t.key){var n=xo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=$s(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ts,charCode:function(t){return t.type==="keypress"?$s(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$s(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jo=ze(Je),Bo=S({},za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ri=ze(Bo),u=S({},$i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ts}),m=ze(u),y=S({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(y),L=S({},za,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P=ze(L),W=S({},bi,{newState:0,oldState:0}),At=ze(W),ce=[9,13,27,32],qt=Sn&&"CompositionEvent"in window,se=null;Sn&&"documentMode"in document&&(se=document.documentMode);var bn=Sn&&"TextEvent"in window&&!se,ci=Sn&&(!qt||se&&8<se&&11>=se),Pn=" ",kn=!1;function ea(t,n){switch(t){case"keyup":return ce.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ba(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qa=!1;function X0(t,n){switch(t){case"compositionend":return Ba(n);case"keypress":return n.which!==32?null:(kn=!0,Pn);case"textInput":return t=n.data,t===Pn&&kn?null:t;default:return null}}function Z0(t,n){if(qa)return t==="compositionend"||!qt&&ea(t,n)?(t=Wr(),Js=$r=ri=null,qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ci&&n.locale!=="ko"?null:n.data;default:return null}}var J0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function em(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!J0[t.type]:n==="textarea"}function nm(t,n,s,l){Zi?ai?ai.push(l):ai=[l]:Zi=l,n=Du(n,"onChange"),0<n.length&&(s=new li("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var il=null,sl=null;function $0(t){jp(t,0)}function qo(t){var n=cn(t);if(Qs(n))return t}function im(t,n){if(t==="change")return n}var sm=!1;if(Sn){var Pc;if(Sn){var kc="oninput"in document;if(!kc){var am=document.createElement("div");am.setAttribute("oninput","return;"),kc=typeof am.oninput=="function"}Pc=kc}else Pc=!1;sm=Pc&&(!document.documentMode||9<document.documentMode)}function rm(){il&&(il.detachEvent("onpropertychange",lm),sl=il=null)}function lm(t){if(t.propertyName==="value"&&qo(sl)){var n=[];nm(n,sl,t,An(t)),Ji($0,n)}}function W0(t,n,s){t==="focusin"?(rm(),il=n,sl=s,il.attachEvent("onpropertychange",lm)):t==="focusout"&&rm()}function tE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qo(sl)}function eE(t,n){if(t==="click")return qo(n)}function nE(t,n){if(t==="input"||t==="change")return qo(n)}function iE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var hn=typeof Object.is=="function"?Object.is:iE;function al(t,n){if(hn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!me.call(n,c)||!hn(t[c],n[c]))return!1}return!0}function om(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function um(t,n){var s=om(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=om(s)}}function cm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?cm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function fm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=si(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=si(t.document)}return n}function Hc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var sE=Sn&&"documentMode"in document&&11>=document.documentMode,Pa=null,Gc=null,rl=null,Fc=!1;function hm(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Fc||Pa==null||Pa!==si(l)||(l=Pa,"selectionStart"in l&&Hc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&al(rl,l)||(rl=l,l=Du(Gc,"onSelect"),0<l.length&&(n=new li("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Pa)))}function na(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var ka={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionrun:na("Transition","TransitionRun"),transitionstart:na("Transition","TransitionStart"),transitioncancel:na("Transition","TransitionCancel"),transitionend:na("Transition","TransitionEnd")},Yc={},dm={};Sn&&(dm=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function ia(t){if(Yc[t])return Yc[t];if(!ka[t])return t;var n=ka[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in dm)return Yc[t]=n[s];return t}var mm=ia("animationend"),gm=ia("animationiteration"),pm=ia("animationstart"),aE=ia("transitionrun"),rE=ia("transitionstart"),lE=ia("transitioncancel"),ym=ia("transitionend"),_m=new Map,Qc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qc.push("scrollEnd");function Hn(t,n){_m.set(t,n),ni(n,[t])}var Po=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Rn=[],Ha=0,Kc=0;function ko(){for(var t=Ha,n=Kc=Ha=0;n<t;){var s=Rn[n];Rn[n++]=null;var l=Rn[n];Rn[n++]=null;var c=Rn[n];Rn[n++]=null;var h=Rn[n];if(Rn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}h!==0&&vm(s,c,h)}}function Ho(t,n,s,l){Rn[Ha++]=t,Rn[Ha++]=n,Rn[Ha++]=s,Rn[Ha++]=l,Kc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Xc(t,n,s,l){return Ho(t,n,s,l),Go(t)}function sa(t,n){return Ho(t,null,null,n),Go(t)}function vm(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,h=t.return;h!==null;)h.childLanes|=s,l=h.alternate,l!==null&&(l.childLanes|=s),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-ue(s),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),h):null}function Go(t){if(50<Dl)throw Dl=0,ah=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ga={};function oE(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,n,s,l){return new oE(t,n,s,l)}function Zc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ci(t,n){var s=t.alternate;return s===null?(s=dn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Em(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Fo(t,n,s,l,c,h){var g=0;if(l=t,typeof t=="function")Zc(t)&&(g=1);else if(typeof t=="string")g=dT(t,s,at.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case D:return t=dn(31,s,n,c),t.elementType=D,t.lanes=h,t;case tt:return aa(s.children,c,h,n);case $:g=8,c|=24;break;case gt:return t=dn(12,s,n,c|2),t.elementType=gt,t.lanes=h,t;case Ct:return t=dn(13,s,n,c),t.elementType=Ct,t.lanes=h,t;case _t:return t=dn(19,s,n,c),t.elementType=_t,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case it:g=10;break t;case pt:g=9;break t;case Tt:g=11;break t;case C:g=14;break t;case b:g=16,l=null;break t}g=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=dn(g,s,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function aa(t,n,s,l){return t=dn(7,t,l,n),t.lanes=s,t}function Jc(t,n,s){return t=dn(6,t,null,n),t.lanes=s,t}function Tm(t){var n=dn(18,null,null,0);return n.stateNode=t,n}function $c(t,n,s){return n=dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Am=new WeakMap;function Cn(t,n){if(typeof t=="object"&&t!==null){var s=Am.get(t);return s!==void 0?s:(n={value:t,source:n,stack:zr(n)},Am.set(t,n),n)}return{value:t,source:n,stack:zr(n)}}var Fa=[],Ya=0,Yo=null,ll=0,wn=[],Dn=0,es=null,fi=1,hi="";function wi(t,n){Fa[Ya++]=ll,Fa[Ya++]=Yo,Yo=t,ll=n}function Sm(t,n,s){wn[Dn++]=fi,wn[Dn++]=hi,wn[Dn++]=es,es=t;var l=fi;t=hi;var c=32-ue(l)-1;l&=~(1<<c),s+=1;var h=32-ue(n)+c;if(30<h){var g=c-c%5;h=(l&(1<<g)-1).toString(32),l>>=g,c-=g,fi=1<<32-ue(n)+c|s<<c|l,hi=h+t}else fi=1<<h|s<<c|l,hi=t}function Wc(t){t.return!==null&&(wi(t,1),Sm(t,1,0))}function tf(t){for(;t===Yo;)Yo=Fa[--Ya],Fa[Ya]=null,ll=Fa[--Ya],Fa[Ya]=null;for(;t===es;)es=wn[--Dn],wn[Dn]=null,hi=wn[--Dn],wn[Dn]=null,fi=wn[--Dn],wn[Dn]=null}function bm(t,n){wn[Dn++]=fi,wn[Dn++]=hi,wn[Dn++]=es,fi=n.id,hi=n.overflow,es=t}var je=null,Wt=null,Mt=!1,ns=null,Nn=!1,ef=Error(r(519));function is(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ol(Cn(n,t)),ef}function Rm(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[pe]=t,n[Oe]=l,s){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(s=0;s<Il.length;s++)Dt(Il[s],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),Ro(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),Ki(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||kp(n.textContent,s)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=jn),n=!0):n=!1,n||is(t,!0)}function Cm(t){for(je=t.return;je;)switch(je.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:je=je.return}}function Qa(t){if(t!==je)return!1;if(!Mt)return Cm(t),Mt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Eh(t.type,t.memoizedProps)),s=!s),s&&Wt&&is(t),Cm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Wt=Jp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Wt=Jp(t)}else n===27?(n=Wt,ys(t.type)?(t=Rh,Rh=null,Wt=t):Wt=n):Wt=je?On(t.stateNode.nextSibling):null;return!0}function ra(){Wt=je=null,Mt=!1}function nf(){var t=ns;return t!==null&&(an===null?an=t:an.push.apply(an,t),ns=null),t}function ol(t){ns===null?ns=[t]:ns.push(t)}var sf=V(null),la=null,Di=null;function ss(t,n,s){nt(sf,n._currentValue),n._currentValue=s}function Ni(t){t._currentValue=sf.current,K(sf)}function af(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function rf(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var w=0;w<n.length;w++)if(E.context===n[w]){h.lanes|=s,E=h.alternate,E!==null&&(E.lanes|=s),af(h.return,s,t),l||(g=null);break t}h=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=s,h=g.alternate,h!==null&&(h.lanes|=s),af(g,s,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Ka(t,n,s,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;hn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===xt.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}c=c.return}t!==null&&rf(n,t,s,l),n.flags|=262144}function Qo(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function oa(t){la=t,Di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Be(t){return wm(la,t)}function Ko(t,n){return la===null&&oa(t),wm(t,n)}function wm(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Di===null){if(t===null)throw Error(r(308));Di=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Di=Di.next=n;return s}var uE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},cE=a.unstable_scheduleCallback,fE=a.unstable_NormalPriority,ve={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lf(){return{controller:new uE,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&cE(fE,function(){t.controller.abort()})}var cl=null,of=0,Xa=0,Za=null;function hE(t,n){if(cl===null){var s=cl=[];of=0,Xa=fh(),Za={status:"pending",value:void 0,then:function(l){s.push(l)}}}return of++,n.then(Dm,Dm),n}function Dm(){if(--of===0&&cl!==null){Za!==null&&(Za.status="fulfilled");var t=cl;cl=null,Xa=0,Za=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function dE(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var Nm=G.S;G.S=function(t,n){hp=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&hE(t,n),Nm!==null&&Nm(t,n)};var ua=V(null);function uf(){var t=ua.current;return t!==null?t:Jt.pooledCache}function Xo(t,n){n===null?nt(ua,ua.current):nt(ua,n.pool)}function Im(){var t=uf();return t===null?null:{parent:ve._currentValue,pool:t}}var Ja=Error(r(460)),cf=Error(r(474)),Zo=Error(r(542)),Jo={then:function(){}};function Om(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Vm(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(jn,jn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,xm(t),t;default:if(typeof n.status=="string")n.then(jn,jn);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,xm(t),t}throw fa=n,Ja}}function ca(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(fa=s,Ja):s}}var fa=null;function Mm(){if(fa===null)throw Error(r(459));var t=fa;return fa=null,t}function xm(t){if(t===Ja||t===Zo)throw Error(r(483))}var $a=null,fl=0;function $o(t){var n=fl;return fl+=1,$a===null&&($a=[]),Vm($a,t,n)}function hl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Wo(t,n){throw n.$$typeof===N?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Um(t){function n(x,O){if(t){var z=x.deletions;z===null?(x.deletions=[O],x.flags|=16):z.push(O)}}function s(x,O){if(!t)return null;for(;O!==null;)n(x,O),O=O.sibling;return null}function l(x){for(var O=new Map;x!==null;)x.key!==null?O.set(x.key,x):O.set(x.index,x),x=x.sibling;return O}function c(x,O){return x=Ci(x,O),x.index=0,x.sibling=null,x}function h(x,O,z){return x.index=z,t?(z=x.alternate,z!==null?(z=z.index,z<O?(x.flags|=67108866,O):z):(x.flags|=67108866,O)):(x.flags|=1048576,O)}function g(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,O,z,Y){return O===null||O.tag!==6?(O=Jc(z,x.mode,Y),O.return=x,O):(O=c(O,z),O.return=x,O)}function w(x,O,z,Y){var ut=z.type;return ut===tt?H(x,O,z.props.children,Y,z.key):O!==null&&(O.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&ca(ut)===O.type)?(O=c(O,z.props),hl(O,z),O.return=x,O):(O=Fo(z.type,z.key,z.props,null,x.mode,Y),hl(O,z),O.return=x,O)}function j(x,O,z,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=$c(z,x.mode,Y),O.return=x,O):(O=c(O,z.children||[]),O.return=x,O)}function H(x,O,z,Y,ut){return O===null||O.tag!==7?(O=aa(z,x.mode,Y,ut),O.return=x,O):(O=c(O,z),O.return=x,O)}function Q(x,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Jc(""+O,x.mode,z),O.return=x,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case q:return z=Fo(O.type,O.key,O.props,null,x.mode,z),hl(z,O),z.return=x,z;case J:return O=$c(O,x.mode,z),O.return=x,O;case b:return O=ca(O),Q(x,O,z)}if(Re(O)||U(O))return O=aa(O,x.mode,z,null),O.return=x,O;if(typeof O.then=="function")return Q(x,$o(O),z);if(O.$$typeof===it)return Q(x,Ko(x,O),z);Wo(x,O)}return null}function B(x,O,z,Y){var ut=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ut!==null?null:E(x,O,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case q:return z.key===ut?w(x,O,z,Y):null;case J:return z.key===ut?j(x,O,z,Y):null;case b:return z=ca(z),B(x,O,z,Y)}if(Re(z)||U(z))return ut!==null?null:H(x,O,z,Y,null);if(typeof z.then=="function")return B(x,O,$o(z),Y);if(z.$$typeof===it)return B(x,O,Ko(x,z),Y);Wo(x,z)}return null}function k(x,O,z,Y,ut){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return x=x.get(z)||null,E(O,x,""+Y,ut);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case q:return x=x.get(Y.key===null?z:Y.key)||null,w(O,x,Y,ut);case J:return x=x.get(Y.key===null?z:Y.key)||null,j(O,x,Y,ut);case b:return Y=ca(Y),k(x,O,z,Y,ut)}if(Re(Y)||U(Y))return x=x.get(z)||null,H(O,x,Y,ut,null);if(typeof Y.then=="function")return k(x,O,z,$o(Y),ut);if(Y.$$typeof===it)return k(x,O,z,Ko(O,Y),ut);Wo(O,Y)}return null}function rt(x,O,z,Y){for(var ut=null,jt=null,lt=O,Rt=O=0,It=null;lt!==null&&Rt<z.length;Rt++){lt.index>Rt?(It=lt,lt=null):It=lt.sibling;var Bt=B(x,lt,z[Rt],Y);if(Bt===null){lt===null&&(lt=It);break}t&&lt&&Bt.alternate===null&&n(x,lt),O=h(Bt,O,Rt),jt===null?ut=Bt:jt.sibling=Bt,jt=Bt,lt=It}if(Rt===z.length)return s(x,lt),Mt&&wi(x,Rt),ut;if(lt===null){for(;Rt<z.length;Rt++)lt=Q(x,z[Rt],Y),lt!==null&&(O=h(lt,O,Rt),jt===null?ut=lt:jt.sibling=lt,jt=lt);return Mt&&wi(x,Rt),ut}for(lt=l(lt);Rt<z.length;Rt++)It=k(lt,x,Rt,z[Rt],Y),It!==null&&(t&&It.alternate!==null&&lt.delete(It.key===null?Rt:It.key),O=h(It,O,Rt),jt===null?ut=It:jt.sibling=It,jt=It);return t&&lt.forEach(function(As){return n(x,As)}),Mt&&wi(x,Rt),ut}function ht(x,O,z,Y){if(z==null)throw Error(r(151));for(var ut=null,jt=null,lt=O,Rt=O=0,It=null,Bt=z.next();lt!==null&&!Bt.done;Rt++,Bt=z.next()){lt.index>Rt?(It=lt,lt=null):It=lt.sibling;var As=B(x,lt,Bt.value,Y);if(As===null){lt===null&&(lt=It);break}t&&lt&&As.alternate===null&&n(x,lt),O=h(As,O,Rt),jt===null?ut=As:jt.sibling=As,jt=As,lt=It}if(Bt.done)return s(x,lt),Mt&&wi(x,Rt),ut;if(lt===null){for(;!Bt.done;Rt++,Bt=z.next())Bt=Q(x,Bt.value,Y),Bt!==null&&(O=h(Bt,O,Rt),jt===null?ut=Bt:jt.sibling=Bt,jt=Bt);return Mt&&wi(x,Rt),ut}for(lt=l(lt);!Bt.done;Rt++,Bt=z.next())Bt=k(lt,x,Rt,Bt.value,Y),Bt!==null&&(t&&Bt.alternate!==null&&lt.delete(Bt.key===null?Rt:Bt.key),O=h(Bt,O,Rt),jt===null?ut=Bt:jt.sibling=Bt,jt=Bt);return t&&lt.forEach(function(bT){return n(x,bT)}),Mt&&wi(x,Rt),ut}function Zt(x,O,z,Y){if(typeof z=="object"&&z!==null&&z.type===tt&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case q:t:{for(var ut=z.key;O!==null;){if(O.key===ut){if(ut=z.type,ut===tt){if(O.tag===7){s(x,O.sibling),Y=c(O,z.props.children),Y.return=x,x=Y;break t}}else if(O.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&ca(ut)===O.type){s(x,O.sibling),Y=c(O,z.props),hl(Y,z),Y.return=x,x=Y;break t}s(x,O);break}else n(x,O);O=O.sibling}z.type===tt?(Y=aa(z.props.children,x.mode,Y,z.key),Y.return=x,x=Y):(Y=Fo(z.type,z.key,z.props,null,x.mode,Y),hl(Y,z),Y.return=x,x=Y)}return g(x);case J:t:{for(ut=z.key;O!==null;){if(O.key===ut)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){s(x,O.sibling),Y=c(O,z.children||[]),Y.return=x,x=Y;break t}else{s(x,O);break}else n(x,O);O=O.sibling}Y=$c(z,x.mode,Y),Y.return=x,x=Y}return g(x);case b:return z=ca(z),Zt(x,O,z,Y)}if(Re(z))return rt(x,O,z,Y);if(U(z)){if(ut=U(z),typeof ut!="function")throw Error(r(150));return z=ut.call(z),ht(x,O,z,Y)}if(typeof z.then=="function")return Zt(x,O,$o(z),Y);if(z.$$typeof===it)return Zt(x,O,Ko(x,z),Y);Wo(x,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(s(x,O.sibling),Y=c(O,z),Y.return=x,x=Y):(s(x,O),Y=Jc(z,x.mode,Y),Y.return=x,x=Y),g(x)):s(x,O)}return function(x,O,z,Y){try{fl=0;var ut=Zt(x,O,z,Y);return $a=null,ut}catch(lt){if(lt===Ja||lt===Zo)throw lt;var jt=dn(29,lt,null,x.mode);return jt.lanes=Y,jt.return=x,jt}finally{}}}var ha=Um(!0),Lm=Um(!1),as=!1;function ff(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function rs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ls(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Pt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Go(t),vm(t,null,s),n}return Ho(t,l,n,s),Go(t)}function dl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,qr(t,s)}}function df(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,s=s.next}while(s!==null);h===null?c=h=n:h=h.next=n}else c=h=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var mf=!1;function ml(){if(mf){var t=Za;if(t!==null)throw t}}function gl(t,n,s,l){mf=!1;var c=t.updateQueue;as=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,j=w.next;w.next=null,g===null?h=j:g.next=j,g=w;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=j:E.next=j,H.lastBaseUpdate=w))}if(h!==null){var Q=c.baseState;g=0,H=j=w=null,E=h;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(Nt&B)===B:(l&B)===B){B!==0&&B===Xa&&(mf=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=t,ht=E;B=n;var Zt=s;switch(ht.tag){case 1:if(rt=ht.payload,typeof rt=="function"){Q=rt.call(Zt,Q,B);break t}Q=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=ht.payload,B=typeof rt=="function"?rt.call(Zt,Q,B):rt,B==null)break t;Q=S({},Q,B);break t;case 2:as=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(j=H=k,w=Q):H=H.next=k,g|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);H===null&&(w=Q),c.baseState=w,c.firstBaseUpdate=j,c.lastBaseUpdate=H,h===null&&(c.shared.lanes=0),hs|=g,t.lanes=g,t.memoizedState=Q}}function zm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function jm(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)zm(s[t],n)}var Wa=V(null),tu=V(0);function Bm(t,n){t=ji,nt(tu,t),nt(Wa,n),ji=t|n.baseLanes}function gf(){nt(tu,ji),nt(Wa,Wa.current)}function pf(){ji=tu.current,K(Wa),K(tu)}var mn=V(null),In=null;function os(t){var n=t.alternate;nt(fe,fe.current&1),nt(mn,t),In===null&&(n===null||Wa.current!==null||n.memoizedState!==null)&&(In=t)}function yf(t){nt(fe,fe.current),nt(mn,t),In===null&&(In=t)}function qm(t){t.tag===22?(nt(fe,fe.current),nt(mn,t),In===null&&(In=t)):us()}function us(){nt(fe,fe.current),nt(mn,mn.current)}function gn(t){K(mn),In===t&&(In=null),K(fe)}var fe=V(0);function eu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Sh(s)||bh(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ii=0,St=null,Kt=null,Ee=null,nu=!1,tr=!1,da=!1,iu=0,pl=0,er=null,mE=0;function le(){throw Error(r(321))}function _f(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!hn(t[s],n[s]))return!1;return!0}function vf(t,n,s,l,c,h){return Ii=h,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Sg:xf,da=!1,h=s(l,c),da=!1,tr&&(h=km(n,s,l,c)),Pm(t),h}function Pm(t){G.H=vl;var n=Kt!==null&&Kt.next!==null;if(Ii=0,Ee=Kt=St=null,nu=!1,pl=0,er=null,n)throw Error(r(300));t===null||Te||(t=t.dependencies,t!==null&&Qo(t)&&(Te=!0))}function km(t,n,s,l){St=t;var c=0;do{if(tr&&(er=null),pl=0,tr=!1,25<=c)throw Error(r(301));if(c+=1,Ee=Kt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}G.H=bg,h=n(s,l)}while(tr);return h}function gE(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?yl(n):n,t=t.useState()[0],(Kt!==null?Kt.memoizedState:null)!==t&&(St.flags|=1024),n}function Ef(){var t=iu!==0;return iu=0,t}function Tf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Af(t){if(nu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}nu=!1}Ii=0,Ee=Kt=St=null,tr=!1,pl=iu=0,er=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?St.memoizedState=Ee=t:Ee=Ee.next=t,Ee}function he(){if(Kt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var n=Ee===null?St.memoizedState:Ee.next;if(n!==null)Ee=n,Kt=t;else{if(t===null)throw St.alternate===null?Error(r(467)):Error(r(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Ee===null?St.memoizedState=Ee=t:Ee=Ee.next=t}return Ee}function su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(t){var n=pl;return pl+=1,er===null&&(er=[]),t=Vm(er,t,n),n=St,(Ee===null?n.memoizedState:Ee.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Sg:xf),t}function au(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===it)return Be(t)}throw Error(r(438,String(t)))}function Sf(t){var n=null,s=St.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=su(),St.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=M;return n.index++,s}function Oi(t,n){return typeof n=="function"?n(t):n}function ru(t){var n=he();return bf(n,Kt,t)}function bf(t,n,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var E=g=null,w=null,j=n,H=!1;do{var Q=j.lane&-536870913;if(Q!==j.lane?(Nt&Q)===Q:(Ii&Q)===Q){var B=j.revertLane;if(B===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Q===Xa&&(H=!0);else if((Ii&B)===B){j=j.next,B===Xa&&(H=!0);continue}else Q={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},w===null?(E=w=Q,g=h):w=w.next=Q,St.lanes|=B,hs|=B;Q=j.action,da&&s(h,Q),h=j.hasEagerState?j.eagerState:s(h,Q)}else B={lane:Q,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},w===null?(E=w=B,g=h):w=w.next=B,St.lanes|=Q,hs|=Q;j=j.next}while(j!==null&&j!==n);if(w===null?g=h:w.next=E,!hn(h,t.memoizedState)&&(Te=!0,H&&(s=Za,s!==null)))throw s;t.memoizedState=h,t.baseState=g,t.baseQueue=w,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rf(t){var n=he(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,h=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do h=t(h,g.action),g=g.next;while(g!==c);hn(h,n.memoizedState)||(Te=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),s.lastRenderedState=h}return[h,l]}function Hm(t,n,s){var l=St,c=he(),h=Mt;if(h){if(s===void 0)throw Error(r(407));s=s()}else s=n();var g=!hn((Kt||c).memoizedState,s);if(g&&(c.memoizedState=s,Te=!0),c=c.queue,Df(Ym.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Ee!==null&&Ee.memoizedState.tag&1){if(l.flags|=2048,nr(9,{destroy:void 0},Fm.bind(null,l,c,s,n),null),Jt===null)throw Error(r(349));h||(Ii&127)!==0||Gm(l,n,s)}return s}function Gm(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=St.updateQueue,n===null?(n=su(),St.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Fm(t,n,s,l){n.value=s,n.getSnapshot=l,Qm(n)&&Km(t)}function Ym(t,n,s){return s(function(){Qm(n)&&Km(t)})}function Qm(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!hn(t,s)}catch{return!0}}function Km(t){var n=sa(t,2);n!==null&&rn(n,t,2)}function Cf(t){var n=$e();if(typeof t=="function"){var s=t;if(t=s(),da){En(!0);try{s()}finally{En(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:t},n}function Xm(t,n,s,l){return t.baseState=s,bf(t,Kt,typeof l=="function"?l:Oi)}function pE(t,n,s,l,c){if(uu(t))throw Error(r(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};G.T!==null?s(!0):h.isTransition=!1,l(h),s=n.pending,s===null?(h.next=n.pending=h,Zm(n,h)):(h.next=s.next,n.pending=s.next=h)}}function Zm(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=G.T,g={};G.T=g;try{var E=s(c,l),w=G.S;w!==null&&w(g,E),Jm(t,n,E)}catch(j){wf(t,n,j)}finally{h!==null&&g.types!==null&&(h.types=g.types),G.T=h}}else try{h=s(c,l),Jm(t,n,h)}catch(j){wf(t,n,j)}}function Jm(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){$m(t,n,l)},function(l){return wf(t,n,l)}):$m(t,n,s)}function $m(t,n,s){n.status="fulfilled",n.value=s,Wm(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Zm(t,s)))}function wf(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Wm(n),n=n.next;while(n!==l)}t.action=null}function Wm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function tg(t,n){return n}function eg(t,n){if(Mt){var s=Jt.formState;if(s!==null){t:{var l=St;if(Mt){if(Wt){e:{for(var c=Wt,h=Nn;c.nodeType!==8;){if(!h){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Wt=On(c.nextSibling),l=c.data==="F!";break t}}is(l)}l=!1}l&&(n=s[0])}}return s=$e(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tg,lastRenderedState:n},s.queue=l,s=Eg.bind(null,St,l),l.dispatch=s,l=Cf(!1),h=Mf.bind(null,St,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=pE.bind(null,St,c,h,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function ng(t){var n=he();return ig(n,Kt,t)}function ig(t,n,s){if(n=bf(t,n,tg)[0],t=ru(Oi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=yl(n)}catch(g){throw g===Ja?Zo:g}else l=n;n=he();var c=n.queue,h=c.dispatch;return s!==n.memoizedState&&(St.flags|=2048,nr(9,{destroy:void 0},yE.bind(null,c,s),null)),[l,h,t]}function yE(t,n){t.action=n}function sg(t){var n=he(),s=Kt;if(s!==null)return ig(n,s,t);he(),n=n.memoizedState,s=he();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function nr(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=su(),St.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function ag(){return he().memoizedState}function lu(t,n,s,l){var c=$e();St.flags|=t,c.memoizedState=nr(1|n,{destroy:void 0},s,l===void 0?null:l)}function ou(t,n,s,l){var c=he();l=l===void 0?null:l;var h=c.memoizedState.inst;Kt!==null&&l!==null&&_f(l,Kt.memoizedState.deps)?c.memoizedState=nr(n,h,s,l):(St.flags|=t,c.memoizedState=nr(1|n,h,s,l))}function rg(t,n){lu(8390656,8,t,n)}function Df(t,n){ou(2048,8,t,n)}function _E(t){St.flags|=4;var n=St.updateQueue;if(n===null)n=su(),St.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function lg(t){var n=he().memoizedState;return _E({ref:n,nextImpl:t}),function(){if((Pt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function og(t,n){return ou(4,2,t,n)}function ug(t,n){return ou(4,4,t,n)}function cg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function fg(t,n,s){s=s!=null?s.concat([t]):null,ou(4,4,cg.bind(null,n,t),s)}function Nf(){}function hg(t,n){var s=he();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&_f(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function dg(t,n){var s=he();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&_f(n,l[1]))return l[0];if(l=t(),da){En(!0);try{t()}finally{En(!1)}}return s.memoizedState=[l,n],l}function If(t,n,s){return s===void 0||(Ii&1073741824)!==0&&(Nt&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=mp(),St.lanes|=t,hs|=t,s)}function mg(t,n,s,l){return hn(s,n)?s:Wa.current!==null?(t=If(t,s,l),hn(t,n)||(Te=!0),t):(Ii&42)===0||(Ii&1073741824)!==0&&(Nt&261930)===0?(Te=!0,t.memoizedState=s):(t=mp(),St.lanes|=t,hs|=t,n)}function gg(t,n,s,l,c){var h=et.p;et.p=h!==0&&8>h?h:8;var g=G.T,E={};G.T=E,Mf(t,!1,n,s);try{var w=c(),j=G.S;if(j!==null&&j(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var H=dE(w,l);_l(t,n,H,_n(t))}else _l(t,n,l,_n(t))}catch(Q){_l(t,n,{then:function(){},status:"rejected",reason:Q},_n())}finally{et.p=h,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function vE(){}function Of(t,n,s,l){if(t.tag!==5)throw Error(r(476));var c=pg(t).queue;gg(t,c,n,ct,s===null?vE:function(){return yg(t),s(l)})}function pg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:ct},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function yg(t){var n=pg(t);n.next===null&&(n=t.alternate.memoizedState),_l(t,n.next.queue,{},_n())}function Vf(){return Be(Ul)}function _g(){return he().memoizedState}function vg(){return he().memoizedState}function EE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=_n();t=rs(s);var l=ls(n,t,s);l!==null&&(rn(l,n,s),dl(l,n,s)),n={cache:lf()},t.payload=n;return}n=n.return}}function TE(t,n,s){var l=_n();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},uu(t)?Tg(n,s):(s=Xc(t,n,s,l),s!==null&&(rn(s,t,l),Ag(s,n,l)))}function Eg(t,n,s){var l=_n();_l(t,n,s,l)}function _l(t,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(uu(t))Tg(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var g=n.lastRenderedState,E=h(g,s);if(c.hasEagerState=!0,c.eagerState=E,hn(E,g))return Ho(t,n,c,0),Jt===null&&ko(),!1}catch{}finally{}if(s=Xc(t,n,c,l),s!==null)return rn(s,t,l),Ag(s,n,l),!0}return!1}function Mf(t,n,s,l){if(l={lane:2,revertLane:fh(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},uu(t)){if(n)throw Error(r(479))}else n=Xc(t,s,l,2),n!==null&&rn(n,t,2)}function uu(t){var n=t.alternate;return t===St||n!==null&&n===St}function Tg(t,n){tr=nu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Ag(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,qr(t,s)}}var vl={readContext:Be,use:au,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};vl.useEffectEvent=le;var Sg={readContext:Be,use:au,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:Be,useEffect:rg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,lu(4194308,4,cg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return lu(4194308,4,t,n)},useInsertionEffect:function(t,n){lu(4,2,t,n)},useMemo:function(t,n){var s=$e();n=n===void 0?null:n;var l=t();if(da){En(!0);try{t()}finally{En(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=$e();if(s!==void 0){var c=s(n);if(da){En(!0);try{s(n)}finally{En(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=TE.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=Cf(t);var n=t.queue,s=Eg.bind(null,St,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Nf,useDeferredValue:function(t,n){var s=$e();return If(s,t,n)},useTransition:function(){var t=Cf(!1);return t=gg.bind(null,St,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=St,c=$e();if(Mt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Jt===null)throw Error(r(349));(Nt&127)!==0||Gm(l,n,s)}c.memoizedState=s;var h={value:s,getSnapshot:n};return c.queue=h,rg(Ym.bind(null,l,h,t),[t]),l.flags|=2048,nr(9,{destroy:void 0},Fm.bind(null,l,h,s,n),null),s},useId:function(){var t=$e(),n=Jt.identifierPrefix;if(Mt){var s=hi,l=fi;s=(l&~(1<<32-ue(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=iu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=mE++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Vf,useFormState:eg,useActionState:eg,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Mf.bind(null,St,!0,s),s.dispatch=n,[t,n]},useMemoCache:Sf,useCacheRefresh:function(){return $e().memoizedState=EE.bind(null,St)},useEffectEvent:function(t){var n=$e(),s={impl:t};return n.memoizedState=s,function(){if((Pt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},xf={readContext:Be,use:au,useCallback:hg,useContext:Be,useEffect:Df,useImperativeHandle:fg,useInsertionEffect:og,useLayoutEffect:ug,useMemo:dg,useReducer:ru,useRef:ag,useState:function(){return ru(Oi)},useDebugValue:Nf,useDeferredValue:function(t,n){var s=he();return mg(s,Kt.memoizedState,t,n)},useTransition:function(){var t=ru(Oi)[0],n=he().memoizedState;return[typeof t=="boolean"?t:yl(t),n]},useSyncExternalStore:Hm,useId:_g,useHostTransitionStatus:Vf,useFormState:ng,useActionState:ng,useOptimistic:function(t,n){var s=he();return Xm(s,Kt,t,n)},useMemoCache:Sf,useCacheRefresh:vg};xf.useEffectEvent=lg;var bg={readContext:Be,use:au,useCallback:hg,useContext:Be,useEffect:Df,useImperativeHandle:fg,useInsertionEffect:og,useLayoutEffect:ug,useMemo:dg,useReducer:Rf,useRef:ag,useState:function(){return Rf(Oi)},useDebugValue:Nf,useDeferredValue:function(t,n){var s=he();return Kt===null?If(s,t,n):mg(s,Kt.memoizedState,t,n)},useTransition:function(){var t=Rf(Oi)[0],n=he().memoizedState;return[typeof t=="boolean"?t:yl(t),n]},useSyncExternalStore:Hm,useId:_g,useHostTransitionStatus:Vf,useFormState:sg,useActionState:sg,useOptimistic:function(t,n){var s=he();return Kt!==null?Xm(s,Kt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:vg};bg.useEffectEvent=lg;function Uf(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:S({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Lf={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=_n(),c=rs(l);c.payload=n,s!=null&&(c.callback=s),n=ls(t,c,l),n!==null&&(rn(n,t,l),dl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=_n(),c=rs(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=ls(t,c,l),n!==null&&(rn(n,t,l),dl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=_n(),l=rs(s);l.tag=2,n!=null&&(l.callback=n),n=ls(t,l,s),n!==null&&(rn(n,t,s),dl(n,t,s))}};function Rg(t,n,s,l,c,h,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,g):n.prototype&&n.prototype.isPureReactComponent?!al(s,l)||!al(c,h):!0}function Cg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Lf.enqueueReplaceState(n,n.state,null)}function ma(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=S({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}function wg(t){Po(t)}function Dg(t){console.error(t)}function Ng(t){Po(t)}function cu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ig(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function zf(t,n,s){return s=rs(s),s.tag=3,s.payload={element:null},s.callback=function(){cu(t,n)},s}function Og(t){return t=rs(t),t.tag=3,t}function Vg(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){Ig(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Ig(n,s,l),typeof c!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function AE(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Ka(n,s,c,!0),s=mn.current,s!==null){switch(s.tag){case 31:case 13:return In===null?Au():s.alternate===null&&oe===0&&(oe=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===Jo?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),oh(t,l,c)),!1;case 22:return s.flags|=65536,l===Jo?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),oh(t,l,c)),!1}throw Error(r(435,s.tag))}return oh(t,l,c),Au(),!1}if(Mt)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==ef&&(t=Error(r(422),{cause:l}),ol(Cn(t,s)))):(l!==ef&&(n=Error(r(423),{cause:l}),ol(Cn(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Cn(l,s),c=zf(t.stateNode,l,c),df(t,c),oe!==4&&(oe=2)),!1;var h=Error(r(520),{cause:l});if(h=Cn(h,s),wl===null?wl=[h]:wl.push(h),oe!==4&&(oe=2),n===null)return!0;l=Cn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=zf(s.stateNode,l,t),df(s,t),!1;case 1:if(n=s.type,h=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ds===null||!ds.has(h))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Og(c),Vg(c,t,s,l),df(s,c),!1}s=s.return}while(s!==null);return!1}var jf=Error(r(461)),Te=!1;function qe(t,n,s,l){n.child=t===null?Lm(n,null,s,l):ha(n,t.child,s,l)}function Mg(t,n,s,l,c){s=s.render;var h=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return oa(n),l=vf(t,n,s,g,h,c),E=Ef(),t!==null&&!Te?(Tf(t,n,c),Vi(t,n,c)):(Mt&&E&&Wc(n),n.flags|=1,qe(t,n,l,c),n.child)}function xg(t,n,s,l,c){if(t===null){var h=s.type;return typeof h=="function"&&!Zc(h)&&h.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=h,Ug(t,n,h,l,c)):(t=Fo(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!Yf(t,c)){var g=h.memoizedProps;if(s=s.compare,s=s!==null?s:al,s(g,l)&&t.ref===n.ref)return Vi(t,n,c)}return n.flags|=1,t=Ci(h,l),t.ref=n.ref,t.return=n,n.child=t}function Ug(t,n,s,l,c){if(t!==null){var h=t.memoizedProps;if(al(h,l)&&t.ref===n.ref)if(Te=!1,n.pendingProps=l=h,Yf(t,c))(t.flags&131072)!==0&&(Te=!0);else return n.lanes=t.lanes,Vi(t,n,c)}return Bf(t,n,s,l,c)}function Lg(t,n,s,l){var c=l.children,h=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|s:s,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~h}else l=0,n.child=null;return zg(t,n,h,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xo(n,h!==null?h.cachePool:null),h!==null?Bm(n,h):gf(),qm(n);else return l=n.lanes=536870912,zg(t,n,h!==null?h.baseLanes|s:s,s,l)}else h!==null?(Xo(n,h.cachePool),Bm(n,h),us(),n.memoizedState=null):(t!==null&&Xo(n,null),gf(),us());return qe(t,n,c,s),n.child}function El(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function zg(t,n,s,l,c){var h=uf();return h=h===null?null:{parent:ve._currentValue,pool:h},n.memoizedState={baseLanes:s,cachePool:h},t!==null&&Xo(n,null),gf(),qm(n),t!==null&&Ka(t,n,l,!0),n.childLanes=c,null}function fu(t,n){return n=du({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function jg(t,n,s){return ha(n,t.child,null,s),t=fu(n,n.pendingProps),t.flags|=2,gn(n),n.memoizedState=null,t}function SE(t,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Mt){if(l.mode==="hidden")return t=fu(n,l),n.lanes=536870912,El(null,t);if(yf(n),(t=Wt)?(t=Zp(t,Nn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:es!==null?{id:fi,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},s=Tm(t),s.return=n,n.child=s,je=n,Wt=null)):t=null,t===null)throw is(n);return n.lanes=536870912,null}return fu(n,l)}var h=t.memoizedState;if(h!==null){var g=h.dehydrated;if(yf(n),c)if(n.flags&256)n.flags&=-257,n=jg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Te||Ka(t,n,s,!1),c=(s&t.childLanes)!==0,Te||c){if(l=Jt,l!==null&&(g=Pr(l,s),g!==0&&g!==h.retryLane))throw h.retryLane=g,sa(t,g),rn(l,t,g),jf;Au(),n=jg(t,n,s)}else t=h.treeContext,Wt=On(g.nextSibling),je=n,Mt=!0,ns=null,Nn=!1,t!==null&&bm(n,t),n=fu(n,l),n.flags|=4096;return n}return t=Ci(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function hu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Bf(t,n,s,l,c){return oa(n),s=vf(t,n,s,l,void 0,c),l=Ef(),t!==null&&!Te?(Tf(t,n,c),Vi(t,n,c)):(Mt&&l&&Wc(n),n.flags|=1,qe(t,n,s,c),n.child)}function Bg(t,n,s,l,c,h){return oa(n),n.updateQueue=null,s=km(n,l,s,c),Pm(t),l=Ef(),t!==null&&!Te?(Tf(t,n,h),Vi(t,n,h)):(Mt&&l&&Wc(n),n.flags|=1,qe(t,n,s,h),n.child)}function qg(t,n,s,l,c){if(oa(n),n.stateNode===null){var h=Ga,g=s.contextType;typeof g=="object"&&g!==null&&(h=Be(g)),h=new s(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Lf,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},ff(n),g=s.contextType,h.context=typeof g=="object"&&g!==null?Be(g):Ga,h.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Uf(n,s,g,l),h.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&Lf.enqueueReplaceState(h,h.state,null),gl(n,l,h,c),ml(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var E=n.memoizedProps,w=ma(s,E);h.props=w;var j=h.context,H=s.contextType;g=Ga,typeof H=="object"&&H!==null&&(g=Be(H));var Q=s.getDerivedStateFromProps;H=typeof Q=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||j!==g)&&Cg(n,h,l,g),as=!1;var B=n.memoizedState;h.state=B,gl(n,l,h,c),ml(),j=n.memoizedState,E||B!==j||as?(typeof Q=="function"&&(Uf(n,s,Q,l),j=n.memoizedState),(w=as||Rg(n,s,w,l,B,j,g))?(H||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=j),h.props=l,h.state=j,h.context=g,l=w):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,hf(t,n),g=n.memoizedProps,H=ma(s,g),h.props=H,Q=n.pendingProps,B=h.context,j=s.contextType,w=Ga,typeof j=="object"&&j!==null&&(w=Be(j)),E=s.getDerivedStateFromProps,(j=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==Q||B!==w)&&Cg(n,h,l,w),as=!1,B=n.memoizedState,h.state=B,gl(n,l,h,c),ml();var k=n.memoizedState;g!==Q||B!==k||as||t!==null&&t.dependencies!==null&&Qo(t.dependencies)?(typeof E=="function"&&(Uf(n,s,E,l),k=n.memoizedState),(H=as||Rg(n,s,H,l,B,k,w)||t!==null&&t.dependencies!==null&&Qo(t.dependencies))?(j||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,k,w),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,k,w)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),h.props=l,h.state=k,h.context=w,l=H):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,hu(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=ha(n,t.child,null,c),n.child=ha(n,null,s,c)):qe(t,n,s,c),n.memoizedState=h.state,t=n.child):t=Vi(t,n,c),t}function Pg(t,n,s,l){return ra(),n.flags|=256,qe(t,n,s,l),n.child}var qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(t){return{baseLanes:t,cachePool:Im()}}function kf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=yn),t}function kg(t,n,s){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=t!==null&&t.memoizedState===null?!1:(fe.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Mt){if(c?os(n):us(),(t=Wt)?(t=Zp(t,Nn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:es!==null?{id:fi,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},s=Tm(t),s.return=n,n.child=s,je=n,Wt=null)):t=null,t===null)throw is(n);return bh(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(us(),c=n.mode,E=du({mode:"hidden",children:E},c),l=aa(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Pf(s),l.childLanes=kf(t,g,s),n.memoizedState=qf,El(null,l)):(os(n),Hf(n,E))}var w=t.memoizedState;if(w!==null&&(E=w.dehydrated,E!==null)){if(h)n.flags&256?(os(n),n.flags&=-257,n=Gf(t,n,s)):n.memoizedState!==null?(us(),n.child=t.child,n.flags|=128,n=null):(us(),E=l.fallback,c=n.mode,l=du({mode:"visible",children:l.children},c),E=aa(E,c,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,ha(n,t.child,null,s),l=n.child,l.memoizedState=Pf(s),l.childLanes=kf(t,g,s),n.memoizedState=qf,n=El(null,l));else if(os(n),bh(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var j=g.dgst;g=j,l=Error(r(419)),l.stack="",l.digest=g,ol({value:l,source:null,stack:null}),n=Gf(t,n,s)}else if(Te||Ka(t,n,s,!1),g=(s&t.childLanes)!==0,Te||g){if(g=Jt,g!==null&&(l=Pr(g,s),l!==0&&l!==w.retryLane))throw w.retryLane=l,sa(t,l),rn(g,t,l),jf;Sh(E)||Au(),n=Gf(t,n,s)}else Sh(E)?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,Wt=On(E.nextSibling),je=n,Mt=!0,ns=null,Nn=!1,t!==null&&bm(n,t),n=Hf(n,l.children),n.flags|=4096);return n}return c?(us(),E=l.fallback,c=n.mode,w=t.child,j=w.sibling,l=Ci(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,j!==null?E=Ci(j,E):(E=aa(E,c,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,El(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Pf(s):(c=E.cachePool,c!==null?(w=ve._currentValue,c=c.parent!==w?{parent:w,pool:w}:c):c=Im(),E={baseLanes:E.baseLanes|s,cachePool:c}),l.memoizedState=E,l.childLanes=kf(t,g,s),n.memoizedState=qf,El(t.child,l)):(os(n),s=t.child,t=s.sibling,s=Ci(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function Hf(t,n){return n=du({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function du(t,n){return t=dn(22,t,null,n),t.lanes=0,t}function Gf(t,n,s){return ha(n,t.child,null,s),t=Hf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Hg(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),af(t.return,n,s)}function Ff(t,n,s,l,c,h){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:h}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=c,g.treeForkCount=h)}function Gg(t,n,s){var l=n.pendingProps,c=l.revealOrder,h=l.tail;l=l.children;var g=fe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(fe,g),qe(t,n,l,s),l=Mt?ll:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hg(t,s,n);else if(t.tag===19)Hg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&eu(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Ff(n,!1,c,s,h,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&eu(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}Ff(n,!0,s,null,h,l);break;case"together":Ff(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Vi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),hs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Ka(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=Ci(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Ci(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Yf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Qo(t)))}function bE(t,n,s){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),ss(n,ve,t.memoizedState.cache),ra();break;case 27:case 5:qs(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:ss(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,yf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(os(n),n.flags|=128,null):(s&n.child.childLanes)!==0?kg(t,n,s):(os(n),t=Vi(t,n,s),t!==null?t.sibling:null);os(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Ka(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return Gg(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(fe,fe.current),l)break;return null;case 22:return n.lanes=0,Lg(t,n,s,n.pendingProps);case 24:ss(n,ve,t.memoizedState.cache)}return Vi(t,n,s)}function Fg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Te=!0;else{if(!Yf(t,s)&&(n.flags&128)===0)return Te=!1,bE(t,n,s);Te=(t.flags&131072)!==0}else Te=!1,Mt&&(n.flags&1048576)!==0&&Sm(n,ll,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=ca(n.elementType),n.type=t,typeof t=="function")Zc(t)?(l=ma(t,l),n.tag=1,n=qg(null,n,t,l,s)):(n.tag=0,n=Bf(null,n,t,l,s));else{if(t!=null){var c=t.$$typeof;if(c===Tt){n.tag=11,n=Mg(null,n,t,l,s);break t}else if(c===C){n.tag=14,n=xg(null,n,t,l,s);break t}}throw n=$t(t)||t,Error(r(306,n,""))}}return n;case 0:return Bf(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=ma(l,n.pendingProps),qg(t,n,l,c,s);case 3:t:{if(Ce(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,hf(t,n),gl(n,l,null,s);var g=n.memoizedState;if(l=g.cache,ss(n,ve,l),l!==h.cache&&rf(n,[ve],s,!0),ml(),l=g.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Pg(t,n,l,s);break t}else if(l!==c){c=Cn(Error(r(424)),n),ol(c),n=Pg(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Wt=On(t.firstChild),je=n,Mt=!0,ns=null,Nn=!0,s=Lm(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ra(),l===c){n=Vi(t,n,s);break t}qe(t,n,l,s)}n=n.child}return n;case 26:return hu(t,n),t===null?(s=ny(n.type,null,n.pendingProps,null))?n.memoizedState=s:Mt||(s=n.type,t=n.pendingProps,l=Nu(bt.current).createElement(s),l[pe]=n,l[Oe]=t,Pe(l,s,t),ye(l),n.stateNode=l):n.memoizedState=ny(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return qs(n),t===null&&Mt&&(l=n.stateNode=Wp(n.type,n.pendingProps,bt.current),je=n,Nn=!0,c=Wt,ys(n.type)?(Rh=c,Wt=On(l.firstChild)):Wt=c),qe(t,n,n.pendingProps.children,s),hu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Mt&&((c=l=Wt)&&(l=tT(l,n.type,n.pendingProps,Nn),l!==null?(n.stateNode=l,je=n,Wt=On(l.firstChild),Nn=!1,c=!0):c=!1),c||is(n)),qs(n),c=n.type,h=n.pendingProps,g=t!==null?t.memoizedProps:null,l=h.children,Eh(c,h)?l=null:g!==null&&Eh(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=vf(t,n,gE,null,null,s),Ul._currentValue=c),hu(t,n),qe(t,n,l,s),n.child;case 6:return t===null&&Mt&&((t=s=Wt)&&(s=eT(s,n.pendingProps,Nn),s!==null?(n.stateNode=s,je=n,Wt=null,t=!0):t=!1),t||is(n)),null;case 13:return kg(t,n,s);case 4:return Ce(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ha(n,null,l,s):qe(t,n,l,s),n.child;case 11:return Mg(t,n,n.type,n.pendingProps,s);case 7:return qe(t,n,n.pendingProps,s),n.child;case 8:return qe(t,n,n.pendingProps.children,s),n.child;case 12:return qe(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,ss(n,n.type,l.value),qe(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,oa(n),c=Be(c),l=l(c),n.flags|=1,qe(t,n,l,s),n.child;case 14:return xg(t,n,n.type,n.pendingProps,s);case 15:return Ug(t,n,n.type,n.pendingProps,s);case 19:return Gg(t,n,s);case 31:return SE(t,n,s);case 22:return Lg(t,n,s,n.pendingProps);case 24:return oa(n),l=Be(ve),t===null?(c=uf(),c===null&&(c=Jt,h=lf(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=s),c=h),n.memoizedState={parent:l,cache:c},ff(n),ss(n,ve,c)):((t.lanes&s)!==0&&(hf(t,n),gl(n,null,null,s),ml()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ss(n,ve,l)):(l=h.cache,ss(n,ve,l),l!==c.cache&&rf(n,[ve],s,!0))),qe(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Mi(t){t.flags|=4}function Qf(t,n,s,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(_p())t.flags|=8192;else throw fa=Jo,cf}else t.flags&=-16777217}function Yg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ly(n))if(_p())t.flags|=8192;else throw fa=Jo,cf}function mu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Eo():536870912,t.lanes|=n,rr|=n)}function Tl(t,n){if(!Mt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function te(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function RE(t,n,s){var l=n.pendingProps;switch(tf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ni(ve),ie(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Qa(n)?Mi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,nf())),te(n),null;case 26:var c=n.type,h=n.memoizedState;return t===null?(Mi(n),h!==null?(te(n),Yg(n,h)):(te(n),Qf(n,c,null,l,s))):h?h!==t.memoizedState?(Mi(n),te(n),Yg(n,h)):(te(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Mi(n),te(n),Qf(n,c,t,l,s)),null;case 27:if(Ra(n),s=bt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return te(n),null}t=at.current,Qa(n)?Rm(n):(t=Wp(c,l,s),n.stateNode=t,Mi(n))}return te(n),null;case 5:if(Ra(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return te(n),null}if(h=at.current,Qa(n))Rm(n);else{var g=Nu(bt.current);switch(h){case 1:h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=g.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}h[pe]=n,h[Oe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)h.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=h;t:switch(Pe(h,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Mi(n)}}return te(n),Qf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=bt.current,Qa(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=je,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[pe]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||kp(t.nodeValue,s)),t||is(n,!0)}else t=Nu(t).createTextNode(l),t[pe]=n,n.stateNode=t}return te(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=Qa(n),s!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[pe]=n}else ra(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),t=!1}else s=nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return te(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Qa(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[pe]=n}else ra(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),c=!1}else c=nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),mu(n,n.updateQueue),te(n),null);case 4:return ie(),t===null&&gh(n.stateNode.containerInfo),te(n),null;case 10:return Ni(n.type),te(n),null;case 19:if(K(fe),l=n.memoizedState,l===null)return te(n),null;if(c=(n.flags&128)!==0,h=l.rendering,h===null)if(c)Tl(l,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=eu(t),h!==null){for(n.flags|=128,Tl(l,!1),t=h.updateQueue,n.updateQueue=t,mu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Em(s,t),s=s.sibling;return nt(fe,fe.current&1|2),Mt&&wi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ze()>vu&&(n.flags|=128,c=!0,Tl(l,!1),n.lanes=4194304)}else{if(!c)if(t=eu(h),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,mu(n,t),Tl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Mt)return te(n),null}else 2*Ze()-l.renderingStartTime>vu&&s!==536870912&&(n.flags|=128,c=!0,Tl(l,!1),n.lanes=4194304);l.isBackwards?(h.sibling=n.child,n.child=h):(t=l.last,t!==null?t.sibling=h:n.child=h,l.last=h)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,s=fe.current,nt(fe,c?s&1|2:s&1),Mt&&wi(n,l.treeForkCount),t):(te(n),null);case 22:case 23:return gn(n),pf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),s=n.updateQueue,s!==null&&mu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&K(ua),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ni(ve),te(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function CE(t,n){switch(tf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ni(ve),ie(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ra(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(r(340));ra()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(gn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ra()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(fe),null;case 4:return ie(),null;case 10:return Ni(n.type),null;case 22:case 23:return gn(n),pf(),t!==null&&K(ua),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ni(ve),null;case 25:return null;default:return null}}function Qg(t,n){switch(tf(n),n.tag){case 3:Ni(ve),ie();break;case 26:case 27:case 5:Ra(n);break;case 4:ie();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:K(fe);break;case 10:Ni(n.type);break;case 22:case 23:gn(n),pf(),t!==null&&K(ua);break;case 24:Ni(ve)}}function Al(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var h=s.create,g=s.inst;l=h(),g.destroy=l}s=s.next}while(s!==c)}}catch(E){Yt(n,n.return,E)}}function cs(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var w=s,j=E;try{j()}catch(H){Yt(c,w,H)}}}l=l.next}while(l!==h)}}catch(H){Yt(n,n.return,H)}}function Kg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{jm(n,s)}catch(l){Yt(t,t.return,l)}}}function Xg(t,n,s){s.props=ma(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Yt(t,n,l)}}function Sl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){Yt(t,n,c)}}function di(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Yt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Yt(t,n,c)}else s.current=null}function Zg(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Yt(t,t.return,c)}}function Kf(t,n,s){try{var l=t.stateNode;KE(l,t.type,s,n),l[Oe]=n}catch(c){Yt(t,t.return,c)}}function Jg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ys(t.type)||t.tag===4}function Xf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Jg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ys(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zf(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=jn));else if(l!==4&&(l===27&&ys(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Zf(t,n,s),t=t.sibling;t!==null;)Zf(t,n,s),t=t.sibling}function gu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&ys(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(gu(t,n,s),t=t.sibling;t!==null;)gu(t,n,s),t=t.sibling}function $g(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,s),n[pe]=t,n[Oe]=s}catch(h){Yt(t,t.return,h)}}var xi=!1,Ae=!1,Jf=!1,Wg=typeof WeakSet=="function"?WeakSet:Set,Me=null;function wE(t,n){if(t=t.containerInfo,_h=Lu,t=fm(t),Hc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break t}var g=0,E=-1,w=-1,j=0,H=0,Q=t,B=null;e:for(;;){for(var k;Q!==s||c!==0&&Q.nodeType!==3||(E=g+c),Q!==h||l!==0&&Q.nodeType!==3||(w=g+l),Q.nodeType===3&&(g+=Q.nodeValue.length),(k=Q.firstChild)!==null;)B=Q,Q=k;for(;;){if(Q===t)break e;if(B===s&&++j===c&&(E=g),B===h&&++H===l&&(w=g),(k=Q.nextSibling)!==null)break;Q=B,B=Q.parentNode}Q=k}s=E===-1||w===-1?null:{start:E,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(vh={focusedElem:t,selectionRange:s},Lu=!1,Me=n;Me!==null;)if(n=Me,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Me=t;else for(;Me!==null;){switch(n=Me,h=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)c=t[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,s=n,c=h.memoizedProps,h=h.memoizedState,l=s.stateNode;try{var rt=ma(s.type,c);t=l.getSnapshotBeforeUpdate(rt,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(ht){Yt(s,s.return,ht)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Ah(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ah(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Me=t;break}Me=n.return}}function tp(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Li(t,s),l&4&&Al(5,s);break;case 1:if(Li(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){Yt(s,s.return,g)}else{var c=ma(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(s,s.return,g)}}l&64&&Kg(s),l&512&&Sl(s,s.return);break;case 3:if(Li(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{jm(t,n)}catch(g){Yt(s,s.return,g)}}break;case 27:n===null&&l&4&&$g(s);case 26:case 5:Li(t,s),n===null&&l&4&&Zg(s),l&512&&Sl(s,s.return);break;case 12:Li(t,s);break;case 31:Li(t,s),l&4&&ip(t,s);break;case 13:Li(t,s),l&4&&sp(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=LE.bind(null,s),nT(t,s))));break;case 22:if(l=s.memoizedState!==null||xi,!l){n=n!==null&&n.memoizedState!==null||Ae,c=xi;var h=Ae;xi=l,(Ae=n)&&!h?zi(t,s,(s.subtreeFlags&8772)!==0):Li(t,s),xi=c,Ae=h}break;case 30:break;default:Li(t,s)}}function ep(t){var n=t.alternate;n!==null&&(t.alternate=null,ep(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ia(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ae=null,en=!1;function Ui(t,n,s){for(s=s.child;s!==null;)np(t,n,s),s=s.sibling}function np(t,n,s){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(xn,s)}catch{}switch(s.tag){case 26:Ae||di(s,n),Ui(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ae||di(s,n);var l=ae,c=en;ys(s.type)&&(ae=s.stateNode,en=!1),Ui(t,n,s),Vl(s.stateNode),ae=l,en=c;break;case 5:Ae||di(s,n);case 6:if(l=ae,c=en,ae=null,Ui(t,n,s),ae=l,en=c,ae!==null)if(en)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(s.stateNode)}catch(h){Yt(s,n,h)}else try{ae.removeChild(s.stateNode)}catch(h){Yt(s,n,h)}break;case 18:ae!==null&&(en?(t=ae,Kp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),mr(t)):Kp(ae,s.stateNode));break;case 4:l=ae,c=en,ae=s.stateNode.containerInfo,en=!0,Ui(t,n,s),ae=l,en=c;break;case 0:case 11:case 14:case 15:cs(2,s,n),Ae||cs(4,s,n),Ui(t,n,s);break;case 1:Ae||(di(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Xg(s,n,l)),Ui(t,n,s);break;case 21:Ui(t,n,s);break;case 22:Ae=(l=Ae)||s.memoizedState!==null,Ui(t,n,s),Ae=l;break;default:Ui(t,n,s)}}function ip(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{mr(t)}catch(s){Yt(n,n.return,s)}}}function sp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{mr(t)}catch(s){Yt(n,n.return,s)}}function DE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Wg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Wg),n;default:throw Error(r(435,t.tag))}}function pu(t,n){var s=DE(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=zE.bind(null,t,l);l.then(c,c)}})}function nn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],h=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(ys(E.type)){ae=E.stateNode,en=!1;break t}break;case 5:ae=E.stateNode,en=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(ae===null)throw Error(r(160));np(h,g,c),ae=null,en=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ap(n,t),n=n.sibling}var Gn=null;function ap(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:nn(n,t),sn(t),l&4&&(cs(3,t,t.return),Al(3,t),cs(5,t,t.return));break;case 1:nn(n,t),sn(t),l&512&&(Ae||s===null||di(s,s.return)),l&64&&xi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Gn;if(nn(n,t),sn(t),l&512&&(Ae||s===null||di(s,s.return)),l&4){var h=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Wn]||h[pe]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),Pe(h,l,s),h[pe]=t,ye(h),l=h;break t;case"link":var g=ay("link","href",c).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(h=g[E],h.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&h.getAttribute("rel")===(s.rel==null?null:s.rel)&&h.getAttribute("title")===(s.title==null?null:s.title)&&h.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}h=c.createElement(l),Pe(h,l,s),c.head.appendChild(h);break;case"meta":if(g=ay("meta","content",c).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(h=g[E],h.getAttribute("content")===(s.content==null?null:""+s.content)&&h.getAttribute("name")===(s.name==null?null:s.name)&&h.getAttribute("property")===(s.property==null?null:s.property)&&h.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&h.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}h=c.createElement(l),Pe(h,l,s),c.head.appendChild(h);break;default:throw Error(r(468,l))}h[pe]=t,ye(h),l=h}t.stateNode=l}else ry(c,t.type,t.stateNode);else t.stateNode=sy(c,l,t.memoizedProps);else h!==l?(h===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):h.count--,l===null?ry(c,t.type,t.stateNode):sy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Kf(t,t.memoizedProps,s.memoizedProps)}break;case 27:nn(n,t),sn(t),l&512&&(Ae||s===null||di(s,s.return)),s!==null&&l&4&&Kf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(nn(n,t),sn(t),l&512&&(Ae||s===null||di(s,s.return)),t.flags&32){c=t.stateNode;try{tn(c,"")}catch(rt){Yt(t,t.return,rt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Kf(t,c,s!==null?s.memoizedProps:c)),l&1024&&(Jf=!0);break;case 6:if(nn(n,t),sn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(rt){Yt(t,t.return,rt)}}break;case 3:if(Vu=null,c=Gn,Gn=Iu(n.containerInfo),nn(n,t),Gn=c,sn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{mr(n.containerInfo)}catch(rt){Yt(t,t.return,rt)}Jf&&(Jf=!1,rp(t));break;case 4:l=Gn,Gn=Iu(t.stateNode.containerInfo),nn(n,t),sn(t),Gn=l;break;case 12:nn(n,t),sn(t);break;case 31:nn(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pu(t,l)));break;case 13:nn(n,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(_u=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pu(t,l)));break;case 22:c=t.memoizedState!==null;var w=s!==null&&s.memoizedState!==null,j=xi,H=Ae;if(xi=j||c,Ae=H||w,nn(n,t),Ae=H,xi=j,sn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||w||xi||Ae||ga(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){w=s=n;try{if(h=w.stateNode,c)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=w.stateNode;var Q=w.memoizedProps.style,B=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(rt){Yt(w,w.return,rt)}}}else if(n.tag===6){if(s===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(rt){Yt(w,w.return,rt)}}}else if(n.tag===18){if(s===null){w=n;try{var k=w.stateNode;c?Xp(k,!0):Xp(w.stateNode,!1)}catch(rt){Yt(w,w.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,pu(t,s))));break;case 19:nn(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pu(t,l)));break;case 30:break;case 21:break;default:nn(n,t),sn(t)}}function sn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Jg(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,h=Xf(t);gu(t,h,c);break;case 5:var g=s.stateNode;s.flags&32&&(tn(g,""),s.flags&=-33);var E=Xf(t);gu(t,E,g);break;case 3:case 4:var w=s.stateNode.containerInfo,j=Xf(t);Zf(t,j,w);break;default:throw Error(r(161))}}catch(H){Yt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function rp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;rp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Li(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)tp(t,n.alternate,n),n=n.sibling}function ga(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:cs(4,n,n.return),ga(n);break;case 1:di(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Xg(n,n.return,s),ga(n);break;case 27:Vl(n.stateNode);case 26:case 5:di(n,n.return),ga(n);break;case 22:n.memoizedState===null&&ga(n);break;case 30:ga(n);break;default:ga(n)}t=t.sibling}}function zi(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,g=h.flags;switch(h.tag){case 0:case 11:case 15:zi(c,h,s),Al(4,h);break;case 1:if(zi(c,h,s),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(j){Yt(l,l.return,j)}if(l=h,c=l.updateQueue,c!==null){var E=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)zm(w[c],E)}catch(j){Yt(l,l.return,j)}}s&&g&64&&Kg(h),Sl(h,h.return);break;case 27:$g(h);case 26:case 5:zi(c,h,s),s&&l===null&&g&4&&Zg(h),Sl(h,h.return);break;case 12:zi(c,h,s);break;case 31:zi(c,h,s),s&&g&4&&ip(c,h);break;case 13:zi(c,h,s),s&&g&4&&sp(c,h);break;case 22:h.memoizedState===null&&zi(c,h,s),Sl(h,h.return);break;case 30:break;default:zi(c,h,s)}n=n.sibling}}function $f(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&ul(s))}function Wf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t))}function Fn(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)lp(t,n,s,l),n=n.sibling}function lp(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Fn(t,n,s,l),c&2048&&Al(9,n);break;case 1:Fn(t,n,s,l);break;case 3:Fn(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t)));break;case 12:if(c&2048){Fn(t,n,s,l),t=n.stateNode;try{var h=n.memoizedProps,g=h.id,E=h.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Yt(n,n.return,w)}}else Fn(t,n,s,l);break;case 31:Fn(t,n,s,l);break;case 13:Fn(t,n,s,l);break;case 23:break;case 22:h=n.stateNode,g=n.alternate,n.memoizedState!==null?h._visibility&2?Fn(t,n,s,l):bl(t,n):h._visibility&2?Fn(t,n,s,l):(h._visibility|=2,ir(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&$f(g,n);break;case 24:Fn(t,n,s,l),c&2048&&Wf(n.alternate,n);break;default:Fn(t,n,s,l)}}function ir(t,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=t,g=n,E=s,w=l,j=g.flags;switch(g.tag){case 0:case 11:case 15:ir(h,g,E,w,c),Al(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?ir(h,g,E,w,c):bl(h,g):(H._visibility|=2,ir(h,g,E,w,c)),c&&j&2048&&$f(g.alternate,g);break;case 24:ir(h,g,E,w,c),c&&j&2048&&Wf(g.alternate,g);break;default:ir(h,g,E,w,c)}n=n.sibling}}function bl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:bl(s,l),c&2048&&$f(l.alternate,l);break;case 24:bl(s,l),c&2048&&Wf(l.alternate,l);break;default:bl(s,l)}n=n.sibling}}var Rl=8192;function sr(t,n,s){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)op(t,n,s),t=t.sibling}function op(t,n,s){switch(t.tag){case 26:sr(t,n,s),t.flags&Rl&&t.memoizedState!==null&&mT(s,Gn,t.memoizedState,t.memoizedProps);break;case 5:sr(t,n,s);break;case 3:case 4:var l=Gn;Gn=Iu(t.stateNode.containerInfo),sr(t,n,s),Gn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Rl,Rl=16777216,sr(t,n,s),Rl=l):sr(t,n,s));break;default:sr(t,n,s)}}function up(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Cl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Me=l,fp(l,t)}up(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)cp(t),t=t.sibling}function cp(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&cs(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,yu(t)):Cl(t);break;default:Cl(t)}}function yu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Me=l,fp(l,t)}up(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:cs(8,n,n.return),yu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,yu(n));break;default:yu(n)}t=t.sibling}}function fp(t,n){for(;Me!==null;){var s=Me;switch(s.tag){case 0:case 11:case 15:cs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Me=l;else t:for(s=t;Me!==null;){l=Me;var c=l.sibling,h=l.return;if(ep(l),l===s){Me=null;break t}if(c!==null){c.return=h,Me=c;break t}Me=h}}}var NE={getCacheForType:function(t){var n=Be(ve),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Be(ve).controller.signal}},IE=typeof WeakMap=="function"?WeakMap:Map,Pt=0,Jt=null,wt=null,Nt=0,Ft=0,pn=null,fs=!1,ar=!1,th=!1,ji=0,oe=0,hs=0,pa=0,eh=0,yn=0,rr=0,wl=null,an=null,nh=!1,_u=0,hp=0,vu=1/0,Eu=null,ds=null,De=0,ms=null,lr=null,Bi=0,ih=0,sh=null,dp=null,Dl=0,ah=null;function _n(){return(Pt&2)!==0&&Nt!==0?Nt&-Nt:G.T!==null?fh():To()}function mp(){if(yn===0)if((Nt&536870912)===0||Mt){var t=Hs;Hs<<=1,(Hs&3932160)===0&&(Hs=262144),yn=t}else yn=536870912;return t=mn.current,t!==null&&(t.flags|=32),yn}function rn(t,n,s){(t===Jt&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(or(t,0),gs(t,Nt,yn,!1)),Gs(t,s),((Pt&2)===0||t!==Jt)&&(t===Jt&&((Pt&2)===0&&(pa|=s),oe===4&&gs(t,Nt,yn,!1)),mi(t))}function gp(t,n,s){if((Pt&6)!==0)throw Error(r(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Un(t,n),c=l?ME(t,n):lh(t,n,!0),h=l;do{if(c===0){ar&&!l&&gs(t,n,0,!1);break}else{if(s=t.current.alternate,h&&!OE(s)){c=lh(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=wl;var w=E.current.memoizedState.isDehydrated;if(w&&(or(E,g).flags|=256),g=lh(E,g,!1),g!==2){if(th&&!w){E.errorRecoveryDisabledLanes|=h,pa|=h,c=4;break t}h=an,an=c,h!==null&&(an===null?an=h:an.push.apply(an,h))}c=g}if(h=!1,c!==2)continue}}if(c===1){or(t,0),gs(t,n,0,!0);break}t:{switch(l=t,h=c,h){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:gs(l,n,yn,!fs);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=_u+300-Ze(),10<c)){if(gs(l,n,yn,!fs),Zn(l,0,!0)!==0)break t;Bi=n,l.timeoutHandle=Yp(pp.bind(null,l,s,an,Eu,nh,n,yn,pa,rr,fs,h,"Throttled",-0,0),c);break t}pp(l,s,an,Eu,nh,n,yn,pa,rr,fs,h,null,-0,0)}}break}while(!0);mi(t)}function pp(t,n,s,l,c,h,g,E,w,j,H,Q,B,k){if(t.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},op(n,h,Q);var rt=(h&62914560)===h?_u-Ze():(h&4194048)===h?hp-Ze():0;if(rt=gT(Q,rt),rt!==null){Bi=h,t.cancelPendingCommit=rt(bp.bind(null,t,n,h,s,l,c,g,E,w,H,Q,null,B,k)),gs(t,h,g,!j);return}}bp(t,n,h,s,l,c,g,E,w)}function OE(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],h=c.getSnapshot;c=c.value;try{if(!hn(h(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function gs(t,n,s,l){n&=~eh,n&=~pa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-ue(c),g=1<<h;l[h]=-1,c&=~g}s!==0&&Fs(t,s,n)}function Tu(){return(Pt&6)===0?(Nl(0),!1):!0}function rh(){if(wt!==null){if(Ft===0)var t=wt.return;else t=wt,Di=la=null,Af(t),$a=null,fl=0,t=wt;for(;t!==null;)Qg(t.alternate,t),t=t.return;wt=null}}function or(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,JE(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Bi=0,rh(),Jt=t,wt=s=Ci(t.current,null),Nt=n,Ft=0,pn=null,fs=!1,ar=Un(t,n),th=!1,rr=yn=eh=pa=hs=oe=0,an=wl=null,nh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ue(l),h=1<<c;n|=t[c],l&=~h}return ji=n,ko(),s}function yp(t,n){St=null,G.H=vl,n===Ja||n===Zo?(n=Mm(),Ft=3):n===cf?(n=Mm(),Ft=4):Ft=n===jf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,wt===null&&(oe=1,cu(t,Cn(n,t.current)))}function _p(){var t=mn.current;return t===null?!0:(Nt&4194048)===Nt?In===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?t===In:!1}function vp(){var t=G.H;return G.H=vl,t===null?vl:t}function Ep(){var t=G.A;return G.A=NE,t}function Au(){oe=4,fs||(Nt&4194048)!==Nt&&mn.current!==null||(ar=!0),(hs&134217727)===0&&(pa&134217727)===0||Jt===null||gs(Jt,Nt,yn,!1)}function lh(t,n,s){var l=Pt;Pt|=2;var c=vp(),h=Ep();(Jt!==t||Nt!==n)&&(Eu=null,or(t,n)),n=!1;var g=oe;t:do try{if(Ft!==0&&wt!==null){var E=wt,w=pn;switch(Ft){case 8:rh(),g=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var j=Ft;if(Ft=0,pn=null,ur(t,E,w,j),s&&ar){g=0;break t}break;default:j=Ft,Ft=0,pn=null,ur(t,E,w,j)}}VE(),g=oe;break}catch(H){yp(t,H)}while(!0);return n&&t.shellSuspendCounter++,Di=la=null,Pt=l,G.H=c,G.A=h,wt===null&&(Jt=null,Nt=0,ko()),g}function VE(){for(;wt!==null;)Tp(wt)}function ME(t,n){var s=Pt;Pt|=2;var l=vp(),c=Ep();Jt!==t||Nt!==n?(Eu=null,vu=Ze()+500,or(t,n)):ar=Un(t,n);t:do try{if(Ft!==0&&wt!==null){n=wt;var h=pn;e:switch(Ft){case 1:Ft=0,pn=null,ur(t,n,h,1);break;case 2:case 9:if(Om(h)){Ft=0,pn=null,Ap(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==t||(Ft=7),mi(t)},h.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Om(h)?(Ft=0,pn=null,Ap(n)):(Ft=0,pn=null,ur(t,n,h,7));break;case 5:var g=null;switch(wt.tag){case 26:g=wt.memoizedState;case 5:case 27:var E=wt;if(g?ly(g):E.stateNode.complete){Ft=0,pn=null;var w=E.sibling;if(w!==null)wt=w;else{var j=E.return;j!==null?(wt=j,Su(j)):wt=null}break e}}Ft=0,pn=null,ur(t,n,h,5);break;case 6:Ft=0,pn=null,ur(t,n,h,6);break;case 8:rh(),oe=6;break t;default:throw Error(r(462))}}xE();break}catch(H){yp(t,H)}while(!0);return Di=la=null,G.H=l,G.A=c,Pt=s,wt!==null?0:(Jt=null,Nt=0,ko(),oe)}function xE(){for(;wt!==null&&!Lc();)Tp(wt)}function Tp(t){var n=Fg(t.alternate,t,ji);t.memoizedProps=t.pendingProps,n===null?Su(t):wt=n}function Ap(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Bg(s,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=Bg(s,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:Af(n);default:Qg(s,n),n=wt=Em(n,ji),n=Fg(s,n,ji)}t.memoizedProps=t.pendingProps,n===null?Su(t):wt=n}function ur(t,n,s,l){Di=la=null,Af(n),$a=null,fl=0;var c=n.return;try{if(AE(t,c,n,s,Nt)){oe=1,cu(t,Cn(s,t.current)),wt=null;return}}catch(h){if(c!==null)throw wt=c,h;oe=1,cu(t,Cn(s,t.current)),wt=null;return}n.flags&32768?(Mt||l===1?t=!0:ar||(Nt&536870912)!==0?t=!1:(fs=t=!0,(l===2||l===9||l===3||l===6)&&(l=mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Sp(n,t)):Su(n)}function Su(t){var n=t;do{if((n.flags&32768)!==0){Sp(n,fs);return}t=n.return;var s=RE(n.alternate,n,ji);if(s!==null){wt=s;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);oe===0&&(oe=5)}function Sp(t,n){do{var s=CE(t.alternate,t);if(s!==null){s.flags&=32767,wt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=s}while(t!==null);oe=6,wt=null}function bp(t,n,s,l,c,h,g,E,w){t.cancelPendingCommit=null;do bu();while(De!==0);if((Pt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(h=n.lanes|n.childLanes,h|=Kc,Bc(t,s,h,g,E,w),t===Jt&&(wt=Jt=null,Nt=0),lr=n,ms=t,Bi=s,ih=h,sh=c,dp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,jE(Fi,function(){return Np(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=et.p,et.p=2,g=Pt,Pt|=4;try{wE(t,n,s)}finally{Pt=g,et.p=c,G.T=l}}De=1,Rp(),Cp(),wp()}}function Rp(){if(De===1){De=0;var t=ms,n=lr,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=et.p;et.p=2;var c=Pt;Pt|=4;try{ap(n,t);var h=vh,g=fm(t.containerInfo),E=h.focusedElem,w=h.selectionRange;if(g!==E&&E&&E.ownerDocument&&cm(E.ownerDocument.documentElement,E)){if(w!==null&&Hc(E)){var j=w.start,H=w.end;if(H===void 0&&(H=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,B=Q&&Q.defaultView||window;if(B.getSelection){var k=B.getSelection(),rt=E.textContent.length,ht=Math.min(w.start,rt),Zt=w.end===void 0?ht:Math.min(w.end,rt);!k.extend&&ht>Zt&&(g=Zt,Zt=ht,ht=g);var x=um(E,ht),O=um(E,Zt);if(x&&O&&(k.rangeCount!==1||k.anchorNode!==x.node||k.anchorOffset!==x.offset||k.focusNode!==O.node||k.focusOffset!==O.offset)){var z=Q.createRange();z.setStart(x.node,x.offset),k.removeAllRanges(),ht>Zt?(k.addRange(z),k.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),k.addRange(z))}}}}for(Q=[],k=E;k=k.parentNode;)k.nodeType===1&&Q.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var Y=Q[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Lu=!!_h,vh=_h=null}finally{Pt=c,et.p=l,G.T=s}}t.current=n,De=2}}function Cp(){if(De===2){De=0;var t=ms,n=lr,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=et.p;et.p=2;var c=Pt;Pt|=4;try{tp(t,n.alternate,n)}finally{Pt=c,et.p=l,G.T=s}}De=3}}function wp(){if(De===4||De===3){De=0,mo();var t=ms,n=lr,s=Bi,l=dp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,lr=ms=null,Dp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ds=null),Ai(s),n=n.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(xn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=et.p,et.p=2,G.T=null;try{for(var h=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];h(E.value,{componentStack:E.stack})}}finally{G.T=n,et.p=c}}(Bi&3)!==0&&bu(),mi(t),c=t.pendingLanes,(s&261930)!==0&&(c&42)!==0?t===ah?Dl++:(Dl=0,ah=t):Dl=0,Nl(0)}}function Dp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ul(n)))}function bu(){return Rp(),Cp(),wp(),Np()}function Np(){if(De!==5)return!1;var t=ms,n=ih;ih=0;var s=Ai(Bi),l=G.T,c=et.p;try{et.p=32>s?32:s,G.T=null,s=sh,sh=null;var h=ms,g=Bi;if(De=0,lr=ms=null,Bi=0,(Pt&6)!==0)throw Error(r(331));var E=Pt;if(Pt|=4,cp(h.current),lp(h,h.current,g,s),Pt=E,Nl(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(xn,h)}catch{}return!0}finally{et.p=c,G.T=l,Dp(t,n)}}function Ip(t,n,s){n=Cn(s,n),n=zf(t.stateNode,n,2),t=ls(t,n,2),t!==null&&(Gs(t,2),mi(t))}function Yt(t,n,s){if(t.tag===3)Ip(t,t,s);else for(;n!==null;){if(n.tag===3){Ip(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ds===null||!ds.has(l))){t=Cn(s,t),s=Og(2),l=ls(n,s,2),l!==null&&(Vg(s,l,n,t),Gs(l,2),mi(l));break}}n=n.return}}function oh(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new IE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(th=!0,c.add(s),t=UE.bind(null,t,n,s),n.then(t,t))}function UE(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Jt===t&&(Nt&s)===s&&(oe===4||oe===3&&(Nt&62914560)===Nt&&300>Ze()-_u?(Pt&2)===0&&or(t,0):eh|=s,rr===Nt&&(rr=0)),mi(t)}function Op(t,n){n===0&&(n=Eo()),t=sa(t,n),t!==null&&(Gs(t,n),mi(t))}function LE(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Op(t,s)}function zE(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Op(t,s)}function jE(t,n){return we(t,n)}var Ru=null,cr=null,uh=!1,Cu=!1,ch=!1,ps=0;function mi(t){t!==cr&&t.next===null&&(cr===null?Ru=cr=t:cr=cr.next=t),Cu=!0,uh||(uh=!0,qE())}function Nl(t,n){if(!ch&&Cu){ch=!0;do for(var s=!1,l=Ru;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var g=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-ue(42|t)+1)-1,h&=c&~(g&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(s=!0,Up(l,h))}else h=Nt,h=Zn(l,l===Jt?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||Un(l,h)||(s=!0,Up(l,h));l=l.next}while(s);ch=!1}}function BE(){Vp()}function Vp(){Cu=uh=!1;var t=0;ps!==0&&ZE()&&(t=ps);for(var n=Ze(),s=null,l=Ru;l!==null;){var c=l.next,h=Mp(l,n);h===0?(l.next=null,s===null?Ru=c:s.next=c,c===null&&(cr=s)):(s=l,(t!==0||(h&3)!==0)&&(Cu=!0)),l=c}De!==0&&De!==5||Nl(t),ps!==0&&(ps=0)}function Mp(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var g=31-ue(h),E=1<<g,w=c[g];w===-1?((E&s)===0||(E&l)!==0)&&(c[g]=jc(E,n)):w<=n&&(t.expiredLanes|=E),h&=~E}if(n=Jt,s=Nt,s=Zn(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Gi(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Un(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Gi(l),Ai(s)){case 2:case 8:s=Br;break;case 32:s=Fi;break;case 268435456:s=go;break;default:s=Fi}return l=xp.bind(null,t),s=we(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Gi(l),t.callbackPriority=2,t.callbackNode=null,2}function xp(t,n){if(De!==0&&De!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(bu()&&t.callbackNode!==s)return null;var l=Nt;return l=Zn(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(gp(t,l,n),Mp(t,Ze()),t.callbackNode!=null&&t.callbackNode===s?xp.bind(null,t):null)}function Up(t,n){if(bu())return null;gp(t,n,!0)}function qE(){$E(function(){(Pt&6)!==0?we(jr,BE):Vp()})}function fh(){if(ps===0){var t=Xa;t===0&&(t=Kn,Kn<<=1,(Kn&261888)===0&&(Kn=256)),ps=t}return ps}function Lp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:xa(""+t)}function zp(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function PE(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var h=Lp((c[Oe]||null).action),g=l.submitter;g&&(n=(n=g[Oe]||null)?Lp(n.formAction):g.getAttribute("formAction"),n!==null&&(h=n,g=null));var E=new li("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ps!==0){var w=g?zp(c,g):new FormData(c);Of(s,{pending:!0,data:w,method:c.method,action:h},null,w)}}else typeof h=="function"&&(E.preventDefault(),w=g?zp(c,g):new FormData(c),Of(s,{pending:!0,data:w,method:c.method,action:h},h,w))},currentTarget:c}]})}}for(var hh=0;hh<Qc.length;hh++){var dh=Qc[hh],kE=dh.toLowerCase(),HE=dh[0].toUpperCase()+dh.slice(1);Hn(kE,"on"+HE)}Hn(mm,"onAnimationEnd"),Hn(gm,"onAnimationIteration"),Hn(pm,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(aE,"onTransitionRun"),Hn(rE,"onTransitionStart"),Hn(lE,"onTransitionCancel"),Hn(ym,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function jp(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],w=E.instance,j=E.currentTarget;if(E=E.listener,w!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=j;try{h(c)}catch(H){Po(H)}c.currentTarget=null,h=w}else for(g=0;g<l.length;g++){if(E=l[g],w=E.instance,j=E.currentTarget,E=E.listener,w!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=j;try{h(c)}catch(H){Po(H)}c.currentTarget=null,h=w}}}}function Dt(t,n){var s=n[Na];s===void 0&&(s=n[Na]=new Set);var l=t+"__bubble";s.has(l)||(Bp(n,t,2,!1),s.add(l))}function mh(t,n,s){var l=0;n&&(l|=4),Bp(s,t,l,n)}var wu="_reactListening"+Math.random().toString(36).slice(2);function gh(t){if(!t[wu]){t[wu]=!0,kr.forEach(function(s){s!=="selectionchange"&&(GE.has(s)||mh(s,!1,t),mh(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[wu]||(n[wu]=!0,mh("selectionchange",!1,n))}}function Bp(t,n,s,l){switch(my(n)){case 2:var c=_T;break;case 8:c=vT;break;default:c=Ih}s=c.bind(null,n,s,t),c=void 0,!Zs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function ph(t,n,s,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ti(E),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){l=h=g;continue t}E=E.parentNode}}l=l.return}Ji(function(){var j=h,H=An(s),Q=[];t:{var B=_m.get(t);if(B!==void 0){var k=li,rt=t;switch(t){case"keypress":if($s(s)===0)break t;case"keydown":case"keyup":k=jo;break;case"focusin":rt="focus",k=ta;break;case"focusout":rt="blur",k=ta;break;case"beforeblur":case"afterblur":k=ta;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=el;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=No;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=m;break;case mm:case gm:case pm:k=Oo;break;case ym:k=T;break;case"scroll":case"scrollend":k=tl;break;case"wheel":k=P;break;case"copy":case"cut":case"paste":k=Vo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Ri;break;case"toggle":case"beforetoggle":k=At}var ht=(n&4)!==0,Zt=!ht&&(t==="scroll"||t==="scrollend"),x=ht?B!==null?B+"Capture":null:B;ht=[];for(var O=j,z;O!==null;){var Y=O;if(z=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||z===null||x===null||(Y=Bn(O,x),Y!=null&&ht.push(Ol(O,Y,z))),Zt)break;O=O.return}0<ht.length&&(B=new k(B,rt,null,s,H),Q.push({event:B,listeners:ht}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&s!==Jr&&(rt=s.relatedTarget||s.fromElement)&&(ti(rt)||rt[$n]))break t;if((k||B)&&(B=H.window===H?H:(B=H.ownerDocument)?B.defaultView||B.parentWindow:window,k?(rt=s.relatedTarget||s.toElement,k=j,rt=rt?ti(rt):null,rt!==null&&(Zt=f(rt),ht=rt.tag,rt!==Zt||ht!==5&&ht!==27&&ht!==6)&&(rt=null)):(k=null,rt=j),k!==rt)){if(ht=el,Y="onMouseLeave",x="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ht=Ri,Y="onPointerLeave",x="onPointerEnter",O="pointer"),Zt=k==null?B:cn(k),z=rt==null?B:cn(rt),B=new ht(Y,O+"leave",k,s,H),B.target=Zt,B.relatedTarget=z,Y=null,ti(H)===j&&(ht=new ht(x,O+"enter",rt,s,H),ht.target=z,ht.relatedTarget=Zt,Y=ht),Zt=Y,k&&rt)e:{for(ht=FE,x=k,O=rt,z=0,Y=x;Y;Y=ht(Y))z++;Y=0;for(var ut=O;ut;ut=ht(ut))Y++;for(;0<z-Y;)x=ht(x),z--;for(;0<Y-z;)O=ht(O),Y--;for(;z--;){if(x===O||O!==null&&x===O.alternate){ht=x;break e}x=ht(x),O=ht(O)}ht=null}else ht=null;k!==null&&qp(Q,B,k,ht,!1),rt!==null&&Zt!==null&&qp(Q,Zt,rt,ht,!0)}}t:{if(B=j?cn(j):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var jt=im;else if(em(B))if(sm)jt=nE;else{jt=tE;var lt=W0}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&Ma(j.elementType)&&(jt=im):jt=eE;if(jt&&(jt=jt(t,j))){nm(Q,jt,s,H);break t}lt&&lt(t,B,j),t==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Kr(B,"number",B.value)}switch(lt=j?cn(j):window,t){case"focusin":(em(lt)||lt.contentEditable==="true")&&(Pa=lt,Gc=j,rl=null);break;case"focusout":rl=Gc=Pa=null;break;case"mousedown":Fc=!0;break;case"contextmenu":case"mouseup":case"dragend":Fc=!1,hm(Q,s,H);break;case"selectionchange":if(sE)break;case"keydown":case"keyup":hm(Q,s,H)}var Rt;if(qt)t:{switch(t){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else qa?ea(t,s)&&(It="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(It="onCompositionStart");It&&(ci&&s.locale!=="ko"&&(qa||It!=="onCompositionStart"?It==="onCompositionEnd"&&qa&&(Rt=Wr()):(ri=H,$r="value"in ri?ri.value:ri.textContent,qa=!0)),lt=Du(j,It),0<lt.length&&(It=new ui(It,t,null,s,H),Q.push({event:It,listeners:lt}),Rt?It.data=Rt:(Rt=Ba(s),Rt!==null&&(It.data=Rt)))),(Rt=bn?X0(t,s):Z0(t,s))&&(It=Du(j,"onBeforeInput"),0<It.length&&(lt=new ui("onBeforeInput","beforeinput",null,s,H),Q.push({event:lt,listeners:It}),lt.data=Rt)),PE(Q,t,j,s,H)}jp(Q,n)})}function Ol(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Du(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Bn(t,s),c!=null&&l.unshift(Ol(t,c,h)),c=Bn(t,n),c!=null&&l.push(Ol(t,c,h))),t.tag===3)return l;t=t.return}return[]}function FE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function qp(t,n,s,l,c){for(var h=n._reactName,g=[];s!==null&&s!==l;){var E=s,w=E.alternate,j=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||j===null||(w=j,c?(j=Bn(s,h),j!=null&&g.unshift(Ol(s,j,w))):c||(j=Bn(s,h),j!=null&&g.push(Ol(s,j,w)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var YE=/\r\n?/g,QE=/\u0000|\uFFFD/g;function Pp(t){return(typeof t=="string"?t:""+t).replace(YE,`
`).replace(QE,"")}function kp(t,n){return n=Pp(n),Pp(t)===n}function Xt(t,n,s,l,c,h){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||tn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&tn(t,""+l);break;case"className":fn(t,"class",l);break;case"tabIndex":fn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(t,s,l);break;case"style":Zr(t,l,h);break;case"data":if(n!=="object"){fn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=xa(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(s==="formAction"?(n!=="input"&&Xt(t,n,"name",c.name,c,null),Xt(t,n,"formEncType",c.formEncType,c,null),Xt(t,n,"formMethod",c.formMethod,c,null),Xt(t,n,"formTarget",c.formTarget,c,null)):(Xt(t,n,"encType",c.encType,c,null),Xt(t,n,"method",c.method,c,null),Xt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=xa(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=jn);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=xa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),Oa(t,"popover",l);break;case"xlinkActuate":_e(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":_e(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":_e(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":_e(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":_e(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":_e(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":_e(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":_e(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":_e(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Oa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Do.get(s)||s,Oa(t,s,l))}}function yh(t,n,s,l,c,h){switch(s){case"style":Zr(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?tn(t,l):(typeof l=="number"||typeof l=="bigint")&&tn(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hr.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),h=t[Oe]||null,h=h!=null?h[s]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Oa(t,s,l)}}}function Pe(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,h;for(h in s)if(s.hasOwnProperty(h)){var g=s[h];if(g!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(t,n,h,g,s,null)}}c&&Xt(t,n,"srcSet",s.srcSet,s,null),l&&Xt(t,n,"src",s.src,s,null);return;case"input":Dt("invalid",t);var E=h=g=c=null,w=null,j=null;for(l in s)if(s.hasOwnProperty(l)){var H=s[l];if(H!=null)switch(l){case"name":c=H;break;case"type":g=H;break;case"checked":w=H;break;case"defaultChecked":j=H;break;case"value":h=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:Xt(t,n,l,H,s,null)}}Ro(t,h,E,w,j,g,c,!1);return;case"select":Dt("invalid",t),l=g=h=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Xt(t,n,c,E,s,null)}n=h,s=g,t.multiple=!!l,n!=null?Qi(t,!!l,n,!1):s!=null&&Qi(t,!!l,s,!0);return;case"textarea":Dt("invalid",t),h=c=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Xt(t,n,g,E,s,null)}Ki(t,l,c,h);return;case"option":for(w in s)if(s.hasOwnProperty(w)&&(l=s[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(t,n,w,l,s,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<Il.length;l++)Dt(Il[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(l=s[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(t,n,j,l,s,null)}return;default:if(Ma(n)){for(H in s)s.hasOwnProperty(H)&&(l=s[H],l!==void 0&&yh(t,n,H,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Xt(t,n,E,l,s,null))}function KE(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,E=null,w=null,j=null,H=null;for(k in s){var Q=s[k];if(s.hasOwnProperty(k)&&Q!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":w=Q;default:l.hasOwnProperty(k)||Xt(t,n,k,null,l,Q)}}for(var B in l){var k=l[B];if(Q=s[B],l.hasOwnProperty(B)&&(k!=null||Q!=null))switch(B){case"type":h=k;break;case"name":c=k;break;case"checked":j=k;break;case"defaultChecked":H=k;break;case"value":g=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,n));break;default:k!==Q&&Xt(t,n,B,k,l,Q)}}Va(t,g,E,w,j,H,h,c);return;case"select":k=g=E=B=null;for(h in s)if(w=s[h],s.hasOwnProperty(h)&&w!=null)switch(h){case"value":break;case"multiple":k=w;default:l.hasOwnProperty(h)||Xt(t,n,h,null,l,w)}for(c in l)if(h=l[c],w=s[c],l.hasOwnProperty(c)&&(h!=null||w!=null))switch(c){case"value":B=h;break;case"defaultValue":E=h;break;case"multiple":g=h;default:h!==w&&Xt(t,n,c,h,l,w)}n=E,s=g,l=k,B!=null?Qi(t,!!s,B,!1):!!l!=!!s&&(n!=null?Qi(t,!!s,n,!0):Qi(t,!!s,s?[]:"",!1));return;case"textarea":k=B=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(t,n,E,null,l,c)}for(g in l)if(c=l[g],h=s[g],l.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==h&&Xt(t,n,g,c,l,h)}Co(t,B,k);return;case"option":for(var rt in s)if(B=s[rt],s.hasOwnProperty(rt)&&B!=null&&!l.hasOwnProperty(rt))switch(rt){case"selected":t.selected=!1;break;default:Xt(t,n,rt,null,l,B)}for(w in l)if(B=l[w],k=s[w],l.hasOwnProperty(w)&&B!==k&&(B!=null||k!=null))switch(w){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Xt(t,n,w,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in s)B=s[ht],s.hasOwnProperty(ht)&&B!=null&&!l.hasOwnProperty(ht)&&Xt(t,n,ht,null,l,B);for(j in l)if(B=l[j],k=s[j],l.hasOwnProperty(j)&&B!==k&&(B!=null||k!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:Xt(t,n,j,B,l,k)}return;default:if(Ma(n)){for(var Zt in s)B=s[Zt],s.hasOwnProperty(Zt)&&B!==void 0&&!l.hasOwnProperty(Zt)&&yh(t,n,Zt,void 0,l,B);for(H in l)B=l[H],k=s[H],!l.hasOwnProperty(H)||B===k||B===void 0&&k===void 0||yh(t,n,H,B,l,k);return}}for(var x in s)B=s[x],s.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Xt(t,n,x,null,l,B);for(Q in l)B=l[Q],k=s[Q],!l.hasOwnProperty(Q)||B===k||B==null&&k==null||Xt(t,n,Q,B,l,k)}function Hp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],h=c.transferSize,g=c.initiatorType,E=c.duration;if(h&&E&&Hp(g)){for(g=0,E=c.responseEnd,l+=1;l<s.length;l++){var w=s[l],j=w.startTime;if(j>E)break;var H=w.transferSize,Q=w.initiatorType;H&&Hp(Q)&&(w=w.responseEnd,g+=H*(w<E?1:(E-j)/(w-j)))}if(--l,n+=8*(h+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var _h=null,vh=null;function Nu(t){return t.nodeType===9?t:t.ownerDocument}function Gp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Eh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Th=null;function ZE(){var t=window.event;return t&&t.type==="popstate"?t===Th?!1:(Th=t,!0):(Th=null,!1)}var Yp=typeof setTimeout=="function"?setTimeout:void 0,JE=typeof clearTimeout=="function"?clearTimeout:void 0,Qp=typeof Promise=="function"?Promise:void 0,$E=typeof queueMicrotask=="function"?queueMicrotask:typeof Qp<"u"?function(t){return Qp.resolve(null).then(t).catch(WE)}:Yp;function WE(t){setTimeout(function(){throw t})}function ys(t){return t==="head"}function Kp(t,n){var s=n,l=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(c),mr(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Vl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Vl(s);for(var h=s.firstChild;h;){var g=h.nextSibling,E=h.nodeName;h[Wn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||s.removeChild(h),h=g}}else s==="body"&&Vl(t.ownerDocument.body);s=c}while(s);mr(n)}function Xp(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Ah(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ah(s),Ia(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function tT(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Wn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function eT(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=On(t.nextSibling),t===null))return null;return t}function Zp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=On(t.nextSibling),t===null))return null;return t}function Sh(t){return t.data==="$?"||t.data==="$~"}function bh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function nT(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Rh=null;function Jp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return On(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function $p(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function Wp(t,n,s){switch(n=Nu(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Vl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ia(t)}var Vn=new Map,ty=new Set;function Iu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qi=et.d;et.d={f:iT,r:sT,D:aT,C:rT,L:lT,m:oT,X:cT,S:uT,M:fT};function iT(){var t=qi.f(),n=Tu();return t||n}function sT(t){var n=Tn(t);n!==null&&n.tag===5&&n.type==="form"?yg(n):qi.r(t)}var fr=typeof document>"u"?null:document;function ey(t,n,s){var l=fr;if(l&&typeof n=="string"&&n){var c=We(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),ty.has(c)||(ty.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),ye(n),l.head.appendChild(n)))}}function aT(t){qi.D(t),ey("dns-prefetch",t,null)}function rT(t,n){qi.C(t,n),ey("preconnect",t,n)}function lT(t,n,s){qi.L(t,n,s);var l=fr;if(l&&t&&n){var c='link[rel="preload"][as="'+We(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+We(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+We(s.imageSizes)+'"]')):c+='[href="'+We(t)+'"]';var h=c;switch(n){case"style":h=hr(t);break;case"script":h=dr(t)}Vn.has(h)||(t=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Vn.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ml(h))||n==="script"&&l.querySelector(xl(h))||(n=l.createElement("link"),Pe(n,"link",t),ye(n),l.head.appendChild(n)))}}function oT(t,n){qi.m(t,n);var s=fr;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+We(l)+'"][href="'+We(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=dr(t)}if(!Vn.has(h)&&(t=S({rel:"modulepreload",href:t},n),Vn.set(h,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(xl(h)))return}l=s.createElement("link"),Pe(l,"link",t),ye(l),s.head.appendChild(l)}}}function uT(t,n,s){qi.S(t,n,s);var l=fr;if(l&&t){var c=ei(l).hoistableStyles,h=hr(t);n=n||"default";var g=c.get(h);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Ml(h)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Vn.get(h))&&Ch(t,s);var w=g=l.createElement("link");ye(w),Pe(w,"link",t),w._p=new Promise(function(j,H){w.onload=j,w.onerror=H}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ou(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(h,g)}}}function cT(t,n){qi.X(t,n);var s=fr;if(s&&t){var l=ei(s).hoistableScripts,c=dr(t),h=l.get(c);h||(h=s.querySelector(xl(c)),h||(t=S({src:t,async:!0},n),(n=Vn.get(c))&&wh(t,n),h=s.createElement("script"),ye(h),Pe(h,"link",t),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function fT(t,n){qi.M(t,n);var s=fr;if(s&&t){var l=ei(s).hoistableScripts,c=dr(t),h=l.get(c);h||(h=s.querySelector(xl(c)),h||(t=S({src:t,async:!0,type:"module"},n),(n=Vn.get(c))&&wh(t,n),h=s.createElement("script"),ye(h),Pe(h,"link",t),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function ny(t,n,s,l){var c=(c=bt.current)?Iu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=hr(s.href),s=ei(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=hr(s.href);var h=ei(c).hoistableStyles,g=h.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,g),(h=c.querySelector(Ml(t)))&&!h._p&&(g.instance=h,g.state.loading=5),Vn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Vn.set(t,s),h||hT(c,t,s,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=dr(s),s=ei(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function hr(t){return'href="'+We(t)+'"'}function Ml(t){return'link[rel="stylesheet"]['+t+"]"}function iy(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function hT(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",s),ye(n),t.head.appendChild(n))}function dr(t){return'[src="'+We(t)+'"]'}function xl(t){return"script[async]"+t}function sy(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+We(s.href)+'"]');if(l)return n.instance=l,ye(l),l;var c=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ye(l),Pe(l,"style",c),Ou(l,s.precedence,t),n.instance=l;case"stylesheet":c=hr(s.href);var h=t.querySelector(Ml(c));if(h)return n.state.loading|=4,n.instance=h,ye(h),h;l=iy(s),(c=Vn.get(c))&&Ch(l,c),h=(t.ownerDocument||t).createElement("link"),ye(h);var g=h;return g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),Pe(h,"link",l),n.state.loading|=4,Ou(h,s.precedence,t),n.instance=h;case"script":return h=dr(s.src),(c=t.querySelector(xl(h)))?(n.instance=c,ye(c),c):(l=s,(c=Vn.get(h))&&(l=S({},s),wh(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ye(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ou(l,s.precedence,t));return n.instance}function Ou(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Ch(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function wh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Vu=null;function ay(t,n,s){if(Vu===null){var l=new Map,c=Vu=new Map;c.set(s,l)}else c=Vu,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var h=s[c];if(!(h[Wn]||h[pe]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(h):l.set(g,[h])}}return l}function ry(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function dT(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ly(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function mT(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=hr(l.href),h=n.querySelector(Ml(c));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Mu.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=h,ye(h);return}h=n.ownerDocument||n,l=iy(l),(c=Vn.get(c))&&Ch(l,c),h=h.createElement("link"),ye(h);var g=h;g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),Pe(h,"link",l),s.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Mu.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Dh=0;function gT(t,n){return t.stylesheets&&t.count===0&&Uu(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&Uu(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+n);0<t.imgBytes&&Dh===0&&(Dh=62500*XE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Uu(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>Dh?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Mu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xu=null;function Uu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xu=new Map,n.forEach(pT,t),xu=null,Mu.call(t))}function pT(t,n){if(!(n.state.loading&4)){var s=xu.get(t);if(s)var l=s.get(null);else{s=new Map,xu.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),h=s.get(g)||l,h===l&&s.set(null,c),s.set(g,c),this.count++,l=Mu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ul={$$typeof:it,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function yT(t,n,s,l,c,h,g,E,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jn(0),this.hiddenUpdates=Jn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function oy(t,n,s,l,c,h,g,E,w,j,H,Q){return t=new yT(t,n,s,g,w,j,H,Q,E),n=1,h===!0&&(n|=24),h=dn(3,null,null,n),t.current=h,h.stateNode=t,n=lf(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:s,cache:n},ff(h),t}function uy(t){return t?(t=Ga,t):Ga}function cy(t,n,s,l,c,h){c=uy(c),l.context===null?l.context=c:l.pendingContext=c,l=rs(n),l.payload={element:s},h=h===void 0?null:h,h!==null&&(l.callback=h),s=ls(t,l,n),s!==null&&(rn(s,t,n),dl(s,t,n))}function fy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Nh(t,n){fy(t,n),(t=t.alternate)&&fy(t,n)}function hy(t){if(t.tag===13||t.tag===31){var n=sa(t,67108864);n!==null&&rn(n,t,67108864),Nh(t,67108864)}}function dy(t){if(t.tag===13||t.tag===31){var n=_n();n=Ys(n);var s=sa(t,n);s!==null&&rn(s,t,n),Nh(t,n)}}var Lu=!0;function _T(t,n,s,l){var c=G.T;G.T=null;var h=et.p;try{et.p=2,Ih(t,n,s,l)}finally{et.p=h,G.T=c}}function vT(t,n,s,l){var c=G.T;G.T=null;var h=et.p;try{et.p=8,Ih(t,n,s,l)}finally{et.p=h,G.T=c}}function Ih(t,n,s,l){if(Lu){var c=Oh(l);if(c===null)ph(t,n,l,zu,s),gy(t,l);else if(TT(c,t,n,s,l))l.stopPropagation();else if(gy(t,l),n&4&&-1<ET.indexOf(t)){for(;c!==null;){var h=Tn(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=Xn(h.pendingLanes);if(g!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var w=1<<31-ue(g);E.entanglements[1]|=w,g&=~w}mi(h),(Pt&6)===0&&(vu=Ze()+500,Nl(0))}}break;case 31:case 13:E=sa(h,2),E!==null&&rn(E,h,2),Tu(),Nh(h,2)}if(h=Oh(l),h===null&&ph(t,n,l,zu,s),h===c)break;c=h}c!==null&&l.stopPropagation()}else ph(t,n,l,null,s)}}function Oh(t){return t=An(t),Vh(t)}var zu=null;function Vh(t){if(zu=null,t=ti(t),t!==null){var n=f(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=p(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return zu=t,null}function my(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ks()){case jr:return 2;case Br:return 8;case Fi:case zc:return 32;case go:return 268435456;default:return 32}default:return 32}}var Mh=!1,_s=null,vs=null,Es=null,Ll=new Map,zl=new Map,Ts=[],ET="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gy(t,n){switch(t){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":Ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(n.pointerId)}}function jl(t,n,s,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=Tn(n),n!==null&&hy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function TT(t,n,s,l,c){switch(n){case"focusin":return _s=jl(_s,t,n,s,l,c),!0;case"dragenter":return vs=jl(vs,t,n,s,l,c),!0;case"mouseover":return Es=jl(Es,t,n,s,l,c),!0;case"pointerover":var h=c.pointerId;return Ll.set(h,jl(Ll.get(h)||null,t,n,s,l,c)),!0;case"gotpointercapture":return h=c.pointerId,zl.set(h,jl(zl.get(h)||null,t,n,s,l,c)),!0}return!1}function py(t){var n=ti(t.target);if(n!==null){var s=f(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Ln(t.priority,function(){dy(s)});return}}else if(n===31){if(n=p(s),n!==null){t.blockedOn=n,Ln(t.priority,function(){dy(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ju(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Oh(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Jr=l,s.target.dispatchEvent(l),Jr=null}else return n=Tn(s),n!==null&&hy(n),t.blockedOn=s,!1;n.shift()}return!0}function yy(t,n,s){ju(t)&&s.delete(n)}function AT(){Mh=!1,_s!==null&&ju(_s)&&(_s=null),vs!==null&&ju(vs)&&(vs=null),Es!==null&&ju(Es)&&(Es=null),Ll.forEach(yy),zl.forEach(yy)}function Bu(t,n){t.blockedOn===n&&(t.blockedOn=null,Mh||(Mh=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,AT)))}var qu=null;function _y(t){qu!==t&&(qu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){qu===t&&(qu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Vh(l||s)===null)continue;break}var h=Tn(s);h!==null&&(t.splice(n,3),n-=3,Of(h,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function mr(t){function n(w){return Bu(w,t)}_s!==null&&Bu(_s,t),vs!==null&&Bu(vs,t),Es!==null&&Bu(Es,t),Ll.forEach(n),zl.forEach(n);for(var s=0;s<Ts.length;s++){var l=Ts[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ts.length&&(s=Ts[0],s.blockedOn===null);)py(s),s.blockedOn===null&&Ts.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],h=s[l+1],g=c[Oe]||null;if(typeof h=="function")g||_y(s);else if(g){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[Oe]||null)E=g.formAction;else if(Vh(c)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),_y(s)}}}function vy(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function xh(t){this._internalRoot=t}Pu.prototype.render=xh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=_n();cy(s,l,t,n,null,null)},Pu.prototype.unmount=xh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;cy(t.current,2,null,t,null,null),Tu(),n[$n]=null}};function Pu(t){this._internalRoot=t}Pu.prototype.unstable_scheduleHydration=function(t){if(t){var n=To();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Ts.length&&n!==0&&n<Ts[s].priority;s++);Ts.splice(s,0,t),s===0&&py(t)}};var Ey=e.version;if(Ey!=="19.2.0")throw Error(r(527,Ey,"19.2.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var ST={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{xn=ku.inject(ST),Le=ku}catch{}}return ql.createRoot=function(t,n){if(!o(t))throw Error(r(299));var s=!1,l="",c=wg,h=Dg,g=Ng;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=oy(t,1,!1,null,null,s,l,null,c,h,g,vy),t[$n]=n.current,gh(t),new xh(n)},ql.hydrateRoot=function(t,n,s){if(!o(t))throw Error(r(299));var l=!1,c="",h=wg,g=Dg,E=Ng,w=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(w=s.formState)),n=oy(t,1,!0,n,s??null,l,c,w,h,g,E,vy),n.context=uy(null),s=n.current,l=_n(),l=Ys(l),c=rs(l),c.callback=null,ls(s,c,l),s=l,n.current.lanes=s,Gs(n,s),mi(n),t[$n]=n.current,gh(t),new Pu(n)},ql.version="19.2.0",ql}var Iy;function xT(){if(Iy)return zh.exports;Iy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),zh.exports=MT(),zh.exports}var UT=xT();const LT=sv(UT),zT=()=>{};var Oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},jT=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const f=a[i++];e[r++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=a[i++],d=a[i++],p=a[i++],v=((o&7)<<18|(f&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const f=a[i++],d=a[i++];e[r++]=String.fromCharCode((o&15)<<12|(f&63)<<6|d&63)}}return e.join("")},rv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const f=a[o],d=o+1<a.length,p=d?a[o+1]:0,v=o+2<a.length,_=v?a[o+2]:0,A=f>>2,S=(f&3)<<4|p>>4;let N=(p&15)<<2|_>>6,q=_&63;v||(q=64,d||(N=64)),r.push(i[A],i[S],i[N],i[q])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(av(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):jT(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const f=i[a.charAt(o++)],p=o<a.length?i[a.charAt(o)]:0;++o;const _=o<a.length?i[a.charAt(o)]:64;++o;const S=o<a.length?i[a.charAt(o)]:64;if(++o,f==null||p==null||_==null||S==null)throw new BT;const N=f<<2|p>>4;if(r.push(N),_!==64){const q=p<<4&240|_>>2;if(r.push(q),S!==64){const J=_<<6&192|S;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class BT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qT=function(a){const e=av(a);return rv.encodeByteArray(e,!0)},ic=function(a){return qT(a).replace(/\./g,"")},PT=function(a){try{return rv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=()=>kT().__FIREBASE_DEFAULTS__,GT=()=>{if(typeof process>"u"||typeof Oy>"u")return;const a=Oy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},FT=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&PT(a[1]);return e&&JSON.parse(e)},Ed=()=>{try{return zT()||HT()||GT()||FT()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},YT=a=>{var e,i;return(i=(e=Ed())==null?void 0:e.emulatorHosts)==null?void 0:i[a]},QT=a=>{const e=YT(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},lv=()=>{var a;return(a=Ed())==null?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function XT(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=a.iat||0,f=a.sub||a.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...a};return[ic(JSON.stringify(i)),ic(JSON.stringify(d)),""].join(".")}const Gl={};function JT(){const a={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?a.emulator.push(e):a.prod.push(e);return a}function $T(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let Vy=!1;function WT(a,e){if(typeof window>"u"||typeof document>"u"||!Td(window.location.host)||Gl[a]===e||Gl[a]||Vy)return;Gl[a]=e;function i(N){return`__firebase__banner__${N}`}const r="__firebase__banner",f=JT().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function v(N,q){N.setAttribute("width","24"),N.setAttribute("id",q),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Vy=!0,d()},N}function A(N,q){N.setAttribute("id",q),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function S(){const N=$T(r),q=i("text"),J=document.getElementById(q)||document.createElement("span"),tt=i("learnmore"),$=document.getElementById(tt)||document.createElement("a"),gt=i("preprendIcon"),pt=document.getElementById(gt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const it=N.element;p(it),A($,tt);const Tt=_();v(pt,gt),it.append(pt,J,$,Tt),document.body.appendChild(it)}f?(J.innerText="Preview backend disconnected.",pt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e1(){var e;const a=(e=Ed())==null?void 0:e.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n1(){return!e1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function i1(){try{return typeof indexedDB=="object"}catch{return!1}}function s1(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var f;e(((f=o.error)==null?void 0:f.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="FirebaseError";class Ir extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=a1,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ov.prototype.create)}}class ov{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,f=this.errors[e],d=f?r1(f,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Ir(o,p,r)}}function r1(a,e){return a.replace(l1,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const l1=/\{\$([^}]+)}/g;function sc(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const f=a[o],d=e[o];if(My(f)&&My(d)){if(!sc(f,d))return!1}else if(f!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function My(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(a){return a&&a._delegate?a._delegate:a}class Zl{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new KT;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(c1(e))try{this.getOrInitializeService({instanceIdentifier:ya})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:o});r.resolve(f)}catch{}}}}clearInstance(e=ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ya){return this.instances.has(e)}getOptions(e=ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[f,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(f);r===p&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const f=this.instances.get(r);return f&&e(f,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:u1(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ya){return this.component?this.component.multipleInstances?e:ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function u1(a){return a===ya?void 0:a}function c1(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new o1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Lt||(Lt={}));const h1={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},d1=Lt.INFO,m1={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},g1=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),o=m1[e];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uv{constructor(e){this.name=e,this._logLevel=d1,this._logHandler=g1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?h1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const p1=(a,e)=>e.some(i=>a instanceof i);let xy,Uy;function y1(){return xy||(xy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _1(){return Uy||(Uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cv=new WeakMap,Zh=new WeakMap,fv=new WeakMap,Ph=new WeakMap,Ad=new WeakMap;function v1(a){const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",f),a.removeEventListener("error",d)},f=()=>{i(Rs(a.result)),o()},d=()=>{r(a.error),o()};a.addEventListener("success",f),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&cv.set(i,a)}).catch(()=>{}),Ad.set(e,a),e}function E1(a){if(Zh.has(a))return;const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",f),a.removeEventListener("error",d),a.removeEventListener("abort",d)},f=()=>{i(),o()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",f),a.addEventListener("error",d),a.addEventListener("abort",d)});Zh.set(a,e)}let Jh={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Zh.get(a);if(e==="objectStoreNames")return a.objectStoreNames||fv.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Rs(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function T1(a){Jh=a(Jh)}function A1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(kh(this),e,...i);return fv.set(r,e.sort?e.sort():[e]),Rs(r)}:_1().includes(a)?function(...e){return a.apply(kh(this),e),Rs(cv.get(this))}:function(...e){return Rs(a.apply(kh(this),e))}}function S1(a){return typeof a=="function"?A1(a):(a instanceof IDBTransaction&&E1(a),p1(a,y1())?new Proxy(a,Jh):a)}function Rs(a){if(a instanceof IDBRequest)return v1(a);if(Ph.has(a))return Ph.get(a);const e=S1(a);return e!==a&&(Ph.set(a,e),Ad.set(e,a)),e}const kh=a=>Ad.get(a);function b1(a,e,{blocked:i,upgrade:r,blocking:o,terminated:f}={}){const d=indexedDB.open(a,e),p=Rs(d);return r&&d.addEventListener("upgradeneeded",v=>{r(Rs(d.result),v.oldVersion,v.newVersion,Rs(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{f&&v.addEventListener("close",()=>f()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const R1=["get","getKey","getAll","getAllKeys","count"],C1=["put","add","delete","clear"],Hh=new Map;function Ly(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Hh.get(e))return Hh.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=C1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||R1.includes(i)))return;const f=async function(d,...p){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&v.done]))[0]};return Hh.set(e,f),f}T1(a=>({...a,get:(e,i,r)=>Ly(e,i)||a.get(e,i,r),has:(e,i)=>!!Ly(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(D1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function D1(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $h="@firebase/app",zy="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new uv("@firebase/app"),N1="@firebase/app-compat",I1="@firebase/analytics-compat",O1="@firebase/analytics",V1="@firebase/app-check-compat",M1="@firebase/app-check",x1="@firebase/auth",U1="@firebase/auth-compat",L1="@firebase/database",z1="@firebase/data-connect",j1="@firebase/database-compat",B1="@firebase/functions",q1="@firebase/functions-compat",P1="@firebase/installations",k1="@firebase/installations-compat",H1="@firebase/messaging",G1="@firebase/messaging-compat",F1="@firebase/performance",Y1="@firebase/performance-compat",Q1="@firebase/remote-config",K1="@firebase/remote-config-compat",X1="@firebase/storage",Z1="@firebase/storage-compat",J1="@firebase/firestore",$1="@firebase/ai",W1="@firebase/firestore-compat",tA="firebase",eA="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh="[DEFAULT]",nA={[$h]:"fire-core",[N1]:"fire-core-compat",[O1]:"fire-analytics",[I1]:"fire-analytics-compat",[M1]:"fire-app-check",[V1]:"fire-app-check-compat",[x1]:"fire-auth",[U1]:"fire-auth-compat",[L1]:"fire-rtdb",[z1]:"fire-data-connect",[j1]:"fire-rtdb-compat",[B1]:"fire-fn",[q1]:"fire-fn-compat",[P1]:"fire-iid",[k1]:"fire-iid-compat",[H1]:"fire-fcm",[G1]:"fire-fcm-compat",[F1]:"fire-perf",[Y1]:"fire-perf-compat",[Q1]:"fire-rc",[K1]:"fire-rc-compat",[X1]:"fire-gcs",[Z1]:"fire-gcs-compat",[J1]:"fire-fst",[W1]:"fire-fst-compat",[$1]:"fire-vertex","fire-js":"fire-js",[tA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new Map,iA=new Map,td=new Map;function jy(a,e){try{a.container.addComponent(e)}catch(i){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function rc(a){const e=a.name;if(td.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;td.set(e,a);for(const i of ac.values())jy(i,a);for(const i of iA.values())jy(i,a);return!0}function sA(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function aA(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cs=new ov("app","Firebase",rA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=eA;function hv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:Wh,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Cs.create("bad-app-name",{appName:String(o)});if(i||(i=lv()),!i)throw Cs.create("no-options");const f=ac.get(o);if(f){if(sc(i,f.options)&&sc(r,f.config))return f;throw Cs.create("duplicate-app",{appName:o})}const d=new f1(o);for(const v of td.values())d.addComponent(v);const p=new lA(i,r,d);return ac.set(o,p),p}function uA(a=Wh){const e=ac.get(a);if(!e&&a===Wh&&lv())return hv();if(!e)throw Cs.create("no-app",{appName:a});return e}function Er(a,e,i){let r=nA[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),f=e.match(/\s|\//);if(o||f){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&f&&d.push("and"),f&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(d.join(" "));return}rc(new Zl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="firebase-heartbeat-database",fA=1,Jl="firebase-heartbeat-store";let Gh=null;function dv(){return Gh||(Gh=b1(cA,fA,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Jl)}catch(i){console.warn(i)}}}}).catch(a=>{throw Cs.create("idb-open",{originalErrorMessage:a.message})})),Gh}async function hA(a){try{const i=(await dv()).transaction(Jl),r=await i.objectStore(Jl).get(mv(a));return await i.done,r}catch(e){if(e instanceof Ir)Pi.warn(e.message);else{const i=Cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pi.warn(i.message)}}}async function By(a,e){try{const r=(await dv()).transaction(Jl,"readwrite");await r.objectStore(Jl).put(e,mv(a)),await r.done}catch(i){if(i instanceof Ir)Pi.warn(i.message);else{const r=Cs.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Pi.warn(r.message)}}}function mv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=1024,mA=30;class gA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new yA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=qy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(d=>d.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:o}),this._heartbeatsCache.heartbeats.length>mA){const d=_A(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Pi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=qy(),{heartbeatsToSend:r,unsentEntries:o}=pA(this._heartbeatsCache.heartbeats),f=ic(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(i){return Pi.warn(i),""}}}function qy(){return new Date().toISOString().substring(0,10)}function pA(a,e=dA){const i=[];let r=a.slice();for(const o of a){const f=i.find(d=>d.agent===o.agent);if(f){if(f.dates.push(o.date),Py(i)>e){f.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Py(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class yA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return i1()?s1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await hA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return By(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return By(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Py(a){return ic(JSON.stringify({version:2,heartbeats:a})).length}function _A(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(a){rc(new Zl("platform-logger",e=>new w1(e),"PRIVATE")),rc(new Zl("heartbeat",e=>new gA(e),"PRIVATE")),Er($h,zy,a),Er($h,zy,"esm2020"),Er("fire-js","")}vA("");var ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ws,gv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,b){function D(){}D.prototype=b.prototype,C.F=b.prototype,C.prototype=new D,C.prototype.constructor=C,C.D=function(M,I,U){for(var R=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)R[$t-2]=arguments[$t];return b.prototype[I].apply(M,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,b,D){D||(D=0);const M=Array(16);if(typeof b=="string")for(var I=0;I<16;++I)M[I]=b.charCodeAt(D++)|b.charCodeAt(D++)<<8|b.charCodeAt(D++)<<16|b.charCodeAt(D++)<<24;else for(I=0;I<16;++I)M[I]=b[D++]|b[D++]<<8|b[D++]<<16|b[D++]<<24;b=C.g[0],D=C.g[1],I=C.g[2];let U=C.g[3],R;R=b+(U^D&(I^U))+M[0]+3614090360&4294967295,b=D+(R<<7&4294967295|R>>>25),R=U+(I^b&(D^I))+M[1]+3905402710&4294967295,U=b+(R<<12&4294967295|R>>>20),R=I+(D^U&(b^D))+M[2]+606105819&4294967295,I=U+(R<<17&4294967295|R>>>15),R=D+(b^I&(U^b))+M[3]+3250441966&4294967295,D=I+(R<<22&4294967295|R>>>10),R=b+(U^D&(I^U))+M[4]+4118548399&4294967295,b=D+(R<<7&4294967295|R>>>25),R=U+(I^b&(D^I))+M[5]+1200080426&4294967295,U=b+(R<<12&4294967295|R>>>20),R=I+(D^U&(b^D))+M[6]+2821735955&4294967295,I=U+(R<<17&4294967295|R>>>15),R=D+(b^I&(U^b))+M[7]+4249261313&4294967295,D=I+(R<<22&4294967295|R>>>10),R=b+(U^D&(I^U))+M[8]+1770035416&4294967295,b=D+(R<<7&4294967295|R>>>25),R=U+(I^b&(D^I))+M[9]+2336552879&4294967295,U=b+(R<<12&4294967295|R>>>20),R=I+(D^U&(b^D))+M[10]+4294925233&4294967295,I=U+(R<<17&4294967295|R>>>15),R=D+(b^I&(U^b))+M[11]+2304563134&4294967295,D=I+(R<<22&4294967295|R>>>10),R=b+(U^D&(I^U))+M[12]+1804603682&4294967295,b=D+(R<<7&4294967295|R>>>25),R=U+(I^b&(D^I))+M[13]+4254626195&4294967295,U=b+(R<<12&4294967295|R>>>20),R=I+(D^U&(b^D))+M[14]+2792965006&4294967295,I=U+(R<<17&4294967295|R>>>15),R=D+(b^I&(U^b))+M[15]+1236535329&4294967295,D=I+(R<<22&4294967295|R>>>10),R=b+(I^U&(D^I))+M[1]+4129170786&4294967295,b=D+(R<<5&4294967295|R>>>27),R=U+(D^I&(b^D))+M[6]+3225465664&4294967295,U=b+(R<<9&4294967295|R>>>23),R=I+(b^D&(U^b))+M[11]+643717713&4294967295,I=U+(R<<14&4294967295|R>>>18),R=D+(U^b&(I^U))+M[0]+3921069994&4294967295,D=I+(R<<20&4294967295|R>>>12),R=b+(I^U&(D^I))+M[5]+3593408605&4294967295,b=D+(R<<5&4294967295|R>>>27),R=U+(D^I&(b^D))+M[10]+38016083&4294967295,U=b+(R<<9&4294967295|R>>>23),R=I+(b^D&(U^b))+M[15]+3634488961&4294967295,I=U+(R<<14&4294967295|R>>>18),R=D+(U^b&(I^U))+M[4]+3889429448&4294967295,D=I+(R<<20&4294967295|R>>>12),R=b+(I^U&(D^I))+M[9]+568446438&4294967295,b=D+(R<<5&4294967295|R>>>27),R=U+(D^I&(b^D))+M[14]+3275163606&4294967295,U=b+(R<<9&4294967295|R>>>23),R=I+(b^D&(U^b))+M[3]+4107603335&4294967295,I=U+(R<<14&4294967295|R>>>18),R=D+(U^b&(I^U))+M[8]+1163531501&4294967295,D=I+(R<<20&4294967295|R>>>12),R=b+(I^U&(D^I))+M[13]+2850285829&4294967295,b=D+(R<<5&4294967295|R>>>27),R=U+(D^I&(b^D))+M[2]+4243563512&4294967295,U=b+(R<<9&4294967295|R>>>23),R=I+(b^D&(U^b))+M[7]+1735328473&4294967295,I=U+(R<<14&4294967295|R>>>18),R=D+(U^b&(I^U))+M[12]+2368359562&4294967295,D=I+(R<<20&4294967295|R>>>12),R=b+(D^I^U)+M[5]+4294588738&4294967295,b=D+(R<<4&4294967295|R>>>28),R=U+(b^D^I)+M[8]+2272392833&4294967295,U=b+(R<<11&4294967295|R>>>21),R=I+(U^b^D)+M[11]+1839030562&4294967295,I=U+(R<<16&4294967295|R>>>16),R=D+(I^U^b)+M[14]+4259657740&4294967295,D=I+(R<<23&4294967295|R>>>9),R=b+(D^I^U)+M[1]+2763975236&4294967295,b=D+(R<<4&4294967295|R>>>28),R=U+(b^D^I)+M[4]+1272893353&4294967295,U=b+(R<<11&4294967295|R>>>21),R=I+(U^b^D)+M[7]+4139469664&4294967295,I=U+(R<<16&4294967295|R>>>16),R=D+(I^U^b)+M[10]+3200236656&4294967295,D=I+(R<<23&4294967295|R>>>9),R=b+(D^I^U)+M[13]+681279174&4294967295,b=D+(R<<4&4294967295|R>>>28),R=U+(b^D^I)+M[0]+3936430074&4294967295,U=b+(R<<11&4294967295|R>>>21),R=I+(U^b^D)+M[3]+3572445317&4294967295,I=U+(R<<16&4294967295|R>>>16),R=D+(I^U^b)+M[6]+76029189&4294967295,D=I+(R<<23&4294967295|R>>>9),R=b+(D^I^U)+M[9]+3654602809&4294967295,b=D+(R<<4&4294967295|R>>>28),R=U+(b^D^I)+M[12]+3873151461&4294967295,U=b+(R<<11&4294967295|R>>>21),R=I+(U^b^D)+M[15]+530742520&4294967295,I=U+(R<<16&4294967295|R>>>16),R=D+(I^U^b)+M[2]+3299628645&4294967295,D=I+(R<<23&4294967295|R>>>9),R=b+(I^(D|~U))+M[0]+4096336452&4294967295,b=D+(R<<6&4294967295|R>>>26),R=U+(D^(b|~I))+M[7]+1126891415&4294967295,U=b+(R<<10&4294967295|R>>>22),R=I+(b^(U|~D))+M[14]+2878612391&4294967295,I=U+(R<<15&4294967295|R>>>17),R=D+(U^(I|~b))+M[5]+4237533241&4294967295,D=I+(R<<21&4294967295|R>>>11),R=b+(I^(D|~U))+M[12]+1700485571&4294967295,b=D+(R<<6&4294967295|R>>>26),R=U+(D^(b|~I))+M[3]+2399980690&4294967295,U=b+(R<<10&4294967295|R>>>22),R=I+(b^(U|~D))+M[10]+4293915773&4294967295,I=U+(R<<15&4294967295|R>>>17),R=D+(U^(I|~b))+M[1]+2240044497&4294967295,D=I+(R<<21&4294967295|R>>>11),R=b+(I^(D|~U))+M[8]+1873313359&4294967295,b=D+(R<<6&4294967295|R>>>26),R=U+(D^(b|~I))+M[15]+4264355552&4294967295,U=b+(R<<10&4294967295|R>>>22),R=I+(b^(U|~D))+M[6]+2734768916&4294967295,I=U+(R<<15&4294967295|R>>>17),R=D+(U^(I|~b))+M[13]+1309151649&4294967295,D=I+(R<<21&4294967295|R>>>11),R=b+(I^(D|~U))+M[4]+4149444226&4294967295,b=D+(R<<6&4294967295|R>>>26),R=U+(D^(b|~I))+M[11]+3174756917&4294967295,U=b+(R<<10&4294967295|R>>>22),R=I+(b^(U|~D))+M[2]+718787259&4294967295,I=U+(R<<15&4294967295|R>>>17),R=D+(U^(I|~b))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+I&4294967295,C.g[3]=C.g[3]+U&4294967295}r.prototype.v=function(C,b){b===void 0&&(b=C.length);const D=b-this.blockSize,M=this.C;let I=this.h,U=0;for(;U<b;){if(I==0)for(;U<=D;)o(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<b;)if(M[I++]=C.charCodeAt(U++),I==this.blockSize){o(this,M),I=0;break}}else for(;U<b;)if(M[I++]=C[U++],I==this.blockSize){o(this,M),I=0;break}}this.h=I,this.o+=b},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var D=C.length-8;D<C.length;++D)C[D]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,D=0;D<4;++D)for(let M=0;M<32;M+=8)C[b++]=this.g[D]>>>M&255;return C};function f(C,b){var D=p;return Object.prototype.hasOwnProperty.call(D,C)?D[C]:D[C]=b(C)}function d(C,b){this.h=b;const D=[];let M=!0;for(let I=C.length-1;I>=0;I--){const U=C[I]|0;M&&U==b||(D[I]=U,M=!1)}this.g=D}var p={};function v(C){return-128<=C&&C<128?f(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return $(_(-C));const b=[];let D=1;for(let M=0;C>=D;M++)b[M]=C/D|0,D*=4294967296;return new d(b,0)}function A(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return $(A(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=_(Math.pow(b,8));let M=S;for(let U=0;U<C.length;U+=8){var I=Math.min(8,C.length-U);const R=parseInt(C.substring(U,U+I),b);I<8?(I=_(Math.pow(b,I)),M=M.j(I).add(_(R))):(M=M.j(D),M=M.add(_(R)))}return M}var S=v(0),N=v(1),q=v(16777216);a=d.prototype,a.m=function(){if(tt(this))return-$(this).m();let C=0,b=1;for(let D=0;D<this.g.length;D++){const M=this.i(D);C+=(M>=0?M:4294967296+M)*b,b*=4294967296}return C},a.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(J(this))return"0";if(tt(this))return"-"+$(this).toString(C);const b=_(Math.pow(C,6));var D=this;let M="";for(;;){const I=Tt(D,b).g;D=gt(D,I.j(b));let U=((D.g.length>0?D.g[0]:D.h)>>>0).toString(C);if(D=I,J(D))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},a.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function J(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function tt(C){return C.h==-1}a.l=function(C){return C=gt(this,C),tt(C)?-1:J(C)?0:1};function $(C){const b=C.g.length,D=[];for(let M=0;M<b;M++)D[M]=~C.g[M];return new d(D,~C.h).add(N)}a.abs=function(){return tt(this)?$(this):this},a.add=function(C){const b=Math.max(this.g.length,C.g.length),D=[];let M=0;for(let I=0;I<=b;I++){let U=M+(this.i(I)&65535)+(C.i(I)&65535),R=(U>>>16)+(this.i(I)>>>16)+(C.i(I)>>>16);M=R>>>16,U&=65535,R&=65535,D[I]=R<<16|U}return new d(D,D[D.length-1]&-2147483648?-1:0)};function gt(C,b){return C.add($(b))}a.j=function(C){if(J(this)||J(C))return S;if(tt(this))return tt(C)?$(this).j($(C)):$($(this).j(C));if(tt(C))return $(this.j($(C)));if(this.l(q)<0&&C.l(q)<0)return _(this.m()*C.m());const b=this.g.length+C.g.length,D=[];for(var M=0;M<2*b;M++)D[M]=0;for(M=0;M<this.g.length;M++)for(let I=0;I<C.g.length;I++){const U=this.i(M)>>>16,R=this.i(M)&65535,$t=C.i(I)>>>16,Re=C.i(I)&65535;D[2*M+2*I]+=R*Re,pt(D,2*M+2*I),D[2*M+2*I+1]+=U*Re,pt(D,2*M+2*I+1),D[2*M+2*I+1]+=R*$t,pt(D,2*M+2*I+1),D[2*M+2*I+2]+=U*$t,pt(D,2*M+2*I+2)}for(C=0;C<b;C++)D[C]=D[2*C+1]<<16|D[2*C];for(C=b;C<2*b;C++)D[C]=0;return new d(D,0)};function pt(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function it(C,b){this.g=C,this.h=b}function Tt(C,b){if(J(b))throw Error("division by zero");if(J(C))return new it(S,S);if(tt(C))return b=Tt($(C),b),new it($(b.g),$(b.h));if(tt(b))return b=Tt(C,$(b)),new it($(b.g),b.h);if(C.g.length>30){if(tt(C)||tt(b))throw Error("slowDivide_ only works with positive integers.");for(var D=N,M=b;M.l(C)<=0;)D=Ct(D),M=Ct(M);var I=_t(D,1),U=_t(M,1);for(M=_t(M,2),D=_t(D,2);!J(M);){var R=U.add(M);R.l(C)<=0&&(I=I.add(D),U=R),M=_t(M,1),D=_t(D,1)}return b=gt(C,I.j(b)),new it(I,b)}for(I=S;C.l(b)>=0;){for(D=Math.max(1,Math.floor(C.m()/b.m())),M=Math.ceil(Math.log(D)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=_(D),R=U.j(b);tt(R)||R.l(C)>0;)D-=M,U=_(D),R=U.j(b);J(U)&&(U=N),I=I.add(U),C=gt(C,R)}return new it(I,C)}a.B=function(C){return Tt(this,C).h},a.and=function(C){const b=Math.max(this.g.length,C.g.length),D=[];for(let M=0;M<b;M++)D[M]=this.i(M)&C.i(M);return new d(D,this.h&C.h)},a.or=function(C){const b=Math.max(this.g.length,C.g.length),D=[];for(let M=0;M<b;M++)D[M]=this.i(M)|C.i(M);return new d(D,this.h|C.h)},a.xor=function(C){const b=Math.max(this.g.length,C.g.length),D=[];for(let M=0;M<b;M++)D[M]=this.i(M)^C.i(M);return new d(D,this.h^C.h)};function Ct(C){const b=C.g.length+1,D=[];for(let M=0;M<b;M++)D[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(D,C.h)}function _t(C,b){const D=b>>5;b%=32;const M=C.g.length-D,I=[];for(let U=0;U<M;U++)I[U]=b>0?C.i(U+D)>>>b|C.i(U+D+1)<<32-b:C.i(U+D);return new d(I,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,gv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,ws=d}).apply(typeof ky<"u"?ky:typeof self<"u"?self:typeof window<"u"?window:{});var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pv,Pl,yv,Zu,ed,_v,vv,Ev;(function(){var a,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hu=="object"&&Hu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var y=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in y))break t;y=y[L]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function _(u,m,y){return _=v,_.apply(null,arguments)}function A(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,L,P){for(var W=Array(arguments.length-2),At=2;At<arguments.length;At++)W[At-2]=arguments[At];return m.prototype[L].apply(T,W)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var y=typeof L;if(y=y!="object"?y:L?Array.isArray(L)?"array":y:"null",y=="array"||y=="object"&&typeof L.length=="number"){y=u.length||0;const P=L.length||0;u.length=y+P;for(let W=0;W<P;W++)u[y+W]=L[W]}else u.push(L)}}class tt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function gt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class pt{constructor(){this.h=this.g=null}add(m,y){const T=it.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var it=new tt(()=>new Tt,u=>u.reset());class Tt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Ct,_t=!1,C=new pt,b=()=>{const u=Promise.resolve(void 0);Ct=()=>{u.then(D)}};function D(){for(var u;u=gt();){try{u.h.call(u.g)}catch(y){$(y)}var m=it;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}_t=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function $t(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S($t,I),$t.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&$t.Z.h.call(this)},$t.prototype.h=function(){$t.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(Math.random()*1e6|0),G=0;function et(u,m,y,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function Ht(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function V(u){const m={};for(const y in u)m[y]=u[y];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let y,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(y in T)u[y]=T[y];for(let P=0;P<K.length;P++)y=K[P],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,y,T,L){const P=u.toString();u=this.g[P],u||(u=this.g[P]=[],this.h++);const W=bt(u,m,T,L);return W>-1?(m=u[W],y||(m.fa=!1)):(m=new et(m,this.src,P,!!T,L),m.fa=y,u.push(m)),m};function mt(u,m){const y=m.type;if(y in u.g){var T=u.g[y],L=Array.prototype.indexOf.call(T,m,void 0),P;(P=L>=0)&&Array.prototype.splice.call(T,L,1),P&&(ct(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function bt(u,m,y,T){for(let L=0;L<u.length;++L){const P=u[L];if(!P.da&&P.listener==m&&P.capture==!!y&&P.ha==T)return L}return-1}var xt="closure_lm_"+(Math.random()*1e6|0),Ce={};function ie(u,m,y,T,L){if(Array.isArray(m)){for(let P=0;P<m.length;P++)ie(u,m[P],y,T,L);return null}return y=zr(y),u&&u[Re]?u.J(m,y,p(T)?!!T.capture:!1,L):qs(u,m,y,!1,T,L)}function qs(u,m,y,T,L,P){if(!m)throw Error("Invalid event type");const W=p(L)?!!L.capture:!!L;let At=Ps(u);if(At||(u[xt]=At=new at(u)),y=At.add(m,y,T,W,P),y.proxy)return y;if(T=Ra(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)U||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Qn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ra(){function u(y){return m.call(u.src,u.listener,y)}const m=Ur;return u}function Ca(u,m,y,T,L){if(Array.isArray(m))for(var P=0;P<m.length;P++)Ca(u,m[P],y,T,L);else T=p(T)?!!T.capture:!!T,y=zr(y),u&&u[Re]?(u=u.i,P=String(m).toString(),P in u.g&&(m=u.g[P],y=bt(m,y,T,L),y>-1&&(ct(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[P],u.h--)))):u&&(u=Ps(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,y,T,L)),(y=u>-1?m[u]:null)&&wa(y))}function wa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])mt(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Qn(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Ps(m))?(mt(y,u),y.h==0&&(y.src=null,m[xt]=null)):ct(u)}}}function Qn(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function Ur(u,m){if(u.da)u=!0;else{m=new $t(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&wa(u),u=y.call(T,m)}return u}function Ps(u){return u=u[xt],u instanceof at?u:null}var Lr="__closure_events_fn_"+(Math.random()*1e9>>>0);function zr(u){return typeof u=="function"?u:(u[Lr]||(u[Lr]=function(m){return u.handleEvent(m)}),u[Lr])}function me(){M.call(this),this.i=new at(this),this.M=this,this.G=null}S(me,M),me.prototype[Re]=!0,me.prototype.removeEventListener=function(u,m,y,T){Ca(this,u,m,y,T)};function we(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var L=m;m=new I(T,u),nt(m,L)}L=!0;let P,W;if(y)for(W=y.length-1;W>=0;W--)P=m.g=y[W],L=Gi(P,T,!0,m)&&L;if(P=m.g=u,L=Gi(P,T,!0,m)&&L,L=Gi(P,T,!1,m)&&L,y)for(W=0;W<y.length;W++)P=m.g=y[W],L=Gi(P,T,!1,m)&&L}me.prototype.N=function(){if(me.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)ct(y[T]);delete u.g[m],u.h--}}this.G=null},me.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},me.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function Gi(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let P=0;P<m.length;++P){const W=m[P];if(W&&!W.da&&W.capture==y){const At=W.listener,ce=W.ha||W.src;W.fa&&mt(u.i,W),L=At.call(ce,T)!==!1&&L}}return L&&!T.defaultPrevented}function Lc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function mo(u){u.g=Lc(()=>{u.g=null,u.i&&(u.i=!1,mo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends M{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:mo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ks(u){M.call(this),this.h=u,this.g={}}S(ks,M);var jr=[];function Br(u){zt(u.g,function(m,y){this.g.hasOwnProperty(y)&&wa(m)},u),u.g={}}ks.prototype.N=function(){ks.Z.N.call(this),Br(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fi=d.JSON.stringify,zc=d.JSON.parse,go=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function po(){}function yo(){}var xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Le(){I.call(this,"d")}S(Le,I);function En(){I.call(this,"c")}S(En,I);var ue={},_o=null;function Da(){return _o=_o||new me}ue.Ia="serverreachability";function vo(u){I.call(this,ue.Ia,u)}S(vo,I);function Kn(u){const m=Da();we(m,new vo(m))}ue.STAT_EVENT="statevent";function Hs(u,m){I.call(this,ue.STAT_EVENT,u),this.stat=m}S(Hs,I);function ge(u){const m=Da();we(m,new Hs(m,u))}ue.Ja="timingevent";function Xn(u,m){I.call(this,ue.Ja,u),this.size=m}S(Xn,I);function Zn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function jc(u,m,y,T,L,P){u.info(function(){if(u.g)if(P){var W="",At=P.split("&");for(let qt=0;qt<At.length;qt++){var ce=At[qt].split("=");if(ce.length>1){const se=ce[0];ce=ce[1];const bn=se.split("_");W=bn.length>=2&&bn[1]=="type"?W+(se+"="+ce+"&"):W+(se+"=redacted&")}}}else W=null;else W=P;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+y+`
`+W})}function Eo(u,m,y,T,L,P,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+y+`
`+P+" "+W})}function Jn(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Bc(u,y)+(T?" "+T:"")})}function Gs(u,m){u.info(function(){return"TIMEOUT: "+m})}Un.prototype.info=function(){};function Bc(u,m){if(!u.g)return m;if(!m)return null;try{const P=JSON.parse(m);if(P){for(u=0;u<P.length;u++)if(Array.isArray(P[u])){var y=P[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return Fi(P)}catch{return m}}var Fs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Pr;function Ys(){}S(Ys,po),Ys.prototype.g=function(){return new XMLHttpRequest},Pr=new Ys;function Ai(u){return encodeURIComponent(String(u))}function To(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function Ln(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new ks(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var pe={},Oe={};function $n(u,m,y){u.M=1,u.A=Qs(_e(m)),u.u=y,u.R=!0,Na(u,null)}function Na(u,m){u.F=Date.now(),Wn(u),u.B=_e(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Ma(y.i,"t",T),u.C=0,y=u.j.L,u.h=new zn,u.g=Lo(u.j,y?m:null,!u.u),u.P>0&&(u.O=new Ze(_(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(jr[0]=L.toString()),L=jr);for(let P=0;P<L.length;P++){const W=ie(y,L[P],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Kn(),jc(u.i,u.v,u.B,u.l,u.S,u.u)}Ln.prototype.ba=function(u){u=u.target;const m=this.O;m&&qn(u)==3?m.j():this.Y(u)},Ln.prototype.Y=function(u){try{if(u==this.g)t:{const At=qn(this.g),ce=this.g.ya(),qt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||At!=4||ce==7||(ce==8||qt<=0?Kn(3):Kn(2)),ti(this);var m=this.g.ca();this.X=m;var y=qc(this);if(this.o=m==200,Eo(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var P=T;break e}}P=null}if(u=P)Jn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ei(this,u);else{this.o=!1,this.m=3,ge(12),cn(this),Tn(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<y.length;)if(se=So(this,y),se==Oe){At==4&&(this.m=4,ge(14),u=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(se==pe){this.m=4,ge(15),Jn(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else Jn(this.i,this.l,se,null),ei(this,se);if(Ao(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||y.length!=0||this.h.h||(this.m=1,ge(16),u=!1),this.o=this.o&&u,!u)Jn(this.i,this.l,y,"[Invalid Chunked Response]"),cn(this),Tn(this);else if(y.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),nl(W),W.P=!0,ge(11))}}else Jn(this.i,this.l,y,null),ei(this,y);At==4&&cn(this),this.o&&!this.K&&(At==4?Vo(this.j,this):(this.o=!1,Wn(this)))}else bi(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,ge(12)):(this.m=0,ge(13)),cn(this),Tn(this)}}}catch{}finally{}};function qc(u){if(!Ao(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let y="";const T=m.length,L=qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cn(u),Tn(u),"";u.h.i=new d.TextDecoder}for(let P=0;P<T;P++)u.h.h=!0,y+=u.h.i.decode(m[P],{stream:!(L&&P==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Ao(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function So(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Oe:(y=Number(m.substring(y,T)),isNaN(y)?pe:(T+=1,T+y>m.length?Oe:(m=m.slice(T,T+y),u.C=T+y,m)))}Ln.prototype.cancel=function(){this.K=!0,cn(this)};function Wn(u){u.T=Date.now()+u.H,Ia(u,u.H)}function Ia(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Zn(_(u.aa,u),m)}function ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Ln.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Gs(this.i,this.B),this.M!=2&&(Kn(),ge(17)),cn(this),this.m=2,Tn(this)):Ia(this,this.T-u)};function Tn(u){u.j.I==0||u.K||Vo(u.j,u)}function cn(u){ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Br(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ei(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||ii(y.h,u))){if(!u.L&&ii(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)ja(y),Wi(y);else break t;ta(y),ge(18)}}else y.xa=L[1],0<y.xa-y.K&&L[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=Zn(_(y.Va,y),6e3));ni(y.h)<=1&&y.ta&&(y.ta=void 0)}else ui(y,11)}else if((u.L||y.g==u)&&ja(y),!R(m))for(L=y.Ba.g.parse(m),m=0;m<L.length;m++){let qt=L[m];const se=qt[0];if(!(se<=y.K))if(y.K=se,qt=qt[1],y.I==2)if(qt[0]=="c"){y.M=qt[1],y.ba=qt[2];const bn=qt[3];bn!=null&&(y.ka=bn,y.j.info("VER="+y.ka));const ci=qt[4];ci!=null&&(y.za=ci,y.j.info("SVER="+y.za));const Pn=qt[5];Pn!=null&&typeof Pn=="number"&&Pn>0&&(T=1.5*Pn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const kn=u.g;if(kn){const ea=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ea){var P=T.h;P.g||ea.indexOf("spdy")==-1&&ea.indexOf("quic")==-1&&ea.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Gr(P,P.h),P.h=null))}if(T.G){const Ba=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ba&&(T.wa=Ba,Gt(T.J,T.G,Ba))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var W=u;if(T.na=Uo(T,T.L?T.ba:null,T.W),W.L){Fr(T.h,W);var At=W,ce=T.O;ce&&(At.H=ce),At.D&&(ti(At),Wn(At)),T.g=W}else Io(T);y.i.length>0&&oi(y)}else qt[0]!="stop"&&qt[0]!="close"||ui(y,7);else y.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?ui(y,7):tl(y):qt[0]!="noop"&&y.l&&y.l.qa(qt),y.A=0)}}Kn(4)}catch{}}var ye=class{constructor(u,m){this.g=u,this.map=m}};function kr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Hr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ni(u){return u.h?1:u.g?u.g.size:0}function ii(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Gr(u,m){u.g?u.g.add(m):u.h=m}function Fr(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}kr.prototype.cancel=function(){if(this.i=Yr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Yr(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return q(u.i)}var bo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oa(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let L,P=null;T>=0?(L=u[y].substring(0,T),P=u[y].substring(T+1)):L=u[y],m(L,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function fn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof fn?(this.l=u.l,Ve(this,u.j),this.o=u.o,this.g=u.g,Yi(this,u.u),this.h=u.h,Qr(this,Do(u.i)),this.m=u.m):u&&(m=String(u).match(bo))?(this.l=!1,Ve(this,m[1]||"",!0),this.o=si(m[2]||""),this.g=si(m[3]||"",!0),Yi(this,m[4]),this.h=si(m[5]||"",!0),Qr(this,m[6]||"",!0),this.m=si(m[7]||"")):(this.l=!1,this.i=new Ki(null,this.l))}fn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ks(m,Va,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ks(m,Va,!0),"@"),u.push(Ai(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Ks(y,y.charAt(0)=="/"?Kr:Ro,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Ks(y,Co)),u.join("")},fn.prototype.resolve=function(u){const m=_e(this);let y=!!u.j;y?Ve(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)Yi(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const P=[];for(let W=0;W<L.length;){const At=L[W++];At=="."?T&&W==L.length&&P.push(""):At==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),T&&W==L.length&&P.push("")):(P.push(At),T=!0)}T=P.join("/")}else T=L}return y?m.h=T:y=u.i.toString()!=="",y?Qr(m,Do(u.i)):y=!!u.m,y&&(m.m=u.m),m};function _e(u){return new fn(u)}function Ve(u,m,y){u.j=y?si(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Yi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Qr(u,m,y){m instanceof Ki?(u.i=m,xa(u.i,u.l)):(y||(m=Ks(m,Qi)),u.i=new Ki(m,u.l))}function Gt(u,m,y){u.i.set(m,y)}function Qs(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function si(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ks(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,We),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function We(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Va=/[#\/\?@]/g,Ro=/[#\?:]/g,Kr=/[#\?]/g,Qi=/[#\?@]/g,Co=/#/g;function Ki(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function tn(u){u.g||(u.g=new Map,u.h=0,u.i&&Oa(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}a=Ki.prototype,a.add=function(u,m){tn(this),this.i=null,u=Xi(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function wo(u,m){tn(u),m=Xi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Xr(u,m){return tn(u),m=Xi(u,m),u.g.has(m)}a.forEach=function(u,m){tn(this),this.g.forEach(function(y,T){y.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Zr(u,m){tn(u);let y=[];if(typeof m=="string")Xr(u,m)&&(y=y.concat(u.g.get(Xi(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}a.set=function(u,m){return tn(this),this.i=null,u=Xi(this,u),Xr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=Zr(this,u),u.length>0?String(u[0]):m):m};function Ma(u,m,y){wo(u,m),y.length>0&&(u.i=null,u.g.set(Xi(u,m),q(y)),u.h+=y.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const L=Ai(y);y=Zr(this,y);for(let P=0;P<y.length;P++){let W=L;y[P]!==""&&(W+="="+Ai(y[P])),u.push(W)}}return this.i=u.join("&")};function Do(u){const m=new Ki;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Xi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function xa(u,m){m&&!u.j&&(tn(u),u.i=null,u.g.forEach(function(y,T){const L=T.toLowerCase();T!=L&&(wo(this,T),Ma(this,L,y))},u)),u.j=m}function jn(u,m){const y=new Un;if(d.Image){const T=new Image;T.onload=A(An,y,"TestLoadImage: loaded",!0,m,T),T.onerror=A(An,y,"TestLoadImage: error",!1,m,T),T.onabort=A(An,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(An,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Jr(u,m){const y=new Un,T=new AbortController,L=setTimeout(()=>{T.abort(),An(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(P=>{clearTimeout(L),P.ok?An(y,"TestPingServer: ok",!0,m):An(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),An(y,"TestPingServer: error",!1,m)})}function An(u,m,y,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(y)}catch{}}function Zi(){this.g=new go}function ai(u){this.i=u.Sb||null,this.h=u.ab||!1}S(ai,po),ai.prototype.g=function(){return new Xs(this.i,this.h)};function Xs(u,m){me.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Xs,me),a=Xs.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ji(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ua(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ua(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ji(this):Bn(this),this.readyState==3&&Ua(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,Ji(this))},a.Na=function(u){this.g&&(this.response=u,Ji(this))},a.ga=function(){this.g&&Ji(this)};function Ji(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sn(u){let m="";return zt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function Zs(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=Sn(y),typeof u=="string"?y!=null&&Ai(y):Gt(u,m,y))}function Qt(u){me.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Qt,me);var ri=/^https?$/i,$r=["POST","PUT"];a=Qt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Pr.g(),this.g.onreadystatechange=N(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(P){Js(this,P);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)y.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const P of T.keys())y.set(P,T.get(P));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(P=>P.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call($r,m,void 0)>=0)||T||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,W]of y)this.g.setRequestHeader(P,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(P){Js(this,P)}};function Js(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Wr(u),Si(u)}function Wr(u){u.A||(u.A=!0,we(u,"complete"),we(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,we(this,"complete"),we(this,"abort"),Si(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Si(this,!0)),Qt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?$s(this):this.Xa())},a.Xa=function(){$s(this)};function $s(u){if(u.h&&typeof f<"u"){if(u.v&&qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(we(u,"readystatechange"),qn(u)==4){u.h=!1;try{const P=u.ca();t:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=P===0){let W=String(u.D).match(bo)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!ri.test(W?W.toLowerCase():"")}y=T}if(y)we(u,"complete"),we(u,"success");else{u.o=6;try{var L=qn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Wr(u)}}finally{Si(u)}}}}function Si(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||we(u,"ready");try{y.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),zc(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function bi(u){const m={};u=(u.g&&qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var y=To(u[T]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const P=m[L]||[];m[L]=P,P.push(y)}Ht(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function li(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function $i(u){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=li("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=li("baseRetryDelayMs",5e3,u),this.Za=li("retryDelaySeedMs",1e4,u),this.Ta=li("forwardChannelMaxRetries",2,u),this.va=li("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new kr(u&&u.concurrentRequestLimit),this.Ba=new Zi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=$i.prototype,a.ka=8,a.I=1,a.connect=function(u,m,y,T){ge(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=Uo(this,null,this.W),oi(this)};function tl(u){if(La(u),u.I==3){var m=u.V++,y=_e(u.J);if(Gt(y,"SID",u.M),Gt(y,"RID",m),Gt(y,"TYPE","terminate"),Ws(u,y),m=new Ln(u,u.j,m),m.M=2,m.A=Qs(_e(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=Lo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Wn(m)}xo(u)}function Wi(u){u.g&&(nl(u),u.g.cancel(),u.g=null)}function La(u){Wi(u),u.v&&(d.clearTimeout(u.v),u.v=null),ja(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function oi(u){if(!Hr(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ct||b(),_t||(Ct(),_t=!0),C.add(m,u),u.D=0}}function za(u,m){return ni(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Zn(_(u.Ea,u,m),Mo(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Ln(this,this.j,u);let P=this.o;if(this.U&&(P?(P=V(P),nt(P,this.U)):P=this.U),this.u!==null||this.R||(L.J=P,P=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=No(this,L,m),y=_e(this.J),Gt(y,"RID",u),Gt(y,"CVER",22),this.G&&Gt(y,"X-HTTP-Session-Id",this.G),Ws(this,y),P&&(this.R?m="headers="+Ai(Sn(P))+"&"+m:this.u&&Zs(y,this.u,P)),Gr(this.h,L),this.Ra&&Gt(y,"TYPE","init"),this.S?(Gt(y,"$req",m),Gt(y,"SID","null"),L.U=!0,$n(L,y,null)):$n(L,y,m),this.I=2}}else this.I==3&&(u?el(this,u):this.i.length==0||Hr(this.h)||el(this))};function el(u,m){var y;m?y=m.l:y=u.V++;const T=_e(u.J);Gt(T,"SID",u.M),Gt(T,"RID",y),Gt(T,"AID",u.K),Ws(u,T),u.u&&u.o&&Zs(T,u.u,u.o),y=new Ln(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=No(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Gr(u.h,y),$n(y,T,m)}function Ws(u,m){u.H&&zt(u.H,function(y,T){Gt(m,T,y)}),u.l&&zt({},function(y,T){Gt(m,T,y)})}function No(u,m,y){y=Math.min(u.i.length,y);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let At=-1;for(;;){const ce=["count="+y];At==-1?y>0?(At=L[0].g,ce.push("ofs="+At)):At=0:ce.push("ofs="+At);let qt=!0;for(let se=0;se<y;se++){var P=L[se].g;const bn=L[se].map;if(P-=At,P<0)At=Math.max(0,L[se].g-100),qt=!1;else try{P="req"+P+"_"||"";try{var W=bn instanceof Map?bn:Object.entries(bn);for(const[ci,Pn]of W){let kn=Pn;p(Pn)&&(kn=Fi(Pn)),ce.push(P+ci+"="+encodeURIComponent(kn))}}catch(ci){throw ce.push(P+"type="+encodeURIComponent("_badmap")),ci}}catch{T&&T(bn)}}if(qt){W=ce.join("&");break t}}W=void 0}return u=u.i.splice(0,y),m.G=u,W}function Io(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ct||b(),_t||(Ct(),_t=!0),C.add(m,u),u.A=0}}function ta(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Zn(_(u.Da,u),Mo(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,Oo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Zn(_(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ge(10),Wi(this),Oo(this))};function nl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Oo(u){u.g=new Ln(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=_e(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),Ws(u,m),u.u&&u.o&&Zs(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=Qs(_e(m)),y.u=null,y.R=!0,Na(y,u)}a.Va=function(){this.C!=null&&(this.C=null,Wi(this),ta(this),ge(19))};function ja(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Vo(u,m){var y=null;if(u.g==m){ja(u),nl(u),u.g=null;var T=2}else if(ii(u.h,m))y=m.G,Fr(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Da(),we(T,new Xn(T,y)),oi(u)}else Io(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&za(u,m)||T==2&&ta(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),L){case 1:ui(u,5);break;case 4:ui(u,10);break;case 3:ui(u,6);break;default:ui(u,2)}}}function Mo(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function ui(u,m){if(u.j.info("Error code "+m),m==2){var y=_(u.bb,u),T=u.Ua;const L=!T;T=new fn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ve(T,"https"),Qs(T),L?jn(T.toString(),y):Jr(T.toString(),y)}else ge(2);u.I=0,u.l&&u.l.pa(m),xo(u),La(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function xo(u){if(u.I=0,u.ja=[],u.l){const m=Yr(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function Uo(u,m,y){var T=y instanceof fn?_e(y):new fn(y);if(T.g!="")m&&(T.g=m+"."+T.g),Yi(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const P=new fn(null);T&&Ve(P,T),m&&(P.g=m),L&&Yi(P,L),y&&(P.h=y),T=P}return y=u.G,m=u.wa,y&&m&&Gt(T,y,m),Gt(T,"VER",u.ka),Ws(u,T),T}function Lo(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Qt(new ai({ab:y})):new Qt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function zo(){}a=zo.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function ts(){}ts.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){me.call(this),this.g=new $i(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ri(this)}S(Je,me),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){tl(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=Fi(u),u=y);m.i.push(new ye(m.Ya++,u)),m.I==3&&oi(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,Je.Z.N.call(this)};function jo(u){Le.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(jo,Le);function Bo(){En.call(this),this.status=1}S(Bo,En);function Ri(u){this.g=u}S(Ri,zo),Ri.prototype.ra=function(){we(this.g,"a")},Ri.prototype.qa=function(u){we(this.g,new jo(u))},Ri.prototype.pa=function(u){we(this.g,new Bo)},Ri.prototype.oa=function(){we(this.g,"b")},ts.prototype.createWebChannel=ts.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,Ev=function(){return new ts},vv=function(){return Da()},_v=ue,ed={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fs.NO_ERROR=0,Fs.TIMEOUT=8,Fs.HTTP_ERROR=6,Zu=Fs,qr.COMPLETE="complete",yv=qr,yo.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",me.prototype.listen=me.prototype.J,Pl=yo,Qt.prototype.listenOnce=Qt.prototype.K,Qt.prototype.getLastError=Qt.prototype.Ha,Qt.prototype.getLastErrorCode=Qt.prototype.ya,Qt.prototype.getStatus=Qt.prototype.ca,Qt.prototype.getResponseJson=Qt.prototype.La,Qt.prototype.getResponseText=Qt.prototype.la,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Fa,pv=Qt}).apply(typeof Hu<"u"?Hu:typeof self<"u"?self:typeof window<"u"?window:{});const Hy="@firebase/firestore",Gy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Or="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new uv("@firebase/firestore");function pr(){return va.logLevel}function st(a,...e){if(va.logLevel<=Lt.DEBUG){const i=e.map(Sd);va.debug(`Firestore (${Or}): ${a}`,...i)}}function ki(a,...e){if(va.logLevel<=Lt.ERROR){const i=e.map(Sd);va.error(`Firestore (${Or}): ${a}`,...i)}}function br(a,...e){if(va.logLevel<=Lt.WARN){const i=e.map(Sd);va.warn(`Firestore (${Or}): ${a}`,...i)}}function Sd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(a,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,Tv(a,r,i)}function Tv(a,e,i){let r=`FIRESTORE (${Or}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ki(r),new Error(r)}function kt(a,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||Tv(e,o,r)}function Et(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Ir{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Qe.UNAUTHENTICATED)))}shutdown(){}}class TA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class AA{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){kt(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let f=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Ds,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=f;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Ds)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt(typeof r.accessToken=="string",31837,{l:r}),new Av(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new Qe(e)}}class SA{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bA{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new SA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Qe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Fy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,aA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){kt(this.o===void 0,3512);const r=f=>{f.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.m;return this.m=f.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable((()=>r(f)))};const o=f=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((f=>o(f))),setTimeout((()=>{if(!this.appCheck){const f=this.V.getImmediate({optional:!0});f?o(f):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Fy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Fy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=CA(40);for(let f=0;f<o.length;++f)r.length<20&&o[f]<i&&(r+=e.charAt(o[f]%62))}return r}}function Ot(a,e){return a<e?-1:a>e?1:0}function nd(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++){const o=a.charAt(r),f=e.charAt(r);if(o!==f)return Fh(o)===Fh(f)?Ot(o,f):Fh(o)?1:-1}return Ot(a.length,e.length)}const wA=55296,DA=57343;function Fh(a){const e=a.charCodeAt(0);return e>=wA&&e<=DA}function Rr(a,e,i){return a.length===e.length&&a.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="__name__";class gi{constructor(e,i,r){i===void 0?i=0:i>e.length&&dt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&dt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return gi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof gi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const f=gi.compareSegments(e.get(o),i.get(o));if(f!==0)return f}return Ot(e.length,i.length)}static compareSegments(e,i){const r=gi.isNumericId(e),o=gi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?gi.extractNumericId(e).compare(gi.extractNumericId(i)):nd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ws.fromString(e.substring(4,e.length-2))}}class ee extends gi{construct(e,i,r){return new ee(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ot(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const NA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends gi{construct(e,i,r){return new He(e,i,r)}static isValidIdentifier(e){return NA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Yy}static keyField(){return new He([Yy])}static fromServerFormat(e){const i=[];let r="",o=0;const f=()=>{if(r.length===0)throw new ot(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ot(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ot(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(f(),o++)}if(f(),d)throw new ot(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new He(i)}static emptyPath(){return new He([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.path=e}static fromPath(e){return new ft(ee.fromString(e))}static fromName(e){return new ft(ee.fromString(e).popFirst(5))}static empty(){return new ft(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new ee(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(a,e,i){if(!i)throw new ot(Z.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function IA(a,e,i,r){if(e===!0&&r===!0)throw new ot(Z.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Qy(a){if(!ft.isDocumentKey(a))throw new ot(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Ky(a){if(ft.isDocumentKey(a))throw new ot(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function bv(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Rd(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":dt(12329,{type:typeof a})}function Ea(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ot(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Rd(a);throw new ot(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(a,e){const i={typeString:a};return e&&(i.value=e),i}function ro(a,e){if(!bv(a))throw new ot(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,f="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(f!==void 0&&d!==f.value){i=`Expected '${r}' field to equal '${f.value}'`;break}}if(i)throw new ot(Z.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=-62135596800,Zy=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(e){return ne.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Zy);return new ne(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Xy)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zy}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ro(e,ne._jsonSchema))return new ne(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Xy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:be("string",ne._jsonSchemaVersion),seconds:be("number"),nanoseconds:be("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new ne(0,0))}static max(){return new yt(new ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=-1;function OA(a,e){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=yt.fromTimestamp(r===1e9?new ne(i+1,0):new ne(i,r));return new Vs(o,ft.empty(),e)}function VA(a){return new Vs(a.readTime,a.key,$l)}class Vs{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Vs(yt.min(),ft.empty(),$l)}static max(){return new Vs(yt.max(),ft.empty(),$l)}}function MA(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(a.documentKey,e.documentKey),i!==0?i:Ot(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vr(a){if(a.code!==Z.FAILED_PRECONDITION||a.message!==xA)throw a;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((r,o)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(r,o)},this.catchCallback=f=>{this.wrapFailure(i,f).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,r)=>{i(e)}))}static reject(e){return new X(((i,r)=>{r(e)}))}static waitFor(e){return new X(((i,r)=>{let o=0,f=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++f,d&&f===o&&i()}),(v=>r(v)))})),d=!0,f===o&&i()}))}static or(e){let i=X.resolve(!1);for(const r of e)i=i.next((o=>o?X.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,f)=>{r.push(i.call(this,o,f))})),this.waitFor(r)}static mapArray(e,i){return new X(((r,o)=>{const f=e.length,d=new Array(f);let p=0;for(let v=0;v<f;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++p,p===f&&r(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new X(((r,o)=>{const f=()=>{e()===!0?i().next((()=>{f()}),o):r()};f()}))}}function LA(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Mr(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd=-1;function Ec(a){return a==null}function lc(a){return a===0&&1/a==-1/0}function zA(a){return typeof a=="number"&&Number.isInteger(a)&&!lc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="";function jA(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Jy(e)),e=BA(a.get(i),e);return Jy(e)}function BA(a,e){let i=e;const r=a.length;for(let o=0;o<r;o++){const f=a.charAt(o);switch(f){case"\0":i+="";break;case Rv:i+="";break;default:i+=f}}return i}function Jy(a){return a+Rv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function js(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function Cv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,i){this.comparator=e,this.root=i||ke.EMPTY}insert(e,i){return new re(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(e){return new re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ke.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gu(this.root,e,this.comparator,!0)}}class Gu{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=i?r(e.key,i):1,i&&o&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ke{constructor(e,i,r,o,f){this.key=e,this.value=i,this.color=r??ke.RED,this.left=o??ke.EMPTY,this.right=f??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,f){return new ke(e??this.key,i??this.value,r??this.color,o??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const f=r(e,o.key);return o=f<0?o.copy(null,null,null,o.left.insert(e,i,r),null):f===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ke.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dt(27949);return e+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1;ke.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(e,i,r,o,f){return this}insert(e,i,r){return new ke(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.comparator=e,this.data=new re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Wy(this.data.getIterator())}getIteratorFrom(e){return new Wy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Ie)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=r.getNext().key;if(this.comparator(o,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ie(this.comparator);return i.data=e,i}}class Wy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(He.comparator)}static empty(){return new vn([])}unionWith(e){let i=new Ie(He.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new vn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Rr(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new wv("Invalid base64 string: "+f):f}})(e);return new Ge(i)}static fromUint8Array(e){const i=(function(o){let f="";for(let d=0;d<o.length;++d)f+=String.fromCharCode(o[d]);return f})(e);return new Ge(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const qA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ms(a){if(kt(!!a,39018),typeof a=="string"){let e=0;const i=qA.exec(a);if(kt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:de(a.seconds),nanos:de(a.nanos)}}function de(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function xs(a){return typeof a=="string"?Ge.fromBase64String(a):Ge.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="server_timestamp",Nv="__type__",Iv="__previous_value__",Ov="__local_write_time__";function wd(a){var i,r;return((r=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[Nv])==null?void 0:r.stringValue)===Dv}function Tc(a){const e=a.mapValue.fields[Iv];return wd(e)?Tc(e):e}function Wl(a){const e=Ms(a.mapValue.fields[Ov].timestampValue);return new ne(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,i,r,o,f,d,p,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const oc="(default)";class to{constructor(e,i){this.projectId=e,this.database=i||oc}static empty(){return new to("","")}get isDefaultDatabase(){return this.database===oc}isEqual(e){return e instanceof to&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="__type__",kA="__max__",Fu={mapValue:{}},Mv="__vector__",uc="value";function Us(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?wd(a)?4:GA(a)?9007199254740991:HA(a)?10:11:dt(28295,{value:a})}function Ei(a,e){if(a===e)return!0;const i=Us(a);if(i!==Us(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Wl(a).isEqual(Wl(e));case 3:return(function(o,f){if(typeof o.timestampValue=="string"&&typeof f.timestampValue=="string"&&o.timestampValue.length===f.timestampValue.length)return o.timestampValue===f.timestampValue;const d=Ms(o.timestampValue),p=Ms(f.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,f){return xs(o.bytesValue).isEqual(xs(f.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,f){return de(o.geoPointValue.latitude)===de(f.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(f.geoPointValue.longitude)})(a,e);case 2:return(function(o,f){if("integerValue"in o&&"integerValue"in f)return de(o.integerValue)===de(f.integerValue);if("doubleValue"in o&&"doubleValue"in f){const d=de(o.doubleValue),p=de(f.doubleValue);return d===p?lc(d)===lc(p):isNaN(d)&&isNaN(p)}return!1})(a,e);case 9:return Rr(a.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return(function(o,f){const d=o.mapValue.fields||{},p=f.mapValue.fields||{};if($y(d)!==$y(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Ei(d[v],p[v])))return!1;return!0})(a,e);default:return dt(52216,{left:a})}}function eo(a,e){return(a.values||[]).find((i=>Ei(i,e)))!==void 0}function Cr(a,e){if(a===e)return 0;const i=Us(a),r=Us(e);if(i!==r)return Ot(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(a.booleanValue,e.booleanValue);case 2:return(function(f,d){const p=de(f.integerValue||f.doubleValue),v=de(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(a,e);case 3:return t_(a.timestampValue,e.timestampValue);case 4:return t_(Wl(a),Wl(e));case 5:return nd(a.stringValue,e.stringValue);case 6:return(function(f,d){const p=xs(f),v=xs(d);return p.compareTo(v)})(a.bytesValue,e.bytesValue);case 7:return(function(f,d){const p=f.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const A=Ot(p[_],v[_]);if(A!==0)return A}return Ot(p.length,v.length)})(a.referenceValue,e.referenceValue);case 8:return(function(f,d){const p=Ot(de(f.latitude),de(d.latitude));return p!==0?p:Ot(de(f.longitude),de(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return e_(a.arrayValue,e.arrayValue);case 10:return(function(f,d){var N,q,J,tt;const p=f.fields||{},v=d.fields||{},_=(N=p[uc])==null?void 0:N.arrayValue,A=(q=v[uc])==null?void 0:q.arrayValue,S=Ot(((J=_==null?void 0:_.values)==null?void 0:J.length)||0,((tt=A==null?void 0:A.values)==null?void 0:tt.length)||0);return S!==0?S:e_(_,A)})(a.mapValue,e.mapValue);case 11:return(function(f,d){if(f===Fu.mapValue&&d===Fu.mapValue)return 0;if(f===Fu.mapValue)return 1;if(d===Fu.mapValue)return-1;const p=f.fields||{},v=Object.keys(p),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let S=0;S<v.length&&S<A.length;++S){const N=nd(v[S],A[S]);if(N!==0)return N;const q=Cr(p[v[S]],_[A[S]]);if(q!==0)return q}return Ot(v.length,A.length)})(a.mapValue,e.mapValue);default:throw dt(23264,{he:i})}}function t_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ot(a,e);const i=Ms(a),r=Ms(e),o=Ot(i.seconds,r.seconds);return o!==0?o:Ot(i.nanos,r.nanos)}function e_(a,e){const i=a.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const f=Cr(i[o],r[o]);if(f)return f}return Ot(i.length,r.length)}function wr(a){return id(a)}function id(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Ms(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return xs(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return ft.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const f of i.values||[])o?o=!1:r+=",",r+=id(f);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",f=!0;for(const d of r)f?f=!1:o+=",",o+=`${d}:${id(i.fields[d])}`;return o+"}"})(a.mapValue):dt(61005,{value:a})}function Ju(a){switch(Us(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tc(a);return e?16+Ju(e):16;case 5:return 2*a.stringValue.length;case 6:return xs(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,f)=>o+Ju(f)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return js(r.fields,((f,d)=>{o+=f.length+Ju(d)})),o})(a.mapValue);default:throw dt(13486,{value:a})}}function sd(a){return!!a&&"integerValue"in a}function Dd(a){return!!a&&"arrayValue"in a}function n_(a){return!!a&&"nullValue"in a}function i_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function $u(a){return!!a&&"mapValue"in a}function HA(a){var i,r;return((r=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[Vv])==null?void 0:r.stringValue)===Mv}function Fl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return js(a.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Fl(r))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Fl(a.arrayValue.values[i]);return e}return{...a}}function GA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===kA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!$u(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(i)}setAll(e){let i=He.emptyPath(),r={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,r,o),r={},o=[],i=p.popLast()}d?r[p.lastSegment()]=Fl(d):o.push(p.lastSegment())}));const f=this.getFieldsMap(i);this.applyChanges(f,r,o)}delete(e){const i=this.field(e.popLast());$u(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];$u(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){js(i,((o,f)=>e[o]=f));for(const o of r)delete e[o]}clone(){return new un(Fl(this.value))}}function xv(a){const e=[];return js(a.fields,((i,r)=>{const o=new He([i]);if($u(r)){const f=xv(r.mapValue).fields;if(f.length===0)e.push(o);else for(const d of f)e.push(o.child(d))}else e.push(o)})),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,r,o,f,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=f,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Ke(e,0,yt.min(),yt.min(),yt.min(),un.empty(),0)}static newFoundDocument(e,i,r,o){return new Ke(e,1,i,yt.min(),r,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,yt.min(),yt.min(),un.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,yt.min(),yt.min(),un.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,i){this.position=e,this.inclusive=i}}function s_(a,e,i){let r=0;for(let o=0;o<a.position.length;o++){const f=e[o],d=a.position[o];if(f.field.isKeyField()?r=ft.comparator(ft.fromName(d.referenceValue),i.key):r=Cr(d,i.data.field(f.field)),f.dir==="desc"&&(r*=-1),r!==0)break}return r}function a_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ei(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,i="asc"){this.field=e,this.dir=i}}function FA(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{}class Ne extends Uv{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new QA(e,i,r):i==="array-contains"?new ZA(e,r):i==="in"?new JA(e,r):i==="not-in"?new $A(e,r):i==="array-contains-any"?new WA(e,r):new Ne(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new KA(e,r):new XA(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Cr(i,this.value)):i!==null&&Us(this.value)===Us(i)&&this.matchesComparison(Cr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends Uv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ti(e,i)}matches(e){return Lv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Lv(a){return a.op==="and"}function zv(a){return YA(a)&&Lv(a)}function YA(a){for(const e of a.filters)if(e instanceof Ti)return!1;return!0}function ad(a){if(a instanceof Ne)return a.field.canonicalString()+a.op.toString()+wr(a.value);if(zv(a))return a.filters.map((e=>ad(e))).join(",");{const e=a.filters.map((i=>ad(i))).join(",");return`${a.op}(${e})`}}function jv(a,e){return a instanceof Ne?(function(r,o){return o instanceof Ne&&r.op===o.op&&r.field.isEqual(o.field)&&Ei(r.value,o.value)})(a,e):a instanceof Ti?(function(r,o){return o instanceof Ti&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((f,d,p)=>f&&jv(d,o.filters[p])),!0):!1})(a,e):void dt(19439)}function Bv(a){return a instanceof Ne?(function(i){return`${i.field.canonicalString()} ${i.op} ${wr(i.value)}`})(a):a instanceof Ti?(function(i){return i.op.toString()+" {"+i.getFilters().map(Bv).join(" ,")+"}"})(a):"Filter"}class QA extends Ne{constructor(e,i,r){super(e,i,r),this.key=ft.fromName(r.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class KA extends Ne{constructor(e,i){super(e,"in",i),this.keys=qv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class XA extends Ne{constructor(e,i){super(e,"not-in",i),this.keys=qv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function qv(a,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((r=>ft.fromName(r.referenceValue)))}class ZA extends Ne{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Dd(i)&&eo(i.arrayValue,this.value)}}class JA extends Ne{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&eo(this.value.arrayValue,i)}}class $A extends Ne{constructor(e,i){super(e,"not-in",i)}matches(e){if(eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!eo(this.value.arrayValue,i)}}class WA extends Ne{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Dd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>eo(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,i=null,r=[],o=[],f=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=f,this.startAt=d,this.endAt=p,this.Te=null}}function r_(a,e=null,i=[],r=[],o=null,f=null,d=null){return new tS(a,e,i,r,o,f,d)}function Nd(a){const e=Et(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>ad(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(f){return f.field.canonicalString()+f.dir})(r))).join(","),Ec(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>wr(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>wr(r))).join(",")),e.Te=i}return e.Te}function Id(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!FA(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!jv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!a_(a.startAt,e.startAt)&&a_(a.endAt,e.endAt)}function rd(a){return ft.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,i=null,r=[],o=[],f=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=f,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function eS(a,e,i,r,o,f,d,p){return new Ac(a,e,i,r,o,f,d,p)}function Pv(a){return new Ac(a)}function l_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function nS(a){return a.collectionGroup!==null}function Yl(a){const e=Et(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const f of e.explicitOrderBy)e.Ie.push(f),i.add(f.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ie(He.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((f=>{i.has(f.canonicalString())||f.isKeyField()||e.Ie.push(new fc(f,r))})),i.has(He.keyField().canonicalString())||e.Ie.push(new fc(He.keyField(),r))}return e.Ie}function pi(a){const e=Et(a);return e.Ee||(e.Ee=iS(e,Yl(a))),e.Ee}function iS(a,e){if(a.limitType==="F")return r_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const f=o.dir==="desc"?"asc":"desc";return new fc(o.field,f)}));const i=a.endAt?new cc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new cc(a.startAt.position,a.startAt.inclusive):null;return r_(a.path,a.collectionGroup,e,a.filters,a.limit,i,r)}}function ld(a,e,i){return new Ac(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Sc(a,e){return Id(pi(a),pi(e))&&a.limitType===e.limitType}function kv(a){return`${Nd(pi(a))}|lt:${a.limitType}`}function yr(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>Bv(o))).join(", ")}]`),Ec(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>wr(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>wr(o))).join(",")),`Target(${r})`})(pi(a))}; limitType=${a.limitType})`}function bc(a,e){return e.isFoundDocument()&&(function(r,o){const f=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(f):ft.isDocumentKey(r.path)?r.path.isEqual(f):r.path.isImmediateParentOf(f)})(a,e)&&(function(r,o){for(const f of Yl(r))if(!f.field.isKeyField()&&o.data.field(f.field)===null)return!1;return!0})(a,e)&&(function(r,o){for(const f of r.filters)if(!f.matches(o))return!1;return!0})(a,e)&&(function(r,o){return!(r.startAt&&!(function(d,p,v){const _=s_(d,p,v);return d.inclusive?_<=0:_<0})(r.startAt,Yl(r),o)||r.endAt&&!(function(d,p,v){const _=s_(d,p,v);return d.inclusive?_>=0:_>0})(r.endAt,Yl(r),o))})(a,e)}function sS(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Hv(a){return(e,i)=>{let r=!1;for(const o of Yl(a)){const f=aS(o,e,i);if(f!==0)return f;r=r||o.field.isKeyField()}return 0}}function aS(a,e,i){const r=a.field.isKeyField()?ft.comparator(e.key,i.key):(function(f,d,p){const v=d.data.field(f),_=p.data.field(f);return v!==null&&_!==null?Cr(v,_):dt(42886)})(a.field,e,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return dt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,f]of r)if(this.equalsFn(o,e))return f}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let f=0;f<o.length;f++)if(this.equalsFn(o[f][0],e))return void(o[f]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){js(this.inner,((i,r)=>{for(const[o,f]of r)e(o,f)}))}isEmpty(){return Cv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=new re(ft.comparator);function Hi(){return rS}const Gv=new re(ft.comparator);function kl(...a){let e=Gv;for(const i of a)e=e.insert(i.key,i);return e}function Fv(a){let e=Gv;return a.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function _a(){return Ql()}function Yv(){return Ql()}function Ql(){return new Sa((a=>a.toString()),((a,e)=>a.isEqual(e)))}const lS=new re(ft.comparator),oS=new Ie(ft.comparator);function Vt(...a){let e=oS;for(const i of a)e=e.add(i);return e}const uS=new Ie(Ot);function cS(){return uS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lc(e)?"-0":e}}function Qv(a){return{integerValue:""+a}}function fS(a,e){return zA(e)?Qv(e):Od(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(){this._=void 0}}function hS(a,e,i){return a instanceof hc?(function(o,f){const d={fields:{[Nv]:{stringValue:Dv},[Ov]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return f&&wd(f)&&(f=Tc(f)),f&&(d.fields[Iv]=f),{mapValue:d}})(i,e):a instanceof no?Xv(a,e):a instanceof io?Zv(a,e):(function(o,f){const d=Kv(o,f),p=o_(d)+o_(o.Ae);return sd(d)&&sd(o.Ae)?Qv(p):Od(o.serializer,p)})(a,e)}function dS(a,e,i){return a instanceof no?Xv(a,e):a instanceof io?Zv(a,e):i}function Kv(a,e){return a instanceof dc?(function(r){return sd(r)||(function(f){return!!f&&"doubleValue"in f})(r)})(e)?e:{integerValue:0}:null}class hc extends Rc{}class no extends Rc{constructor(e){super(),this.elements=e}}function Xv(a,e){const i=Jv(e);for(const r of a.elements)i.some((o=>Ei(o,r)))||i.push(r);return{arrayValue:{values:i}}}class io extends Rc{constructor(e){super(),this.elements=e}}function Zv(a,e){let i=Jv(e);for(const r of a.elements)i=i.filter((o=>!Ei(o,r)));return{arrayValue:{values:i}}}class dc extends Rc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function o_(a){return de(a.integerValue||a.doubleValue)}function Jv(a){return Dd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function mS(a,e){return a.field.isEqual(e.field)&&(function(r,o){return r instanceof no&&o instanceof no||r instanceof io&&o instanceof io?Rr(r.elements,o.elements,Ei):r instanceof dc&&o instanceof dc?Ei(r.Ae,o.Ae):r instanceof hc&&o instanceof hc})(a.transform,e.transform)}class gS{constructor(e,i){this.version=e,this.transformResults=i}}class Yn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wu(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Cc{}function $v(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Vd(a.key,Yn.none()):new lo(a.key,a.data,Yn.none());{const i=a.data,r=un.empty();let o=new Ie(He.comparator);for(let f of e.fields)if(!o.has(f)){let d=i.field(f);d===null&&f.length>1&&(f=f.popLast(),d=i.field(f)),d===null?r.delete(f):r.set(f,d),o=o.add(f)}return new Bs(a.key,r,new vn(o.toArray()),Yn.none())}}function pS(a,e,i){a instanceof lo?(function(o,f,d){const p=o.value.clone(),v=c_(o.fieldTransforms,f,d.transformResults);p.setAll(v),f.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,e,i):a instanceof Bs?(function(o,f,d){if(!Wu(o.precondition,f))return void f.convertToUnknownDocument(d.version);const p=c_(o.fieldTransforms,f,d.transformResults),v=f.data;v.setAll(Wv(o)),v.setAll(p),f.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(a,e,i):(function(o,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Kl(a,e,i,r){return a instanceof lo?(function(f,d,p,v){if(!Wu(f.precondition,d))return p;const _=f.value.clone(),A=f_(f.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(a,e,i,r):a instanceof Bs?(function(f,d,p,v){if(!Wu(f.precondition,d))return p;const _=f_(f.fieldTransforms,v,d),A=d.data;return A.setAll(Wv(f)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map((S=>S.field)))})(a,e,i,r):(function(f,d,p){return Wu(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,e,i)}function yS(a,e){let i=null;for(const r of a.fieldTransforms){const o=e.data.field(r.field),f=Kv(r.transform,o||null);f!=null&&(i===null&&(i=un.empty()),i.set(r.field,f))}return i||null}function u_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Rr(r,o,((f,d)=>mS(f,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class lo extends Cc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Bs extends Cc{constructor(e,i,r,o,f=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function Wv(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);e.set(i,r)}})),e}function c_(a,e,i){const r=new Map;kt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const f=a[o],d=f.transform,p=e.data.field(f.field);r.set(f.field,dS(d,p,i[o]))}return r}function f_(a,e,i){const r=new Map;for(const o of a){const f=o.transform,d=i.data.field(o.field);r.set(o.field,hS(f,d,e))}return r}class Vd extends Cc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _S extends Cc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const f=this.mutations[o];f.key.isEqual(e.key)&&pS(f,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Kl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Kl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Yv();return this.mutations.forEach((o=>{const f=e.get(o.key),d=f.overlayedDocument;let p=this.applyToLocalView(d,f.mutatedFields);p=i.has(o.key)?null:p;const v=$v(d,p);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(yt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Vt())}isEqual(e){return this.batchId===e.batchId&&Rr(this.mutations,e.mutations,((i,r)=>u_(i,r)))&&Rr(this.baseMutations,e.baseMutations,((i,r)=>u_(i,r)))}}class Md{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){kt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return lS})();const f=e.mutations;for(let d=0;d<f.length;d++)o=o.insert(f[d].key,r[d].version);return new Md(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,Ut;function AS(a){switch(a){case Z.OK:return dt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return dt(15467,{code:a})}}function t0(a){if(a===void 0)return ki("GRPC error has no .code"),Z.UNKNOWN;switch(a){case Se.OK:return Z.OK;case Se.CANCELLED:return Z.CANCELLED;case Se.UNKNOWN:return Z.UNKNOWN;case Se.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Se.INTERNAL:return Z.INTERNAL;case Se.UNAVAILABLE:return Z.UNAVAILABLE;case Se.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Se.NOT_FOUND:return Z.NOT_FOUND;case Se.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Se.ABORTED:return Z.ABORTED;case Se.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Se.DATA_LOSS:return Z.DATA_LOSS;default:return dt(39323,{code:a})}}(Ut=Se||(Se={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=new ws([4294967295,4294967295],0);function h_(a){const e=SS().encode(a),i=new gv;return i.update(e),new Uint8Array(i.digest())}function d_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new ws([i,r],0),new ws([o,f],0)]}class xd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Hl(`Invalid padding: ${i}`);if(r<0)throw new Hl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ws.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(ws.fromNumber(r)));return o.compare(bS)===1&&(o=new ws([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=h_(e),[r,o]=d_(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(r,o,f);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),d=new xd(f,o,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=h_(e),[r,o]=d_(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(r,o,f);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,i,r,o,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,oo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new wc(yt.min(),o,new re(Ot),Hi(),Vt())}}class oo{constructor(e,i,r,o,f){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new oo(r,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class e0{constructor(e,i){this.targetId=e,this.Ce=i}}class n0{constructor(e,i,r=Ge.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class m_{constructor(){this.ve=0,this.Fe=g_(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Vt(),i=Vt(),r=Vt();return this.Fe.forEach(((o,f)=>{switch(f){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:dt(38017,{changeType:f})}})),new oo(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=g_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class RS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hi(),this.Je=Yu(),this.He=Yu(),this.Ye=new re(Ot)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:dt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const f=o.target;if(rd(f))if(r===0){const d=new ft(f.path);this.et(i,d,Ke.newNoDocument(d,yt.min()))}else kt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),v=p?this.ct(p,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:f=0}=i;let d,p;try{d=xs(r).toUint8Array()}catch(v){if(v instanceof wv)return br("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new xd(d,o,f)}catch(v){return br(v instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((f=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;e.mightContain(p)||(this.et(i,f,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((f,d)=>{const p=this.ot(d);if(p){if(f.current&&rd(p.target)){const v=new ft(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ke.newNoDocument(v,e))}f.Be&&(i.set(d,f.ke()),f.qe())}}));let r=Vt();this.He.forEach(((f,d)=>{let p=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(f))})),this.je.forEach(((f,d)=>d.setReadTime(e)));const o=new wc(e,i,this.Ye,this.je,r);return this.je=Hi(),this.Je=Yu(),this.He=Yu(),this.Ye=new re(Ot),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new m_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ie(Ot),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ie(Ot),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new m_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Yu(){return new re(ft.comparator)}function g_(){return new re(ft.comparator)}const CS={asc:"ASCENDING",desc:"DESCENDING"},wS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DS={and:"AND",or:"OR"};class NS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function od(a,e){return a.useProto3Json||Ec(e)?e:{value:e}}function mc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function i0(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function IS(a,e){return mc(a,e.toTimestamp())}function yi(a){return kt(!!a,49232),yt.fromTimestamp((function(i){const r=Ms(i);return new ne(r.seconds,r.nanos)})(a))}function Ud(a,e){return ud(a,e).canonicalString()}function ud(a,e){const i=(function(o){return new ee(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function s0(a){const e=ee.fromString(a);return kt(u0(e),10190,{key:e.toString()}),e}function cd(a,e){return Ud(a.databaseId,e.path)}function Yh(a,e){const i=s0(e);if(i.get(1)!==a.databaseId.projectId)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ft(r0(i))}function a0(a,e){return Ud(a.databaseId,e)}function OS(a){const e=s0(a);return e.length===4?ee.emptyPath():r0(e)}function fd(a){return new ee(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function r0(a){return kt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function p_(a,e,i){return{name:cd(a,e),fields:i.value.mapValue.fields}}function VS(a,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:dt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],f=(function(_,A){return _.useProto3Json?(kt(A===void 0||typeof A=="string",58123),Ge.fromBase64String(A||"")):(kt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ge.fromUint8Array(A||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?Z.UNKNOWN:t0(_.code);return new ot(A,_.message||"")})(d);i=new n0(r,o,f,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Yh(a,r.document.name),f=yi(r.document.updateTime),d=r.document.createTime?yi(r.document.createTime):yt.min(),p=new un({mapValue:{fields:r.document.fields}}),v=Ke.newFoundDocument(o,f,d,p),_=r.targetIds||[],A=r.removedTargetIds||[];i=new tc(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Yh(a,r.document),f=r.readTime?yi(r.readTime):yt.min(),d=Ke.newNoDocument(o,f),p=r.removedTargetIds||[];i=new tc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Yh(a,r.document),f=r.removedTargetIds||[];i=new tc([],f,o,null)}else{if(!("filter"in e))return dt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:f}=r,d=new TS(o,f),p=r.targetId;i=new e0(p,d)}}return i}function MS(a,e){let i;if(e instanceof lo)i={update:p_(a,e.key,e.value)};else if(e instanceof Vd)i={delete:cd(a,e.key)};else if(e instanceof Bs)i={update:p_(a,e.key,e.data),updateMask:kS(e.fieldMask)};else{if(!(e instanceof _S))return dt(16599,{Vt:e.type});i={verify:cd(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(f,d){const p=d.transform;if(p instanceof hc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof no)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof io)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof dc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw dt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,f){return f.updateTime!==void 0?{updateTime:IS(o,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:dt(27497)})(a,e.precondition)),i}function xS(a,e){return a&&a.length>0?(kt(e!==void 0,14353),a.map((i=>(function(o,f){let d=o.updateTime?yi(o.updateTime):yi(f);return d.isEqual(yt.min())&&(d=yi(f)),new gS(d,o.transformResults||[])})(i,e)))):[]}function US(a,e){return{documents:[a0(a,e.path)]}}function LS(a,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=a0(a,o);const f=(function(_){if(_.length!==0)return o0(Ti.create(_,"and"))})(e.filters);f&&(i.structuredQuery.where=f);const d=(function(_){if(_.length!==0)return _.map((A=>(function(N){return{field:_r(N.field),direction:BS(N.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=od(a,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function zS(a){let e=OS(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){kt(r===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let f=[];i.where&&(f=(function(S){const N=l0(S);return N instanceof Ti&&zv(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((N=>(function(J){return new fc(vr(J.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(N)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let N;return N=typeof S=="object"?S.value:S,Ec(N)?null:N})(i.limit));let v=null;i.startAt&&(v=(function(S){const N=!!S.before,q=S.values||[];return new cc(q,N)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const N=!S.before,q=S.values||[];return new cc(q,N)})(i.endAt)),eS(e,o,d,f,p,"F",v,_)}function jS(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function l0(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=vr(i.unaryFilter.field);return Ne.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=vr(i.unaryFilter.field);return Ne.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=vr(i.unaryFilter.field);return Ne.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=vr(i.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Ne.create(vr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Ti.create(i.compositeFilter.filters.map((r=>l0(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(i.compositeFilter.op))})(a):dt(30097,{filter:a})}function BS(a){return CS[a]}function qS(a){return wS[a]}function PS(a){return DS[a]}function _r(a){return{fieldPath:a.canonicalString()}}function vr(a){return He.fromServerFormat(a.fieldPath)}function o0(a){return a instanceof Ne?(function(i){if(i.op==="=="){if(i_(i.value))return{unaryFilter:{field:_r(i.field),op:"IS_NAN"}};if(n_(i.value))return{unaryFilter:{field:_r(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(i_(i.value))return{unaryFilter:{field:_r(i.field),op:"IS_NOT_NAN"}};if(n_(i.value))return{unaryFilter:{field:_r(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_r(i.field),op:qS(i.op),value:i.value}}})(a):a instanceof Ti?(function(i){const r=i.getFilters().map((o=>o0(o)));return r.length===1?r[0]:{compositeFilter:{op:PS(i.op),filters:r}}})(a):dt(54877,{filter:a})}function kS(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function u0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,i,r,o,f=yt.min(),d=yt.min(),p=Ge.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.yt=e}}function GS(a){const e=zS({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?ld(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(){this.Cn=new YS}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Vs.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Vs.min())}updateCollectionGroup(e,i,r){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class YS{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Ie(ee.comparator),f=!o.has(r);return this.index[i]=o.add(r),f}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ie(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},c0=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(c0,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Dr(0)}static cr(){return new Dr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="LruGarbageCollector",QS=1048576;function v_([a,e],[i,r]){const o=Ot(a,i);return o===0?Ot(e,r):o}class KS{constructor(e){this.Ir=e,this.buffer=new Ie(v_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();v_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class XS{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){st(__,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Mr(i)?st(__,"Ignoring IndexedDB error during garbage collection: ",i):await Vr(i)}await this.Vr(3e5)}))}}class ZS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(vc.ce);const r=new KS(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(y_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,f,d,p,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,p=Date.now(),this.removeTargets(e,r,i)))).next((S=>(f=S,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(_=Date.now(),pr()<=Lt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${f} targets in `+(v-p)+`ms
	Removed ${S} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:f,documentsRemoved:S}))))}}function JS(a,e){return new ZS(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.changes=new Sa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?X.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Kl(r.mutation,o,vn.empty(),ne.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Vt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Vt()){const o=_a();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((f=>{let d=kl();return f.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=_a();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Vt())))}populateOverlays(e,i,r){const o=[];return r.forEach((f=>{i.has(f)||o.push(f)})),this.documentOverlayCache.getOverlays(e,o).next((f=>{f.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,o){let f=Hi();const d=Ql(),p=(function(){return Ql()})();return i.forEach(((v,_)=>{const A=r.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Bs)?f=f.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Kl(A.mutation,_,A.mutation.getFieldMask(),ne.now())):d.set(_.key,vn.empty())})),this.recalculateAndSaveOverlays(e,f).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new WS(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=Ql();let o=new re(((d,p)=>d-p)),f=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=r.get(v)||vn.empty();A=p.applyToLocalView(_,A),r.set(v,A);const S=(o.get(p.batchId)||Vt()).add(v);o=o.insert(p.batchId,S)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,A=v.value,S=Yv();A.forEach((N=>{if(!f.has(N)){const q=$v(i.get(N),r.get(N));q!==null&&S.set(N,q),f=f.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return X.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):nS(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((f=>{const d=o-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-f.size):X.resolve(_a());let p=$l,v=f;return d.next((_=>X.forEach(_,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),f.get(A)?X.resolve():this.remoteDocumentCache.getEntry(e,A).next((N=>{v=v.insert(A,N)}))))).next((()=>this.populateOverlays(e,_,f))).next((()=>this.computeViews(e,v,_,Vt()))).next((A=>({batchId:p,changes:Fv(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next((r=>{let o=kl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const f=i.collectionGroup;let d=kl();return this.indexManager.getCollectionParents(e,f).next((p=>X.forEach(p,(v=>{const _=(function(S,N){return new Ac(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(f));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((A=>{A.forEach(((S,N)=>{d=d.insert(S,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let f;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,f,o)))).next((d=>{f.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ke.newInvalidDocument(A)))}));let p=kl();return d.forEach(((v,_)=>{const A=f.get(v);A!==void 0&&Kl(A.mutation,_,vn.empty(),ne.now()),bc(i,_)&&(p=p.insert(v,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:yi(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:GS(o.bundledQuery),readTime:yi(o.readTime)}})(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(){this.overlays=new re(ft.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const r=_a();return X.forEach(i,(o=>this.getOverlay(e,o).next((f=>{f!==null&&r.set(o,f)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,f)=>{this.St(e,i,f)})),X.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((f=>this.overlays=this.overlays.remove(f))),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(e,i,r){const o=_a(),f=i.length+1,d=new ft(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===f&&v.largestBatchId>r&&o.set(v.getKey(),v)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let f=new re(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=f.get(_.largestBatchId);A===null&&(A=_a(),f=f.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=_a(),v=f.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=o)););return X.resolve(p)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new ES(i,r));let f=this.qr.get(i);f===void 0&&(f=Vt(),this.qr.set(i,f)),this.qr.set(i,f.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(){this.Qr=new Ie(xe.$r),this.Ur=new Ie(xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new xe(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new xe(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new ft(new ee([])),r=new xe(i,e),o=new xe(i,e+1),f=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),f.push(d.key)})),f}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ft(new ee([])),r=new xe(i,e),o=new xe(i,e+1);let f=Vt();return this.Ur.forEachInRange([r,o],(d=>{f=f.add(d.key)})),f}containsKey(e){const i=new xe(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class xe{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ft.comparator(e.key,i.key)||Ot(e.Yr,i.Yr)}static Kr(e,i){return Ot(e.Yr,i.Yr)||ft.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ie(xe.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const f=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new vS(f,i,r,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new xe(p.key,f)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),f=o<0?0:o;return X.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Cd:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new xe(i,0),o=new xe(i,Number.POSITIVE_INFINITY),f=[];return this.Zr.forEachInRange([r,o],(d=>{const p=this.Xr(d.Yr);f.push(p)})),X.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ie(Ot);return i.forEach((o=>{const f=new xe(o,0),d=new xe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([f,d],(p=>{r=r.add(p.Yr)}))})),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let f=r;ft.isDocumentKey(f)||(f=f.child(""));const d=new xe(new ft(f),0);let p=new Ie(Ot);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(p=p.add(v.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){kt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(i.mutations,(o=>{const f=new xe(o.key,i.batchId);return r=r.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new xe(i,0),o=this.Zr.firstAfterOrEqual(r);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){this.ri=e,this.docs=(function(){return new re(ft.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),f=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return X.resolve(r?r.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let r=Hi();return i.forEach((o=>{const f=this.docs.get(o);r=r.insert(o,f?f.document.mutableCopy():Ke.newInvalidDocument(o))})),X.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let f=Hi();const d=i.path,p=new ft(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||MA(VA(A),r)<=0||(o.has(A.key)||bc(i,A))&&(f=f.insert(A.key,A.mutableCopy()))}return X.resolve(f)}getAllFromCollectionGroup(e,i,r,o){dt(9500)}ii(e,i){return X.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new rb(this)}getSize(e){return X.resolve(this.size)}}class rb extends $S{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e){this.persistence=e,this.si=new Sa((i=>Nd(i)),Id),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new Ld,this.targetCount=0,this.ai=Dr.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Dr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,r){let o=0;const f=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),f.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),X.waitFor(f).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return X.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),X.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,f=[];return o&&i.forEach((d=>{f.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(f)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return X.resolve(r)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,i){this.ui={},this.overlays={},this.ci=new vc(0),this.li=!1,this.li=!0,this.hi=new ib,this.referenceDelegate=e(this),this.Pi=new lb(this),this.indexManager=new FS,this.remoteDocumentCache=(function(o){return new ab(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new HS(i),this.Ii=new eb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new nb,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new sb(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){st("MemoryPersistence","Starting transaction:",e);const o=new ob(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((f=>this.referenceDelegate.di(o).next((()=>f)))).toPromise().then((f=>(o.raiseOnCommittedEvent(),f)))}Ai(e,i){return X.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class ob extends UA{constructor(e){super(),this.currentSequenceNumber=e}}class zd{constructor(e){this.persistence=e,this.Ri=new Ld,this.Vi=null}static mi(e){return new zd(e)}get fi(){if(this.Vi)return this.Vi;throw dt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),X.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((f=>this.fi.add(f.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(r=>{const o=ft.fromPath(r);return this.gi(e,o).next((f=>{f||i.removeEntry(o,yt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class gc{constructor(e,i){this.persistence=e,this.pi=new Sa((r=>jA(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=JS(this,i)}static mi(e,i){return new gc(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((r,o)=>this.br(e,r,o).next((f=>f?X.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),f=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(r++,f.removeEntry(d,yt.min()))})))).next((()=>f.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ju(e.data.value)),i}br(e,i,r){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Vt(),o=Vt();for(const f of i.docChanges)switch(f.type){case 0:r=r.add(f.doc.key);break;case 1:o=o.add(f.doc.key)}return new jd(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return n1()?8:LA(t1())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const f={result:null};return this.ys(e,i).next((d=>{f.result=d})).next((()=>{if(!f.result)return this.ws(e,i,o,r).next((d=>{f.result=d}))})).next((()=>{if(f.result)return;const d=new ub;return this.Ss(e,i,d).next((p=>{if(f.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>f.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(pr()<=Lt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",yr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(pr()<=Lt.DEBUG&&st("QueryEngine","Query:",yr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(pr()<=Lt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",yr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(i))):X.resolve())}ys(e,i){if(l_(i))return X.resolve(null);let r=pi(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=ld(i,null,"F"),r=pi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((f=>{const d=Vt(...f);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((v=>{const _=this.Ds(i,p);return this.Cs(i,_,d,v.readTime)?this.ys(e,ld(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,r,o){return l_(i)||o.isEqual(yt.min())?X.resolve(null):this.ps.getDocuments(e,r).next((f=>{const d=this.Ds(i,f);return this.Cs(i,d,r,o)?X.resolve(null):(pr()<=Lt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yr(i)),this.vs(e,d,i,OA(o,$l)).next((p=>p)))}))}Ds(e,i){let r=new Ie(Hv(e));return i.forEach(((o,f)=>{bc(e,f)&&(r=r.add(f))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const f=e.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(o)>0)}Ss(e,i,r){return pr()<=Lt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",yr(i)),this.ps.getDocumentsMatchingQuery(e,i,Vs.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((f=>(i.forEach((d=>{f=f.insert(d.key,d)})),f)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="LocalStore",fb=3e8;class hb{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new re(Ot),this.xs=new Sa((f=>Nd(f)),Id),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tb(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function db(a,e,i,r){return new hb(a,e,i,r)}async function h0(a,e){const i=Et(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((f=>(o=f,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((f=>{const d=[],p=[];let v=Vt();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of f){p.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(r,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function mb(a,e){const i=Et(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),f=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,A){const S=_.batch,N=S.keys();let q=X.resolve();return N.forEach((J=>{q=q.next((()=>A.getEntry(v,J))).next((tt=>{const $=_.docVersions.get(J);kt($!==null,48541),tt.version.compareTo($)<0&&(S.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),A.addEntry(tt)))}))})),q.next((()=>p.mutationQueue.removeMutationBatch(v,S)))})(i,r,e,f).next((()=>f.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let v=Vt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function d0(a){const e=Et(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function gb(a,e){const i=Et(a),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(f=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((A,S)=>{const N=o.get(S);if(!N)return;p.push(i.Pi.removeMatchingKeys(f,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(f,A.addedDocuments,S))));let q=N.withSequenceNumber(f.currentSequenceNumber);e.targetMismatches.get(S)!==null?q=q.withResumeToken(Ge.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,r)),o=o.insert(S,q),(function(tt,$,gt){return tt.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=fb?!0:gt.addedDocuments.size+gt.modifiedDocuments.size+gt.removedDocuments.size>0})(N,q,A)&&p.push(i.Pi.updateTargetData(f,q))}));let v=Hi(),_=Vt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(f,A))})),p.push(pb(f,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!r.isEqual(yt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(f).next((S=>i.Pi.setTargetsMetadata(f,f.currentSequenceNumber,r)));p.push(A)}return X.waitFor(p).next((()=>d.apply(f))).next((()=>i.localDocuments.getLocalViewOfDocuments(f,v,_))).next((()=>v))})).then((f=>(i.Ms=o,f)))}function pb(a,e,i){let r=Vt(),o=Vt();return i.forEach((f=>r=r.add(f))),e.getEntries(a,r).next((f=>{let d=Hi();return i.forEach(((p,v)=>{const _=f.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(yt.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):st(Bd,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function yb(a,e){const i=Et(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Cd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function _b(a,e){const i=Et(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((f=>f?(o=f,X.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new bs(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function hd(a,e,i){const r=Et(a),o=r.Ms.get(e),f=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",f,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Mr(d))throw d;st(Bd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function E_(a,e,i){const r=Et(a);let o=yt.min(),f=Vt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const S=Et(v),N=S.xs.get(A);return N!==void 0?X.resolve(S.Ms.get(N)):S.Pi.getTargetData(_,A)})(r,d,pi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((v=>{f=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:yt.min(),i?f:Vt()))).next((p=>(vb(r,sS(e),p),{documents:p,Qs:f})))))}function vb(a,e,i){let r=a.Os.get(e)||yt.min();i.forEach(((o,f)=>{f.readTime.compareTo(r)>0&&(r=f.readTime)})),a.Os.set(e,r)}class T_{constructor(){this.activeTargetIds=cS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Eb{constructor(){this.Mo=new T_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new T_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="ConnectivityMonitor";class S_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(A_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){st(A_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu=null;function dd(){return Qu===null?Qu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qu++,"0x"+Qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh="RestConnection",Ab={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Sb{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===oc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,f){const d=dd(),p=this.zo(e,i.toUriEncodedString());st(Qh,`Sending RPC '${e}' ${d}:`,p,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,f);const{host:_}=new URL(p),A=Td(_);return this.Jo(e,p,v,r,A).then((S=>(st(Qh,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw br(Qh,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}Ho(e,i,r,o,f,d){return this.Go(e,i,r,o,f)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Or})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,f)=>e[f]=o)),r&&r.headers.forEach(((o,f)=>e[f]=o))}zo(e,i){const r=Ab[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class Rb extends Sb{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,f){const d=dd();return new Promise(((p,v)=>{const _=new pv;_.setWithCredentials(!0),_.listenOnce(yv.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Zu.NO_ERROR:const S=_.getResponseJson();st(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case Zu.TIMEOUT:st(Ye,`RPC '${e}' ${d} timed out`),v(new ot(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Zu.HTTP_ERROR:const N=_.getStatus();if(st(Ye,`RPC '${e}' ${d} failed with status:`,N,"response text:",_.getResponseText()),N>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const J=q==null?void 0:q.error;if(J&&J.status&&J.message){const tt=(function(gt){const pt=gt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(pt)>=0?pt:Z.UNKNOWN})(J.status);v(new ot(tt,J.message))}else v(new ot(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ot(Z.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st(Ye,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);st(Ye,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,r,15)}))}T_(e,i,r){const o=dd(),f=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Ev(),p=vv(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const A=f.join("");st(Ye,`Creating RPC '${e}' stream ${o}: ${A}`,v);const S=d.createWebChannel(A,v);this.I_(S);let N=!1,q=!1;const J=new bb({Yo:$=>{q?st(Ye,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(N||(st(Ye,`Opening RPC '${e}' stream ${o} transport.`),S.open(),N=!0),st(Ye,`RPC '${e}' stream ${o} sending:`,$),S.send($))},Zo:()=>S.close()}),tt=($,gt,pt)=>{$.listen(gt,(it=>{try{pt(it)}catch(Tt){setTimeout((()=>{throw Tt}),0)}}))};return tt(S,Pl.EventType.OPEN,(()=>{q||(st(Ye,`RPC '${e}' stream ${o} transport opened.`),J.o_())})),tt(S,Pl.EventType.CLOSE,(()=>{q||(q=!0,st(Ye,`RPC '${e}' stream ${o} transport closed`),J.a_(),this.E_(S))})),tt(S,Pl.EventType.ERROR,($=>{q||(q=!0,br(Ye,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),J.a_(new ot(Z.UNAVAILABLE,"The operation could not be completed")))})),tt(S,Pl.EventType.MESSAGE,($=>{var gt;if(!q){const pt=$.data[0];kt(!!pt,16349);const it=pt,Tt=(it==null?void 0:it.error)||((gt=it[0])==null?void 0:gt.error);if(Tt){st(Ye,`RPC '${e}' stream ${o} received error:`,Tt);const Ct=Tt.status;let _t=(function(D){const M=Se[D];if(M!==void 0)return t0(M)})(Ct),C=Tt.message;_t===void 0&&(_t=Z.INTERNAL,C="Unknown error status: "+Ct+" with message "+Tt.message),q=!0,J.a_(new ot(_t,C)),S.close()}else st(Ye,`RPC '${e}' stream ${o} received:`,pt),J.u_(pt)}})),tt(p,_v.STAT_EVENT,($=>{$.stat===ed.PROXY?st(Ye,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===ed.NOPROXY&&st(Ye,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Kh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(a){return new NS(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,i,r=1e3,o=1.5,f=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=f,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="PersistentStream";class g0{constructor(e,i,r,o,f,d,p,v){this.Mi=e,this.S_=r,this.b_=o,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new m0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(ki(i.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new ot(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return st(b_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(st(b_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Cb extends g0{constructor(e,i,r,o,f,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=f}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=VS(this.serializer,e),r=(function(f){if(!("targetChange"in f))return yt.min();const d=f.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?yi(d.readTime):yt.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=fd(this.serializer),i.addTarget=(function(f,d){let p;const v=d.target;if(p=rd(v)?{documents:US(f,v)}:{query:LS(f,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=i0(f,d.resumeToken);const _=od(f,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=mc(f,d.snapshotVersion.toTimestamp());const _=od(f,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const r=jS(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=fd(this.serializer),i.removeTarget=e,this.q_(i)}}class wb extends g0{constructor(e,i,r,o,f,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=f}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=xS(e.writeResults,e.commitTime),r=yi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=fd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>MS(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{}class Nb extends Db{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,d])=>this.connection.Go(e,ud(i,r),o,f,d))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ot(Z.UNKNOWN,f.toString())}))}Ho(e,i,r,o,f){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,ud(i,r),o,d,p,f))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Ib{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ki(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="RemoteStore";class Ob{constructor(e,i,r,o,f){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=f,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{ba(this)&&(st(Ta,"Restarting streams for network reachability change."),await(async function(v){const _=Et(v);_.Ea.add(4),await uo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Nc(_)})(this))}))})),this.Ra=new Ib(r,o)}}async function Nc(a){if(ba(a))for(const e of a.da)await e(!0)}async function uo(a){for(const e of a.da)await e(!1)}function p0(a,e){const i=Et(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Hd(i)?kd(i):xr(i).O_()&&Pd(i,e))}function qd(a,e){const i=Et(a),r=xr(i);i.Ia.delete(e),r.O_()&&y0(i,e),i.Ia.size===0&&(r.O_()?r.L_():ba(i)&&i.Ra.set("Unknown"))}function Pd(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}xr(a).Y_(e)}function y0(a,e){a.Va.Ue(e),xr(a).Z_(e)}function kd(a){a.Va=new RS({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),xr(a).start(),a.Ra.ua()}function Hd(a){return ba(a)&&!xr(a).x_()&&a.Ia.size>0}function ba(a){return Et(a).Ea.size===0}function _0(a){a.Va=void 0}async function Vb(a){a.Ra.set("Online")}async function Mb(a){a.Ia.forEach(((e,i)=>{Pd(a,e)}))}async function xb(a,e){_0(a),Hd(a)?(a.Ra.ha(e),kd(a)):a.Ra.set("Unknown")}async function Ub(a,e,i){if(a.Ra.set("Online"),e instanceof n0&&e.state===2&&e.cause)try{await(async function(o,f){const d=f.cause;for(const p of f.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(a,e)}catch(r){st(Ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pc(a,r)}else if(e instanceof tc?a.Va.Ze(e):e instanceof e0?a.Va.st(e):a.Va.tt(e),!i.isEqual(yt.min()))try{const r=await d0(a.localStore);i.compareTo(r)>=0&&await(function(f,d){const p=f.Va.Tt(d);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=f.Ia.get(_);A&&f.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,_)=>{const A=f.Ia.get(v);if(!A)return;f.Ia.set(v,A.withResumeToken(Ge.EMPTY_BYTE_STRING,A.snapshotVersion)),y0(f,v);const S=new bs(A.target,v,_,A.sequenceNumber);Pd(f,S)})),f.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(r){st(Ta,"Failed to raise snapshot:",r),await pc(a,r)}}async function pc(a,e,i){if(!Mr(e))throw e;a.Ea.add(1),await uo(a),a.Ra.set("Offline"),i||(i=()=>d0(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{st(Ta,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Nc(a)}))}function v0(a,e){return e().catch((i=>pc(a,i,e)))}async function Ic(a){const e=Et(a),i=Ls(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cd;for(;Lb(e);)try{const o=await yb(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,zb(e,o)}catch(o){await pc(e,o)}E0(e)&&T0(e)}function Lb(a){return ba(a)&&a.Ta.length<10}function zb(a,e){a.Ta.push(e);const i=Ls(a);i.O_()&&i.X_&&i.ea(e.mutations)}function E0(a){return ba(a)&&!Ls(a).x_()&&a.Ta.length>0}function T0(a){Ls(a).start()}async function jb(a){Ls(a).ra()}async function Bb(a){const e=Ls(a);for(const i of a.Ta)e.ea(i.mutations)}async function qb(a,e,i){const r=a.Ta.shift(),o=Md.from(r,e,i);await v0(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await Ic(a)}async function Pb(a,e){e&&Ls(a).X_&&await(async function(r,o){if((function(d){return AS(d)&&d!==Z.ABORTED})(o.code)){const f=r.Ta.shift();Ls(r).B_(),await v0(r,(()=>r.remoteSyncer.rejectFailedWrite(f.batchId,o))),await Ic(r)}})(a,e),E0(a)&&T0(a)}async function R_(a,e){const i=Et(a);i.asyncQueue.verifyOperationInProgress(),st(Ta,"RemoteStore received new credentials");const r=ba(i);i.Ea.add(3),await uo(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Nc(i)}async function kb(a,e){const i=Et(a);e?(i.Ea.delete(2),await Nc(i)):e||(i.Ea.add(2),await uo(i),i.Ra.set("Unknown"))}function xr(a){return a.ma||(a.ma=(function(i,r,o){const f=Et(i);return f.sa(),new Cb(r,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)})(a.datastore,a.asyncQueue,{Xo:Vb.bind(null,a),t_:Mb.bind(null,a),r_:xb.bind(null,a),H_:Ub.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),Hd(a)?kd(a):a.Ra.set("Unknown")):(await a.ma.stop(),_0(a))}))),a.ma}function Ls(a){return a.fa||(a.fa=(function(i,r,o){const f=Et(i);return f.sa(),new wb(r,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:jb.bind(null,a),r_:Pb.bind(null,a),ta:Bb.bind(null,a),na:qb.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await Ic(a)):(await a.fa.stop(),a.Ta.length>0&&(st(Ta,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,i,r,o,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=f,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,f){const d=Date.now()+r,p=new Gd(e,i,d,o,f);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fd(a,e){if(ki("AsyncQueue",`${e}: ${a}`),Mr(a))return new ot(Z.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{static emptySet(e){return new Tr(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ft.comparator(i.key,r.key):(i,r)=>ft.comparator(i.key,r.key),this.keyedMap=kl(),this.sortedSet=new re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Tr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=r.getNext().key;if(!o.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Tr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(){this.ga=new re(ft.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):dt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Nr{constructor(e,i,r,o,f,d,p,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,f){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Nr(e,i,Tr.emptySet(i),d,r,o,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Gb{constructor(){this.queries=w_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Et(i),f=o.queries;o.queries=w_(),f.forEach(((d,p)=>{for(const v of p.Sa)v.onError(r)}))})(this,new ot(Z.ABORTED,"Firestore shutting down"))}}function w_(){return new Sa((a=>kv(a)),Sc)}async function Fb(a,e){const i=Et(a);let r=3;const o=e.query;let f=i.queries.get(o);f?!f.ba()&&e.Da()&&(r=2):(f=new Hb,r=e.Da()?0:1);try{switch(r){case 0:f.wa=await i.onListen(o,!0);break;case 1:f.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Fd(d,`Initialization of query '${yr(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,f),f.Sa.push(e),e.va(i.onlineState),f.wa&&e.Fa(f.wa)&&Yd(i)}async function Yb(a,e){const i=Et(a),r=e.query;let o=3;const f=i.queries.get(r);if(f){const d=f.Sa.indexOf(e);d>=0&&(f.Sa.splice(d,1),f.Sa.length===0?o=e.Da()?0:1:!f.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function Qb(a,e){const i=Et(a);let r=!1;for(const o of e){const f=o.query,d=i.queries.get(f);if(d){for(const p of d.Sa)p.Fa(o)&&(r=!0);d.wa=o}}r&&Yd(i)}function Kb(a,e,i){const r=Et(a),o=r.queries.get(e);if(o)for(const f of o.Sa)f.onError(i);r.queries.delete(e)}function Yd(a){a.Ca.forEach((e=>{e.next()}))}var md,D_;(D_=md||(md={})).Ma="default",D_.Cache="cache";class Xb{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Nr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Nr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==md.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e){this.key=e}}class S0{constructor(e){this.key=e}}class Zb{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=Hv(e),this.tu=new Tr(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new C_,o=i?i.tu:this.tu;let f=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,S)=>{const N=o.get(A),q=bc(this.query,S)?S:null,J=!!N&&this.mutatedKeys.has(N.key),tt=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let $=!1;N&&q?N.data.isEqual(q.data)?J!==tt&&(r.track({type:3,doc:q}),$=!0):this.su(N,q)||(r.track({type:2,doc:q}),$=!0,(v&&this.eu(q,v)>0||_&&this.eu(q,_)<0)&&(p=!0)):!N&&q?(r.track({type:0,doc:q}),$=!0):N&&!q&&(r.track({type:1,doc:N}),$=!0,(v||_)&&(p=!0)),$&&(q?(d=d.add(q),f=tt?f.add(A):f.delete(A)):(d=d.delete(A),f=f.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),f=f.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:p,mutatedKeys:f}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const f=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,S)=>(function(q,J){const tt=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Rt:$})}};return tt(q)-tt(J)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Nr(this.query,e.tu,f,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new C_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Vt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new S0(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new A0(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Vt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Nr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qd="SyncEngine";class Jb{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class $b{constructor(e){this.key=e,this.hu=!1}}class Wb{constructor(e,i,r,o,f,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Sa((p=>kv(p)),Sc),this.Iu=new Map,this.Eu=new Set,this.du=new re(ft.comparator),this.Au=new Map,this.Ru=new Ld,this.Vu={},this.mu=new Map,this.fu=Dr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function t2(a,e,i=!0){const r=N0(a);let o;const f=r.Tu.get(e);return f?(r.sharedClientState.addLocalQueryTarget(f.targetId),o=f.view.lu()):o=await b0(r,e,i,!0),o}async function e2(a,e){const i=N0(a);await b0(i,e,!0,!1)}async function b0(a,e,i,r){const o=await _b(a.localStore,pi(e)),f=o.targetId,d=a.sharedClientState.addLocalQueryTarget(f,i);let p;return r&&(p=await n2(a,e,f,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&p0(a.remoteStore,o),p}async function n2(a,e,i,r,o){a.pu=(S,N,q)=>(async function(tt,$,gt,pt){let it=$.view.ru(gt);it.Cs&&(it=await E_(tt.localStore,$.query,!1).then((({documents:C})=>$.view.ru(C,it))));const Tt=pt&&pt.targetChanges.get($.targetId),Ct=pt&&pt.targetMismatches.get($.targetId)!=null,_t=$.view.applyChanges(it,tt.isPrimaryClient,Tt,Ct);return I_(tt,$.targetId,_t.au),_t.snapshot})(a,S,N,q);const f=await E_(a.localStore,e,!0),d=new Zb(e,f.Qs),p=d.ru(f.documents),v=oo.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),_=d.applyChanges(p,a.isPrimaryClient,v);I_(a,i,_.au);const A=new Jb(e,i,d);return a.Tu.set(e,A),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),_.snapshot}async function i2(a,e,i){const r=Et(a),o=r.Tu.get(e),f=r.Iu.get(o.targetId);if(f.length>1)return r.Iu.set(o.targetId,f.filter((d=>!Sc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await hd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&qd(r.remoteStore,o.targetId),gd(r,o.targetId)})).catch(Vr)):(gd(r,o.targetId),await hd(r.localStore,o.targetId,!0))}async function s2(a,e){const i=Et(a),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),qd(i.remoteStore,r.targetId))}async function a2(a,e,i){const r=h2(a);try{const o=await(function(d,p){const v=Et(d),_=ne.now(),A=p.reduce(((q,J)=>q.add(J.key)),Vt());let S,N;return v.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let J=Hi(),tt=Vt();return v.Ns.getEntries(q,A).next(($=>{J=$,J.forEach(((gt,pt)=>{pt.isValidDocument()||(tt=tt.add(gt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(q,J))).next(($=>{S=$;const gt=[];for(const pt of p){const it=yS(pt,S.get(pt.key).overlayedDocument);it!=null&&gt.push(new Bs(pt.key,it,xv(it.value.mapValue),Yn.exists(!0)))}return v.mutationQueue.addMutationBatch(q,_,gt,p)})).next(($=>{N=$;const gt=$.applyToLocalDocumentSet(S,tt);return v.documentOverlayCache.saveOverlays(q,$.batchId,gt)}))})).then((()=>({batchId:N.batchId,changes:Fv(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new re(Ot)),_=_.insert(p,v),d.Vu[d.currentUser.toKey()]=_})(r,o.batchId,i),await co(r,o.changes),await Ic(r.remoteStore)}catch(o){const f=Fd(o,"Failed to persist write");i.reject(f)}}async function R0(a,e){const i=Et(a);try{const r=await gb(i.localStore,e);e.targetChanges.forEach(((o,f)=>{const d=i.Au.get(f);d&&(kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?kt(d.hu,14607):o.removedDocuments.size>0&&(kt(d.hu,42227),d.hu=!1))})),await co(i,r,e)}catch(r){await Vr(r)}}function N_(a,e,i){const r=Et(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((f,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const v=Et(d);v.onlineState=p;let _=!1;v.queries.forEach(((A,S)=>{for(const N of S.Sa)N.va(p)&&(_=!0)})),_&&Yd(v)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function r2(a,e,i){const r=Et(a);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),f=o&&o.key;if(f){let d=new re(ft.comparator);d=d.insert(f,Ke.newNoDocument(f,yt.min()));const p=Vt().add(f),v=new wc(yt.min(),new Map,new re(Ot),d,p);await R0(r,v),r.du=r.du.remove(f),r.Au.delete(e),Kd(r)}else await hd(r.localStore,e,!1).then((()=>gd(r,e,i))).catch(Vr)}async function l2(a,e){const i=Et(a),r=e.batch.batchId;try{const o=await mb(i.localStore,e);w0(i,r,null),C0(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await co(i,o)}catch(o){await Vr(o)}}async function o2(a,e,i){const r=Et(a);try{const o=await(function(d,p){const v=Et(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,p).next((S=>(kt(S!==null,37113),A=S.keys(),v.mutationQueue.removeMutationBatch(_,S)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(r.localStore,e);w0(r,e,i),C0(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await co(r,o)}catch(o){await Vr(o)}}function C0(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function w0(a,e,i){const r=Et(a);let o=r.Vu[r.currentUser.toKey()];if(o){const f=o.get(e);f&&(i?f.reject(i):f.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function gd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((r=>{a.Ru.containsKey(r)||D0(a,r)}))}function D0(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(qd(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),Kd(a))}function I_(a,e,i){for(const r of i)r instanceof A0?(a.Ru.addReference(r.key,e),u2(a,r)):r instanceof S0?(st(Qd,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,e),a.Ru.containsKey(r.key)||D0(a,r.key)):dt(19791,{wu:r})}function u2(a,e){const i=e.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(st(Qd,"New document in limbo: "+i),a.Eu.add(r),Kd(a))}function Kd(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new ft(ee.fromString(e)),r=a.fu.next();a.Au.set(r,new $b(i)),a.du=a.du.insert(i,r),p0(a.remoteStore,new bs(pi(Pv(i.path)),r,"TargetPurposeLimboResolution",vc.ce))}}async function co(a,e,i){const r=Et(a),o=[],f=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,v)=>{d.push(r.pu(v,e,i).then((_=>{var A;if((_||i)&&r.isPrimaryClient){const S=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))==null?void 0:A.current;r.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){o.push(_);const S=jd.As(v.targetId,_);f.push(S)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(v,_){const A=Et(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(_,(N=>X.forEach(N.Es,(q=>A.persistence.referenceDelegate.addReference(S,N.targetId,q))).next((()=>X.forEach(N.ds,(q=>A.persistence.referenceDelegate.removeReference(S,N.targetId,q)))))))))}catch(S){if(!Mr(S))throw S;st(Bd,"Failed to update sequence numbers: "+S)}for(const S of _){const N=S.targetId;if(!S.fromCache){const q=A.Ms.get(N),J=q.snapshotVersion,tt=q.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(N,tt)}}})(r.localStore,f))}async function c2(a,e){const i=Et(a);if(!i.currentUser.isEqual(e)){st(Qd,"User change. New user:",e.toKey());const r=await h0(i.localStore,e);i.currentUser=e,(function(f,d){f.mu.forEach((p=>{p.forEach((v=>{v.reject(new ot(Z.CANCELLED,d))}))})),f.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await co(i,r.Ls)}}function f2(a,e){const i=Et(a),r=i.Au.get(e);if(r&&r.hu)return Vt().add(r.key);{let o=Vt();const f=i.Iu.get(e);if(!f)return o;for(const d of f){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function N0(a){const e=Et(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=R0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=f2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r2.bind(null,e),e.Pu.H_=Qb.bind(null,e.eventManager),e.Pu.yu=Kb.bind(null,e.eventManager),e}function h2(a){const e=Et(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=l2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o2.bind(null,e),e}class yc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return db(this.persistence,new cb,e.initialUser,this.serializer)}Cu(e){return new f0(zd.mi,this.serializer)}Du(e){return new Eb}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yc.provider={build:()=>new yc};class d2 extends yc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){kt(this.persistence.referenceDelegate instanceof gc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new XS(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new f0((r=>gc.mi(r,i)),this.serializer)}}class pd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>N_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=c2.bind(null,this.syncEngine),await kb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Gb})()}createDatastore(e){const i=Dc(e.databaseInfo.databaseId),r=(function(f){return new Rb(f)})(e.databaseInfo);return(function(f,d,p,v){return new Nb(f,d,p,v)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,f,d,p){return new Ob(r,o,f,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>N_(this.syncEngine,i,0)),(function(){return S_.v()?new S_:new Tb})())}createSyncEngine(e,i){return(function(o,f,d,p,v,_,A){const S=new Wb(o,f,d,p,v,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const f=Et(o);st(Ta,"RemoteStore shutting down."),f.Ea.add(5),await uo(f),f.Aa.shutdown(),f.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}pd.provider={build:()=>new pd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="FirestoreClient";class g2{constructor(e,i,r,o,f){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=bd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(r,(async d=>{st(zs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(st(zs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Fd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Xh(a,e){a.asyncQueue.verifyOperationInProgress(),st(zs,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await h0(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function O_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await p2(a);st(zs,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((r=>R_(e.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>R_(e.remoteStore,o))),a._onlineComponents=e}async function p2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){st(zs,"Using user provided OfflineComponentProvider");try{await Xh(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;br("Error using user provided cache. Falling back to memory cache: "+i),await Xh(a,new yc)}}else st(zs,"Using default OfflineComponentProvider"),await Xh(a,new d2(void 0));return a._offlineComponents}async function I0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(st(zs,"Using user provided OnlineComponentProvider"),await O_(a,a._uninitializedComponentsProvider._online)):(st(zs,"Using default OnlineComponentProvider"),await O_(a,new pd))),a._onlineComponents}function y2(a){return I0(a).then((e=>e.syncEngine))}async function _2(a){const e=await I0(a),i=e.eventManager;return i.onListen=t2.bind(null,e.syncEngine),i.onUnlisten=i2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=e2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=s2.bind(null,e.syncEngine),i}function v2(a,e,i={}){const r=new Ds;return a.asyncQueue.enqueueAndForget((async()=>(function(f,d,p,v,_){const A=new m2({next:N=>{A.Nu(),d.enqueueAndForget((()=>Yb(f,S))),N.fromCache&&v.source==="server"?_.reject(new ot(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(N)},error:N=>_.reject(N)}),S=new Xb(p,A,{includeMetadataChanges:!0,qa:!0});return Fb(f,S)})(await _2(a),a.asyncQueue,e,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="firestore.googleapis.com",M_=!0;class x_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ot(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=V0,this.ssl=M_}else this.host=e.host,this.ssl=e.ssl??M_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=c0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<QS)throw new ot(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O0(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oc{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new EA;switch(r.type){case"firstParty":return new bA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ot(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=V_.get(i);r&&(st("ComponentProvider","Removing Datastore"),V_.delete(i),r.terminate())})(this),Promise.resolve()}}function E2(a,e,i,r={}){var _;a=Ea(a,Oc);const o=Td(e),f=a._getSettings(),d={...f,emulatorOptions:a._getEmulatorOptions()},p=`${e}:${i}`;o&&(XT(`https://${p}`),WT("Firestore",!0)),f.host!==V0&&f.host!==p&&br("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...f,host:p,ssl:o,emulatorOptions:r};if(!sc(v,d)&&(a._setSettings(v),r.mockUserToken)){let A,S;if(typeof r.mockUserToken=="string")A=r.mockUserToken,S=Qe.MOCK_USER;else{A=ZT(r.mockUserToken,(_=a._app)==null?void 0:_.options.projectId);const N=r.mockUserToken.sub||r.mockUserToken.user_id;if(!N)throw new ot(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Qe(N)}a._authCredentials=new TA(new Av(A,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vc(this.firestore,e,this._query)}}class Ue{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ue(this.firestore,e,this._key)}toJSON(){return{type:Ue._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(ro(i,Ue._jsonSchema))return new Ue(e,r||null,new ft(ee.fromString(i.referencePath)))}}Ue._jsonSchemaVersion="firestore/documentReference/1.0",Ue._jsonSchema={type:be("string",Ue._jsonSchemaVersion),referencePath:be("string")};class Ns extends Vc{constructor(e,i,r){super(e,i,Pv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ue(this.firestore,null,new ft(e))}withConverter(e){return new Ns(this.firestore,e,this._path)}}function U_(a,e,...i){if(a=Os(a),Sv("collection","path",e),a instanceof Oc){const r=ee.fromString(e,...i);return Ky(r),new Ns(a,null,r)}{if(!(a instanceof Ue||a instanceof Ns))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ee.fromString(e,...i));return Ky(r),new Ns(a.firestore,null,r)}}function yd(a,e,...i){if(a=Os(a),arguments.length===1&&(e=bd.newId()),Sv("doc","path",e),a instanceof Oc){const r=ee.fromString(e,...i);return Qy(r),new Ue(a,null,new ft(r))}{if(!(a instanceof Ue||a instanceof Ns))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ee.fromString(e,...i));return Qy(r),new Ue(a.firestore,a instanceof Ns?a.converter:null,new ft(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="AsyncQueue";class z_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new m0(this,"async_queue_retry"),this._c=()=>{const r=Kh();r&&st(L_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Kh();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Kh();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ds;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Mr(e))throw e;st(L_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ki("INTERNAL UNHANDLED ERROR: ",j_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Gd.createAndSchedule(this,e,i,r,(f=>this.hc(f)));return this.tc.push(o),o}uc(){this.nc&&dt(47125,{Pc:j_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function j_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class fo extends Oc{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new z_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z_(e),this._firestoreClient=void 0,await e}}}function T2(a,e){const i=typeof a=="object"?a:uA(),r=typeof a=="string"?a:oc,o=sA(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const f=QT("firestore");f&&E2(o,...f)}return o}function M0(a){if(a._terminated)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||A2(a),a._firestoreClient}function A2(a){var r,o,f;const e=a._freezeSettings(),i=(function(p,v,_,A){return new PA(p,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,O0(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)})(a._databaseId,((r=a._app)==null?void 0:r.options.appId)||"",a._persistenceKey,e);a._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((f=e.localCache)!=null&&f._onlineComponentProvider)&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new g2(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(p){const v=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(v),_online:v}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Ge.fromBase64String(e))}catch(i){throw new ot(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Mn(Ge.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ro(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:be("string",Mn._jsonSchemaVersion),bytes:be("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ot(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ot(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ot(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_i._jsonSchemaVersion}}static fromJSON(e){if(ro(e,_i._jsonSchema))return new _i(e.latitude,e.longitude)}}_i._jsonSchemaVersion="firestore/geoPoint/1.0",_i._jsonSchema={type:be("string",_i._jsonSchemaVersion),latitude:be("number"),longitude:be("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let f=0;f<r.length;++f)if(r[f]!==o[f])return!1;return!0})(this._values,e._values)}toJSON(){return{type:vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ro(e,vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new vi(e.vectorValues);throw new ot(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:be("string",vi._jsonSchemaVersion),vectorValues:be("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=/^__.*__$/;class b2{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Bs(e,this.data,this.fieldMask,i,this.fieldTransforms):new lo(e,this.data,i,this.fieldTransforms)}}class x0{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Bs(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function U0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{Ac:a})}}class Zd{constructor(e,i,r,o,f,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,f===void 0&&this.Rc(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Zd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _c(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(U0(this.Ac)&&S2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class R2{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Dc(e)}Cc(e,i,r,o=!1){return new Zd({Ac:e,methodName:i,Dc:r,path:He.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function L0(a){const e=a._freezeSettings(),i=Dc(a._databaseId);return new R2(a._databaseId,!!e.ignoreUndefinedProperties,i)}function C2(a,e,i,r,o,f={}){const d=a.Cc(f.merge||f.mergeFields?2:0,e,i,o);Jd("Data must be an object, but it was:",d,r);const p=z0(r,d);let v,_;if(f.merge)v=new vn(d.fieldMask),_=d.fieldTransforms;else if(f.mergeFields){const A=[];for(const S of f.mergeFields){const N=_d(e,S,i);if(!d.contains(N))throw new ot(Z.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);B0(A,N)||A.push(N)}v=new vn(A),_=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,_=d.fieldTransforms;return new b2(new un(p),v,_)}class xc extends Xd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xc}}function w2(a,e,i,r){const o=a.Cc(1,e,i);Jd("Data must be an object, but it was:",o,r);const f=[],d=un.empty();js(r,((v,_)=>{const A=$d(e,v,i);_=Os(_);const S=o.yc(A);if(_ instanceof xc)f.push(A);else{const N=Uc(_,S);N!=null&&(f.push(A),d.set(A,N))}}));const p=new vn(f);return new x0(d,p,o.fieldTransforms)}function D2(a,e,i,r,o,f){const d=a.Cc(1,e,i),p=[_d(e,r,i)],v=[o];if(f.length%2!=0)throw new ot(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<f.length;N+=2)p.push(_d(e,f[N])),v.push(f[N+1]);const _=[],A=un.empty();for(let N=p.length-1;N>=0;--N)if(!B0(_,p[N])){const q=p[N];let J=v[N];J=Os(J);const tt=d.yc(q);if(J instanceof xc)_.push(q);else{const $=Uc(J,tt);$!=null&&(_.push(q),A.set(q,$))}}const S=new vn(_);return new x0(A,S,d.fieldTransforms)}function Uc(a,e){if(j0(a=Os(a)))return Jd("Unsupported field value:",e,a),z0(a,e);if(a instanceof Xd)return(function(r,o){if(!U0(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const f=r._toFieldTransform(o);f&&o.fieldTransforms.push(f)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const f=[];let d=0;for(const p of r){let v=Uc(p,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),f.push(v),d++}return{arrayValue:{values:f}}})(a,e)}return(function(r,o){if((r=Os(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fS(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const f=ne.fromDate(r);return{timestampValue:mc(o.serializer,f)}}if(r instanceof ne){const f=new ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mc(o.serializer,f)}}if(r instanceof _i)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mn)return{bytesValue:i0(o.serializer,r._byteString)};if(r instanceof Ue){const f=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(f))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Ud(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof vi)return(function(d,p){return{mapValue:{fields:{[Vv]:{stringValue:Mv},[uc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Od(p.serializer,_)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Rd(r)}`)})(a,e)}function z0(a,e){const i={};return Cv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):js(a,((r,o)=>{const f=Uc(o,e.mc(r));f!=null&&(i[r]=f)})),{mapValue:{fields:i}}}function j0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ne||a instanceof _i||a instanceof Mn||a instanceof Ue||a instanceof Xd||a instanceof vi)}function Jd(a,e,i){if(!j0(i)||!bv(i)){const r=Rd(i);throw r==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+r)}}function _d(a,e,i){if((e=Os(e))instanceof Mc)return e._internalPath;if(typeof e=="string")return $d(a,e);throw _c("Field path arguments must be of type string or ",a,!1,void 0,i)}const N2=new RegExp("[~\\*/\\[\\]]");function $d(a,e,i){if(e.search(N2)>=0)throw _c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Mc(...e.split("."))._internalPath}catch{throw _c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function _c(a,e,i,r,o){const f=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(f||d)&&(v+=" (found",f&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new ot(Z.INVALID_ARGUMENT,p+a+v)}function B0(a,e){return a.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,i,r,o,f){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new I2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(P0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class I2 extends q0{data(){return super.data()}}function P0(a,e){return typeof e=="string"?$d(a,e):e instanceof Mc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ot(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class V2{convertValue(e,i="none"){switch(Us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw dt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return js(e,((o,f)=>{r[o]=this.convertValue(f,i)})),r}convertVectorValue(e){var r,o,f;const i=(f=(o=(r=e.fields)==null?void 0:r[uc].arrayValue)==null?void 0:o.values)==null?void 0:f.map((d=>de(d.doubleValue)));return new vi(i)}convertGeoPoint(e){return new _i(de(e.latitude),de(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Tc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const i=Ms(e);return new ne(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ee.fromString(e);kt(u0(r),9688,{name:e});const o=new to(r.get(1),r.get(3)),f=new ft(r.popFirst(5));return o.isEqual(i)||ki(`Document ${f} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(a,e,i){let r;return r=a?a.toFirestore(e):e,r}class Ku{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ar extends q0{constructor(e,i,r,o,f,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(P0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ar._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ar._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ar._jsonSchema={type:be("string",Ar._jsonSchemaVersion),bundleSource:be("string","DocumentSnapshot"),bundleName:be("string"),bundle:be("string")};class ec extends Ar{data(e={}){return super.data(e)}}class Sr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ku(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new ec(this._firestore,this._userDataWriter,r.key,r,new Ku(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,f){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const v=new ec(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ku(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>f||p.type!==3)).map((p=>{const v=new ec(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ku(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:x2(p.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Sr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((f=>{f._document!==null&&(i.push(f._document),r.push(this._userDataWriter.convertObjectMap(f._document.data.value.mapValue.fields,"previous")),o.push(f.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function x2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:a})}}Sr._jsonSchemaVersion="firestore/querySnapshot/1.0",Sr._jsonSchema={type:be("string",Sr._jsonSchemaVersion),bundleSource:be("string","QuerySnapshot"),bundleName:be("string"),bundle:be("string")};class U2 extends V2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ue(this.firestore,null,i)}}function L2(a){a=Ea(a,Vc);const e=Ea(a.firestore,fo),i=M0(e),r=new U2(e);return O2(a._query),v2(i,a._query).then((o=>new Sr(e,r,a,o)))}function z2(a,e,i,...r){a=Ea(a,Ue);const o=Ea(a.firestore,fo),f=L0(o);let d;return d=typeof(e=Os(e))=="string"||e instanceof Mc?D2(f,"updateDoc",a._key,e,i,r):w2(f,"updateDoc",a._key,e),Wd(o,[d.toMutation(a._key,Yn.exists(!0))])}function j2(a){return Wd(Ea(a.firestore,fo),[new Vd(a._key,Yn.none())])}function B2(a,e){const i=Ea(a.firestore,fo),r=yd(a),o=M2(a.converter,e);return Wd(i,[C2(L0(a.firestore),"addDoc",r._key,o,a.converter!==null,{}).toMutation(r._key,Yn.exists(!1))]).then((()=>r))}function Wd(a,e){return(function(r,o){const f=new Ds;return r.asyncQueue.enqueueAndForget((async()=>a2(await y2(r),o,f))),f.promise})(M0(a),e)}(function(e,i=!0){(function(o){Or=o})(oA),rc(new Zl("firestore",((r,{instanceIdentifier:o,options:f})=>{const d=r.getProvider("app").getImmediate(),p=new fo(new AA(r.getProvider("auth-internal")),new RA(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ot(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new to(_.options.projectId,A)})(d,o),d);return f={useFetchStreams:i,...f},p._setSettings(f),p}),"PUBLIC").setMultipleInstances(!0)),Er(Hy,Gy,e),Er(Hy,Gy,"esm2020")})();var q2="firebase",P2="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er(q2,P2,"app");const k2={apiKey:"AIzaSyBTKe-UFvyoDRdLTUz0NlYSxpFAscID_eA",authDomain:"wine-journal-app-60460.firebaseapp.com",projectId:"wine-journal-app-60460",storageBucket:"wine-journal-app-60460.firebasestorage.app",messagingSenderId:"798398457167",appId:"1:798398457167:web:f68b817df6c3ed33ca513a"},H2=hv(k2),Xu=T2(H2);var B_;(function(a){a.STRING="string",a.NUMBER="number",a.INTEGER="integer",a.BOOLEAN="boolean",a.ARRAY="array",a.OBJECT="object"})(B_||(B_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q_;(function(a){a.LANGUAGE_UNSPECIFIED="language_unspecified",a.PYTHON="python"})(q_||(q_={}));var P_;(function(a){a.OUTCOME_UNSPECIFIED="outcome_unspecified",a.OUTCOME_OK="outcome_ok",a.OUTCOME_FAILED="outcome_failed",a.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(P_||(P_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=["user","model","function","system"];var H_;(function(a){a.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",a.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",a.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",a.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",a.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",a.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(H_||(H_={}));var G_;(function(a){a.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",a.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",a.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",a.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",a.BLOCK_NONE="BLOCK_NONE"})(G_||(G_={}));var F_;(function(a){a.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",a.NEGLIGIBLE="NEGLIGIBLE",a.LOW="LOW",a.MEDIUM="MEDIUM",a.HIGH="HIGH"})(F_||(F_={}));var Y_;(function(a){a.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",a.SAFETY="SAFETY",a.OTHER="OTHER"})(Y_||(Y_={}));var Xl;(function(a){a.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",a.STOP="STOP",a.MAX_TOKENS="MAX_TOKENS",a.SAFETY="SAFETY",a.RECITATION="RECITATION",a.LANGUAGE="LANGUAGE",a.BLOCKLIST="BLOCKLIST",a.PROHIBITED_CONTENT="PROHIBITED_CONTENT",a.SPII="SPII",a.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",a.OTHER="OTHER"})(Xl||(Xl={}));var Q_;(function(a){a.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",a.RETRIEVAL_QUERY="RETRIEVAL_QUERY",a.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",a.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",a.CLASSIFICATION="CLASSIFICATION",a.CLUSTERING="CLUSTERING"})(Q_||(Q_={}));var K_;(function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.AUTO="AUTO",a.ANY="ANY",a.NONE="NONE"})(K_||(K_={}));var X_;(function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.MODE_DYNAMIC="MODE_DYNAMIC"})(X_||(X_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class gr extends Xe{constructor(e,i){super(e),this.response=i}}class k0 extends Xe{constructor(e,i,r,o){super(e),this.status=i,this.statusText=r,this.errorDetails=o}}class Is extends Xe{}class H0 extends Xe{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="https://generativelanguage.googleapis.com",F2="v1beta",Y2="0.24.1",Q2="genai-js";var Aa;(function(a){a.GENERATE_CONTENT="generateContent",a.STREAM_GENERATE_CONTENT="streamGenerateContent",a.COUNT_TOKENS="countTokens",a.EMBED_CONTENT="embedContent",a.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Aa||(Aa={}));class K2{constructor(e,i,r,o,f){this.model=e,this.task=i,this.apiKey=r,this.stream=o,this.requestOptions=f}toString(){var e,i;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||F2;let f=`${((i=this.requestOptions)===null||i===void 0?void 0:i.baseUrl)||G2}/${r}/${this.model}:${this.task}`;return this.stream&&(f+="?alt=sse"),f}}function X2(a){const e=[];return a!=null&&a.apiClient&&e.push(a.apiClient),e.push(`${Q2}/${Y2}`),e.join(" ")}async function Z2(a){var e;const i=new Headers;i.append("Content-Type","application/json"),i.append("x-goog-api-client",X2(a.requestOptions)),i.append("x-goog-api-key",a.apiKey);let r=(e=a.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(o){throw new Is(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${o.message}`)}for(const[o,f]of r.entries()){if(o==="x-goog-api-key")throw new Is(`Cannot set reserved header name ${o}`);if(o==="x-goog-api-client")throw new Is(`Header name ${o} can only be set using the apiClient field`);i.append(o,f)}}return i}async function J2(a,e,i,r,o,f){const d=new K2(a,e,i,r,f);return{url:d.toString(),fetchOptions:Object.assign(Object.assign({},eR(f)),{method:"POST",headers:await Z2(d),body:o})}}async function ho(a,e,i,r,o,f={},d=fetch){const{url:p,fetchOptions:v}=await J2(a,e,i,r,o,f);return $2(p,v,d)}async function $2(a,e,i=fetch){let r;try{r=await i(a,e)}catch(o){W2(o,a)}return r.ok||await tR(r,a),r}function W2(a,e){let i=a;throw i.name==="AbortError"?(i=new H0(`Request aborted when fetching ${e.toString()}: ${a.message}`),i.stack=a.stack):a instanceof k0||a instanceof Is||(i=new Xe(`Error fetching from ${e.toString()}: ${a.message}`),i.stack=a.stack),i}async function tR(a,e){let i="",r;try{const o=await a.json();i=o.error.message,o.error.details&&(i+=` ${JSON.stringify(o.error.details)}`,r=o.error.details)}catch{}throw new k0(`Error fetching from ${e.toString()}: [${a.status} ${a.statusText}] ${i}`,a.status,a.statusText,r)}function eR(a){const e={};if((a==null?void 0:a.signal)!==void 0||(a==null?void 0:a.timeout)>=0){const i=new AbortController;(a==null?void 0:a.timeout)>=0&&setTimeout(()=>i.abort(),a.timeout),a!=null&&a.signal&&a.signal.addEventListener("abort",()=>{i.abort()}),e.signal=i.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(a){return a.text=()=>{if(a.candidates&&a.candidates.length>0){if(a.candidates.length>1&&console.warn(`This response had ${a.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),nc(a.candidates[0]))throw new gr(`${Ss(a)}`,a);return nR(a)}else if(a.promptFeedback)throw new gr(`Text not available. ${Ss(a)}`,a);return""},a.functionCall=()=>{if(a.candidates&&a.candidates.length>0){if(a.candidates.length>1&&console.warn(`This response had ${a.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),nc(a.candidates[0]))throw new gr(`${Ss(a)}`,a);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Z_(a)[0]}else if(a.promptFeedback)throw new gr(`Function call not available. ${Ss(a)}`,a)},a.functionCalls=()=>{if(a.candidates&&a.candidates.length>0){if(a.candidates.length>1&&console.warn(`This response had ${a.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),nc(a.candidates[0]))throw new gr(`${Ss(a)}`,a);return Z_(a)}else if(a.promptFeedback)throw new gr(`Function call not available. ${Ss(a)}`,a)},a}function nR(a){var e,i,r,o;const f=[];if(!((i=(e=a.candidates)===null||e===void 0?void 0:e[0].content)===null||i===void 0)&&i.parts)for(const d of(o=(r=a.candidates)===null||r===void 0?void 0:r[0].content)===null||o===void 0?void 0:o.parts)d.text&&f.push(d.text),d.executableCode&&f.push("\n```"+d.executableCode.language+`
`+d.executableCode.code+"\n```\n"),d.codeExecutionResult&&f.push("\n```\n"+d.codeExecutionResult.output+"\n```\n");return f.length>0?f.join(""):""}function Z_(a){var e,i,r,o;const f=[];if(!((i=(e=a.candidates)===null||e===void 0?void 0:e[0].content)===null||i===void 0)&&i.parts)for(const d of(o=(r=a.candidates)===null||r===void 0?void 0:r[0].content)===null||o===void 0?void 0:o.parts)d.functionCall&&f.push(d.functionCall);if(f.length>0)return f}const iR=[Xl.RECITATION,Xl.SAFETY,Xl.LANGUAGE];function nc(a){return!!a.finishReason&&iR.includes(a.finishReason)}function Ss(a){var e,i,r;let o="";if((!a.candidates||a.candidates.length===0)&&a.promptFeedback)o+="Response was blocked",!((e=a.promptFeedback)===null||e===void 0)&&e.blockReason&&(o+=` due to ${a.promptFeedback.blockReason}`),!((i=a.promptFeedback)===null||i===void 0)&&i.blockReasonMessage&&(o+=`: ${a.promptFeedback.blockReasonMessage}`);else if(!((r=a.candidates)===null||r===void 0)&&r[0]){const f=a.candidates[0];nc(f)&&(o+=`Candidate was blocked due to ${f.finishReason}`,f.finishMessage&&(o+=`: ${f.finishMessage}`))}return o}function so(a){return this instanceof so?(this.v=a,this):new so(a)}function sR(a,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i.apply(a,e||[]),o,f=[];return o={},d("next"),d("throw"),d("return"),o[Symbol.asyncIterator]=function(){return this},o;function d(N){r[N]&&(o[N]=function(q){return new Promise(function(J,tt){f.push([N,q,J,tt])>1||p(N,q)})})}function p(N,q){try{v(r[N](q))}catch(J){S(f[0][3],J)}}function v(N){N.value instanceof so?Promise.resolve(N.value.v).then(_,A):S(f[0][2],N)}function _(N){p("next",N)}function A(N){p("throw",N)}function S(N,q){N(q),f.shift(),f.length&&p(f[0][0],f[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function aR(a){const e=a.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),i=oR(e),[r,o]=i.tee();return{stream:lR(r),response:rR(o)}}async function rR(a){const e=[],i=a.getReader();for(;;){const{done:r,value:o}=await i.read();if(r)return tm(uR(e));e.push(o)}}function lR(a){return sR(this,arguments,function*(){const i=a.getReader();for(;;){const{value:r,done:o}=yield so(i.read());if(o)break;yield yield so(tm(r))}})}function oR(a){const e=a.getReader();return new ReadableStream({start(r){let o="";return f();function f(){return e.read().then(({value:d,done:p})=>{if(p){if(o.trim()){r.error(new Xe("Failed to parse stream"));return}r.close();return}o+=d;let v=o.match(J_),_;for(;v;){try{_=JSON.parse(v[1])}catch{r.error(new Xe(`Error parsing JSON response: "${v[1]}"`));return}r.enqueue(_),o=o.substring(v[0].length),v=o.match(J_)}return f()}).catch(d=>{let p=d;throw p.stack=d.stack,p.name==="AbortError"?p=new H0("Request aborted when reading from the stream"):p=new Xe("Error reading from the stream"),p})}}})}function uR(a){const e=a[a.length-1],i={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of a){if(r.candidates){let o=0;for(const f of r.candidates)if(i.candidates||(i.candidates=[]),i.candidates[o]||(i.candidates[o]={index:o}),i.candidates[o].citationMetadata=f.citationMetadata,i.candidates[o].groundingMetadata=f.groundingMetadata,i.candidates[o].finishReason=f.finishReason,i.candidates[o].finishMessage=f.finishMessage,i.candidates[o].safetyRatings=f.safetyRatings,f.content&&f.content.parts){i.candidates[o].content||(i.candidates[o].content={role:f.content.role||"user",parts:[]});const d={};for(const p of f.content.parts)p.text&&(d.text=p.text),p.functionCall&&(d.functionCall=p.functionCall),p.executableCode&&(d.executableCode=p.executableCode),p.codeExecutionResult&&(d.codeExecutionResult=p.codeExecutionResult),Object.keys(d).length===0&&(d.text=""),i.candidates[o].content.parts.push(d)}o++}r.usageMetadata&&(i.usageMetadata=r.usageMetadata)}return i}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G0(a,e,i,r){const o=await ho(e,Aa.STREAM_GENERATE_CONTENT,a,!0,JSON.stringify(i),r);return aR(o)}async function F0(a,e,i,r){const f=await(await ho(e,Aa.GENERATE_CONTENT,a,!1,JSON.stringify(i),r)).json();return{response:tm(f)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(a){if(a!=null){if(typeof a=="string")return{role:"system",parts:[{text:a}]};if(a.text)return{role:"system",parts:[a]};if(a.parts)return a.role?a:{role:"system",parts:a.parts}}}function ao(a){let e=[];if(typeof a=="string")e=[{text:a}];else for(const i of a)typeof i=="string"?e.push({text:i}):e.push(i);return cR(e)}function cR(a){const e={role:"user",parts:[]},i={role:"function",parts:[]};let r=!1,o=!1;for(const f of a)"functionResponse"in f?(i.parts.push(f),o=!0):(e.parts.push(f),r=!0);if(r&&o)throw new Xe("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!o)throw new Xe("No content is provided for sending chat message.");return r?e:i}function fR(a,e){var i;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(i=e==null?void 0:e.cachedContent)===null||i===void 0?void 0:i.name,contents:[]};const o=a.generateContentRequest!=null;if(a.contents){if(o)throw new Is("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=a.contents}else if(o)r=Object.assign(Object.assign({},r),a.generateContentRequest);else{const f=ao(a);r.contents=[f]}return{generateContentRequest:r}}function $_(a){let e;return a.contents?e=a:e={contents:[ao(a)]},a.systemInstruction&&(e.systemInstruction=Y0(a.systemInstruction)),e}function hR(a){return typeof a=="string"||Array.isArray(a)?{content:ao(a)}:a}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],dR={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function mR(a){let e=!1;for(const i of a){const{role:r,parts:o}=i;if(!e&&r!=="user")throw new Xe(`First content should be with role 'user', got ${r}`);if(!k_.includes(r))throw new Xe(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(k_)}`);if(!Array.isArray(o))throw new Xe("Content should have 'parts' property with an array of Parts");if(o.length===0)throw new Xe("Each Content should have at least one part");const f={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const p of o)for(const v of W_)v in p&&(f[v]+=1);const d=dR[r];for(const p of W_)if(!d.includes(p)&&f[p]>0)throw new Xe(`Content with role '${r}' can't contain '${p}' part`);e=!0}}function tv(a){var e;if(a.candidates===void 0||a.candidates.length===0)return!1;const i=(e=a.candidates[0])===null||e===void 0?void 0:e.content;if(i===void 0||i.parts===void 0||i.parts.length===0)return!1;for(const r of i.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="SILENT_ERROR";class gR{constructor(e,i,r,o={}){this.model=i,this.params=r,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(mR(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,i={}){var r,o,f,d,p,v;await this._sendPromise;const _=ao(e),A={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(f=this.params)===null||f===void 0?void 0:f.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(p=this.params)===null||p===void 0?void 0:p.systemInstruction,cachedContent:(v=this.params)===null||v===void 0?void 0:v.cachedContent,contents:[...this._history,_]},S=Object.assign(Object.assign({},this._requestOptions),i);let N;return this._sendPromise=this._sendPromise.then(()=>F0(this._apiKey,this.model,A,S)).then(q=>{var J;if(tv(q.response)){this._history.push(_);const tt=Object.assign({parts:[],role:"model"},(J=q.response.candidates)===null||J===void 0?void 0:J[0].content);this._history.push(tt)}else{const tt=Ss(q.response);tt&&console.warn(`sendMessage() was unsuccessful. ${tt}. Inspect response object for details.`)}N=q}).catch(q=>{throw this._sendPromise=Promise.resolve(),q}),await this._sendPromise,N}async sendMessageStream(e,i={}){var r,o,f,d,p,v;await this._sendPromise;const _=ao(e),A={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(f=this.params)===null||f===void 0?void 0:f.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(p=this.params)===null||p===void 0?void 0:p.systemInstruction,cachedContent:(v=this.params)===null||v===void 0?void 0:v.cachedContent,contents:[...this._history,_]},S=Object.assign(Object.assign({},this._requestOptions),i),N=G0(this._apiKey,this.model,A,S);return this._sendPromise=this._sendPromise.then(()=>N).catch(q=>{throw new Error(ev)}).then(q=>q.response).then(q=>{if(tv(q)){this._history.push(_);const J=Object.assign({},q.candidates[0].content);J.role||(J.role="model"),this._history.push(J)}else{const J=Ss(q);J&&console.warn(`sendMessageStream() was unsuccessful. ${J}. Inspect response object for details.`)}}).catch(q=>{q.message!==ev&&console.error(q)}),N}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(a,e,i,r){return(await ho(e,Aa.COUNT_TOKENS,a,!1,JSON.stringify(i),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(a,e,i,r){return(await ho(e,Aa.EMBED_CONTENT,a,!1,JSON.stringify(i),r)).json()}async function _R(a,e,i,r){const o=i.requests.map(d=>Object.assign(Object.assign({},d),{model:e}));return(await ho(e,Aa.BATCH_EMBED_CONTENTS,a,!1,JSON.stringify({requests:o}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,i,r={}){this.apiKey=e,this._requestOptions=r,i.model.includes("/")?this.model=i.model:this.model=`models/${i.model}`,this.generationConfig=i.generationConfig||{},this.safetySettings=i.safetySettings||[],this.tools=i.tools,this.toolConfig=i.toolConfig,this.systemInstruction=Y0(i.systemInstruction),this.cachedContent=i.cachedContent}async generateContent(e,i={}){var r;const o=$_(e),f=Object.assign(Object.assign({},this._requestOptions),i);return F0(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},o),f)}async generateContentStream(e,i={}){var r;const o=$_(e),f=Object.assign(Object.assign({},this._requestOptions),i);return G0(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},o),f)}startChat(e){var i;return new gR(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},e),this._requestOptions)}async countTokens(e,i={}){const r=fR(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),i);return pR(this.apiKey,this.model,r,o)}async embedContent(e,i={}){const r=hR(e),o=Object.assign(Object.assign({},this._requestOptions),i);return yR(this.apiKey,this.model,r,o)}async batchEmbedContents(e,i={}){const r=Object.assign(Object.assign({},this._requestOptions),i);return _R(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.apiKey=e}getGenerativeModel(e,i){if(!e.model)throw new Xe("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new nv(this.apiKey,e,i)}getGenerativeModelFromCachedContent(e,i,r){if(!e.name)throw new Is("Cached content must contain a `name` field.");if(!e.model)throw new Is("Cached content must contain a `model` field.");const o=["model","systemInstruction"];for(const d of o)if(i!=null&&i[d]&&e[d]&&(i==null?void 0:i[d])!==e[d]){if(d==="model"){const p=i.model.startsWith("models/")?i.model.replace("models/",""):i.model,v=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(p===v)continue}throw new Is(`Different value for "${d}" specified in modelParams (${i[d]}) and cachedContent (${e[d]})`)}const f=Object.assign(Object.assign({},i),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new nv(this.apiKey,f,r)}}const ER=()=>F.jsx("header",{className:"flex items-center justify-between pb-4 border-b border-gray-200",children:F.jsx("h1",{className:"text-4xl font-bold text-gray-900 tracking-tight",children:"My Journal"})}),TR=a=>F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...a,children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Q0=a=>F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...a,children:F.jsx("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.116 3.986 1.24 5.383c.246 1.065-.914 1.898-1.82 1.325L12 18.344l-4.646 2.893c-.906.573-2.066-.26-1.82-1.325l1.24-5.383-4.116-3.986c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.007z",clipRule:"evenodd"})}),AR=({wine:a,onDelete:e,onEdit:i})=>{const[r,o]=ln.useState(!1),f=a.notes.length>60?`${a.notes.substring(0,60)}...`:a.notes,d=q=>{q.stopPropagation(),o(!0)},p=()=>{e(a.id),o(!1)},v=()=>{o(!1)},_=q=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(q),[A,S]=ln.useState(a.imageUrl||"https://i.postimg.cc/xdvXnqyP/Wine-bottle.jpg"),N=q=>{q.currentTarget.onerror=null,S("https://i.postimg.cc/xdvXnqyP/Wine-bottle.jpg")};return F.jsxs(F.Fragment,{children:[F.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300 ease-in-out cursor-pointer",onClick:()=>i(a),role:"button",tabIndex:0,onKeyDown:q=>(q.key==="Enter"||q.key===" ")&&i(a),"aria-label":`Edit details for ${a.name}`,children:F.jsxs("div",{className:"flex",children:[F.jsx("div",{className:"flex-shrink-0",children:F.jsx("img",{className:"h-32 w-24 object-cover",src:A,alt:`Bottle of ${a.name}`,onError:N})}),F.jsxs("div",{className:"relative p-4 flex-grow",children:[F.jsxs("div",{className:"flex justify-between items-start",children:[F.jsxs("div",{className:"pr-4 flex-grow",children:[F.jsx("div",{className:"uppercase tracking-wide text-xs text-red-800 font-semibold",children:a.varietal}),F.jsx("p",{className:"block text-base leading-tight font-bold text-black",children:a.name}),F.jsxs("p",{className:"text-xs text-gray-500",children:[a.vintage>0?a.vintage:"N/V","  ",a.country]}),a.price&&a.price>0&&F.jsx("p",{className:"text-sm font-semibold text-gray-800 mt-1",children:_(a.price)}),a.publicRating&&a.publicRating>0&&F.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-500",children:[F.jsx(Q0,{className:"w-4 h-4 text-gray-400 mr-1"}),F.jsx("span",{className:"font-semibold",children:a.publicRating.toFixed(1)}),F.jsxs("span",{className:"ml-1",children:["(",new Intl.NumberFormat().format(a.reviewCount||0)," on ",a.ratingSource,")"]})]})]}),F.jsxs("div",{className:"flex-shrink-0 pl-4 flex flex-col items-center justify-center text-center",children:[F.jsx("p",{className:"text-xs text-gray-500 -mb-1 uppercase font-semibold",children:"Rating"}),F.jsxs("div",{children:[F.jsx("span",{className:"text-3xl font-bold text-red-800 tracking-tight",children:a.rating}),F.jsx("span",{className:"text-sm text-gray-500 font-semibold",children:"/10"})]})]})]}),F.jsxs("p",{className:"mt-2 text-gray-600 text-xs italic pr-12",children:['"',f,'"']}),F.jsx("button",{onClick:d,className:"absolute bottom-4 right-4 p-1 rounded-full text-gray-400 hover:bg-red-100 hover:text-red-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors z-10","aria-label":`Delete ${a.name}`,children:F.jsx(TR,{className:"w-5 h-5"})})]})]})}),r&&F.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:v,"aria-modal":"true",role:"dialog",children:F.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm p-6 text-center",onClick:q=>q.stopPropagation(),children:[F.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Confirm Deletion"}),F.jsxs("p",{className:"mt-4 text-gray-600",children:['Are you sure you want to delete "',a.name,'"? This action cannot be undone.']}),F.jsxs("div",{className:"mt-6 flex justify-center space-x-4",children:[F.jsx("button",{onClick:v,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 focus:outline-none",children:"Cancel"}),F.jsx("button",{onClick:p,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-600",children:"Delete"})]})]})})]})},SR=({rating:a,onRatingChange:e})=>F.jsxs("div",{className:"w-full",children:[F.jsxs("div",{className:"flex justify-between items-center mb-1",children:[F.jsx("span",{className:"text-sm text-gray-500",children:"1"}),F.jsx("span",{className:"text-2xl font-bold text-red-800",children:a}),F.jsx("span",{className:"text-sm text-gray-500",children:"10"})]}),F.jsx("input",{type:"range",min:"1",max:"10",value:a,onChange:i=>e(parseInt(i.target.value,10)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-red-800"})]}),bR=a=>F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...a,children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),RR=a=>F.jsxs("svg",{className:"animate-spin h-12 w-12 text-red-800",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",...a,children:[F.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),F.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),CR=({onResearch:a,onClose:e,apiError:i})=>{const[r,o]=ln.useState(""),f=d=>{d.preventDefault(),r.trim()&&a(r.trim())};return F.jsxs(F.Fragment,{children:[F.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Add a New Wine"}),F.jsx("p",{className:"text-gray-600 mb-4",children:"Enter the name of a wine, and we'll research the details for you."}),i&&F.jsx("p",{className:"text-red-600 bg-red-100 p-3 rounded-md mb-4 text-sm",children:i}),F.jsxs("form",{onSubmit:f,children:[F.jsx("input",{type:"text",placeholder:"e.g., Cloudy Bay Sauvignon Blanc",value:r,onChange:d=>o(d.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-800",required:!0,autoFocus:!0}),F.jsxs("div",{className:"flex justify-end pt-6",children:[F.jsx("button",{type:"button",onClick:e,className:"mr-2 px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 focus:outline-none",children:"Cancel"}),F.jsx("button",{type:"submit",className:"px-6 py-2 bg-red-800 text-white rounded-lg hover:bg-red-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-800",children:"Research Wine"})]})]})]})},wR=()=>F.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[F.jsx(RR,{}),F.jsx("h2",{className:"text-xl font-semibold text-gray-800 mt-4",children:"Researching..."}),F.jsx("p",{className:"text-gray-600 mt-2",children:"Finding details for your wine."})]}),iv=({initialData:a,onSave:e,onClose:i,isEditing:r})=>{const[o,f]=ln.useState("rating"in a?a.rating:5),[d,p]=ln.useState(a.notes??""),v=S=>{S.preventDefault(),e(r?{...a,rating:o,notes:d}:{name:a.name||"",vintage:a.vintage||new Date().getFullYear(),varietal:a.varietal||"",country:a.country||"",imageUrl:a.imageUrl||"",description:a.description||"",publicRating:a.publicRating||0,reviewCount:a.reviewCount||0,ratingSource:a.ratingSource||"",price:a.price||0,rating:o,notes:d})},_=r?"Edit Your Wine":"Review Your Wine",A=r?"Update Entry":"Save to Journal";return F.jsxs(F.Fragment,{children:[F.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:_}),F.jsxs("div",{className:"text-center",children:[a.imageUrl&&F.jsx("img",{src:a.imageUrl,alt:`Bottle of ${a.name}`,className:"w-24 h-36 object-cover mx-auto mb-4 rounded-md shadow-lg",referrerPolicy:"no-referrer"}),F.jsx("h3",{className:"text-xl font-bold text-gray-800",children:a.name}),F.jsxs("p",{className:"text-sm text-gray-500",children:[a.vintage>0?a.vintage:"N/V","  ",a.country]}),a.price&&a.price>0&&F.jsxs("p",{className:"text-lg font-semibold text-gray-700 mt-2",children:["$",a.price.toFixed(2)]}),a.publicRating&&a.publicRating>0&&F.jsxs("div",{className:"flex items-center justify-center mt-2 text-sm text-gray-600 bg-gray-100 p-2 rounded-lg",children:[F.jsx(Q0,{className:"w-4 h-4 text-yellow-500 mr-1.5"}),F.jsx("span",{className:"font-bold",children:a.publicRating.toFixed(1)}),F.jsx("span",{className:"mx-1",children:"/"}),F.jsxs("span",{children:[new Intl.NumberFormat().format(a.reviewCount||0)," ratings on ",a.ratingSource]})]}),F.jsxs("p",{className:"mt-4 text-sm text-gray-700 text-left italic",children:['"',a.description,'"']})]}),F.jsx("hr",{className:"my-6"}),F.jsxs("form",{onSubmit:v,className:"space-y-4",children:[F.jsxs("div",{className:"flex flex-col items-center w-full px-4",children:[F.jsx("label",{className:"text-gray-800 font-semibold mb-2",children:"Your Personal Rating"}),F.jsx(SR,{rating:o,onRatingChange:f})]}),F.jsxs("div",{children:[F.jsx("label",{className:"text-gray-800 font-semibold mb-2 block text-center",children:"Your Notes"}),F.jsx("textarea",{name:"notes",value:d,onChange:S=>p(S.target.value),placeholder:"Add your personal tasting notes...",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-800"})]}),F.jsxs("div",{className:"flex justify-end pt-4",children:[F.jsx("button",{type:"button",onClick:i,className:"mr-2 px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 focus:outline-none",children:"Cancel"}),F.jsx("button",{type:"submit",className:"px-6 py-2 bg-red-800 text-white rounded-lg hover:bg-red-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-800",children:A})]})]})]})},DR=({modalState:a,onClose:e,onAddWine:i,onUpdateWine:r,onResearch:o,researchedData:f,editingWine:d,apiError:p})=>a==="closed"?null:F.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:e,"aria-modal":"true",role:"dialog",children:F.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6 relative transform transition-all max-h-[90vh] overflow-y-auto",onClick:v=>v.stopPropagation(),children:[F.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":"Close modal",children:F.jsx(bR,{className:"w-6 h-6"})}),a==="asking"&&F.jsx(CR,{onResearch:o,onClose:e,apiError:p}),a==="loading"&&F.jsx(wR,{}),a==="confirming"&&F.jsx(iv,{initialData:f,onSave:i,onClose:e,isEditing:!1}),a==="editing"&&d&&F.jsx(iv,{initialData:d,onSave:r,onClose:e,isEditing:!0})]})}),NR=a=>F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...a,children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),IR=a=>F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...a,children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),OR=({searchTerm:a,onSearchChange:e,onAddClick:i})=>F.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/80 backdrop-blur-sm border-t border-gray-200 z-30",children:F.jsx("div",{className:"container mx-auto max-w-4xl p-3 sm:p-4",children:F.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[F.jsxs("div",{className:"relative flex-grow",children:[F.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:F.jsx(NR,{className:"h-5 w-5 text-gray-400"})}),F.jsx("input",{type:"text",placeholder:"Search my journal...",value:a,onChange:r=>e(r.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-800 focus:border-transparent transition-shadow"})]}),F.jsx("button",{onClick:i,className:"flex-shrink-0 flex items-center justify-center w-12 h-12 bg-red-800 text-white rounded-lg shadow-md hover:bg-red-900 transition-colors duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-800","aria-label":"Add new wine",children:F.jsx(IR,{className:"w-7 h-7"})})]})})}),VR=()=>{const[a,e]=ln.useState([]);ln.useEffect(()=>{(async()=>{const Ct=(await L2(U_(Xu,"wines"))).docs.map(_t=>{const C=_t.data();return{id:_t.id,name:C.name||"",vintage:C.vintage||0,varietal:C.varietal||"",country:C.country||"",description:C.description||"",imageUrl:C.imageUrl||"",publicRating:C.publicRating||0,reviewCount:C.reviewCount||0,ratingSource:C.ratingSource||"",price:C.price||0,rating:C.rating||0,notes:C.notes||"",dateAdded:C.dateAdded||""}});e(Ct)})()},[]);const[i,r]=ln.useState(""),[o,f]=ln.useState("closed"),[d,p]=ln.useState({}),[v,_]=ln.useState(null),[A,S]=ln.useState(null),N=async it=>{f("loading"),S(null);const Tt="AIzaSyDermnddrvsky3NScIv9oYa-VI4bYMGu9k";try{const _t=new vR(Tt).getGenerativeModel({model:"gemini-2.5-flash"}),C={tools:[{googleSearch:{}}]},b=`Research the wine "${it}". Use Google Search to find its public rating from a reputable source like Vivino. Provide details in a single, minified JSON object. The JSON must have these keys: "name" (string, the full corrected name), "vintage" (number, use current year if not specified, 0 for non-vintage), "varietal" (string), "country" (string), "description" (string, a brief professional tasting note), "publicRating" (number, from 1 to 5, can be a float, 0 if not found), "reviewCount" (number, total number of reviews), "ratingSource" (string, the name of the website providing the rating, e.g., "Vivino"), "price" (number, the latest estimated price in USD, 0 if not found), "imageUrl" (string, a direct, publicly accessible URL to an image of the wine bottle). If a value cannot be found, use an empty string for strings or 0 for numbers.`,M=(await _t.generateContent(b)).response;if(console.log("Gemini API response:",M),!M||!M.text()){S("No response from Gemini API. Please try again later."),f("asking");return}const I=M.text();if(!I){S("No details found for this wine. Try a different name or add manually."),f("asking");return}let U=I.replace(/^```json\s*/,"").replace(/```$/,""),R;try{R=JSON.parse(U)}catch($t){console.error("Failed to parse Gemini response as JSON:",I,$t),S("Could not parse wine details. Try a different name or add manually."),f("asking");return}if(!R.name||!R.description){S("Wine details incomplete or not found. Try a different name or add manually."),f("asking");return}p({name:R.name||it,vintage:R.vintage||new Date().getFullYear(),varietal:R.varietal||"",country:R.country||"",description:R.description||"",imageUrl:R.imageUrl||"https://i.postimg.cc/xdvXnqyP/Wine-bottle.jpg",publicRating:R.publicRating||0,reviewCount:R.reviewCount||0,ratingSource:R.ratingSource||"",price:R.price||0}),f("confirming")}catch(Ct){console.error("API call failed or unexpected error:",Ct),S("Sorry, something went wrong with the wine research. Please try again or add manually."),f("asking")}},q=it=>{(async()=>{try{console.log("Saving wine to Firestore:",it);const Ct={...it,dateAdded:new Date().toISOString()},_t=await B2(U_(Xu,"wines"),Ct);e(C=>[{...Ct,id:_t.id},...C]),$()}catch(Ct){console.error("Error saving wine to Firestore:",Ct),S("Failed to save wine. Please check your connection and Firebase setup.")}})()},J=it=>{(async()=>{const Ct=yd(Xu,"wines",String(it.id)),{id:_t,...C}=it;await z2(Ct,C),e(b=>b.map(D=>D.id===it.id?it:D)),$()})()},tt=it=>{_(it),f("editing")},$=()=>{f("closed"),p({}),_(null),S(null)},gt=it=>{(async()=>{const Ct=yd(Xu,"wines",String(it));await j2(Ct),e(_t=>_t.filter(C=>C.id!==it))})()},pt=ln.useMemo(()=>{let it=[...a];return i&&(it=it.filter(Tt=>Tt.name.toLowerCase().includes(i.toLowerCase())||Tt.notes.toLowerCase().includes(i.toLowerCase())||Tt.varietal.toLowerCase().includes(i.toLowerCase()))),it.sort((Tt,Ct)=>new Date(Ct.dateAdded).getTime()-new Date(Tt.dateAdded).getTime()),it},[a,i]);return F.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-gray-800",children:[F.jsxs("div",{className:"container mx-auto max-w-4xl p-4 sm:p-6 lg:p-8 pb-28",children:[F.jsx(ER,{}),F.jsx("main",{className:"mt-8",children:pt.length>0?F.jsx("div",{className:"mt-8 grid grid-cols-1 gap-6",children:pt.map(it=>F.jsx(AR,{wine:it,onDelete:gt,onEdit:tt},it.id))}):F.jsxs("div",{className:"mt-16 text-center text-gray-500",children:[F.jsx("p",{className:"text-xl",children:"No wines found."}),F.jsx("p",{className:"mt-2",children:"Try adjusting your search."})]})})]}),F.jsx(OR,{searchTerm:i,onSearchChange:r,onAddClick:()=>f("asking")}),F.jsx(DR,{modalState:o,onClose:$,onAddWine:q,onUpdateWine:J,onResearch:N,researchedData:d,editingWine:v,apiError:A})]})},K0=document.getElementById("root");if(!K0)throw new Error("Could not find root element to mount to");const MR=LT.createRoot(K0);MR.render(F.jsx(DT.StrictMode,{children:F.jsx(VR,{})}));
